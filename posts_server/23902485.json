post_cb({"23902485": {"CommentCount": "1", "ViewCount": "150", "PostTypeId": "1", "LastEditorUserId": "151292", "CreationDate": "2014-05-28T03:44:46.773", "LastActivityDate": "2014-05-28T05:20:45.170", "Title": "No error on missing return for inlined member (VS2013)", "AcceptedAnswerId": "23903299", "LastEditDate": "2014-05-28T05:20:45.170", "Id": "23902485", "Score": "2", "Body": "<p>The following code only throws a \"missing return value\" error for the outlined member, GetIN.  The inlined one throws no error.  If I use the method in the class I get an error for both.  This seems completely wrong to me.  Is there anything in the standard about the compiler ignoring things like return values for inlined methods?  (this is compiled with Visual Studio 2013)</p>\n<pre><code>class MyClass\n{\npublic :\n    MyClass()\n        : m_i(0)\n    {}\n    int GetI() { m_i++; }\n    int GetIN();\nprivate: \n    int m_i;\n};\n\nint main()\n{\n    return 0;\n}\n\nint MyClass::GetIN()\n{\n    m_i++;\n}\n</code></pre>\n", "Tags": "<c++><visual-c++><visual-studio-2013>", "OwnerUserId": "109731", "AnswerCount": "1"}, "23903299": {"ParentId": "23902485", "CommentCount": "0", "Body": "<p>C++11 \u00a76.6.3[stmt.return]/2 states:</p>\n<blockquote>\n<p id=\"so_23902485_23903299_0\">Flowing off the end of a function is equivalent to a return with no value; this results in undefined behavior in a value-returning function.</p>\n</blockquote>\n<p>The behavior is undefined, so the compiler is not required to diagnose the error.</p>\n<p>Why does the compiler not diagnose the error?  Because the function <code>GetI</code> is defined inline in the class definition, it is implicitly declared inline.  The compiler will only generate code for inline functions if they are actually used.  Your program does not use the <code>GetI</code> function, so the compiler generates no code for it, and thus the compiler does not detect the missing return statement.</p>\n<p>If you modified your program to use the <code>GetI</code> function, the compiler would have to generate code for the function and would then detect the missing return statement.</p>\n<p>The function <code>GetIN</code> is not inline, so the compiler must generate code for it because it is only defined in that one place.</p>\n", "OwnerUserId": "151292", "PostTypeId": "2", "Id": "23903299", "Score": "4", "CreationDate": "2014-05-28T05:17:15.393", "LastActivityDate": "2014-05-28T05:17:15.393"}, "bq_ids": {"n4140": {"so_23902485_23903299_0": {"section_id": 3913, "quality": 1.0, "length": 12}}, "n3337": {"so_23902485_23903299_0": {"section_id": 3773, "quality": 1.0, "length": 12}}, "n4659": {"so_23902485_23903299_0": {"section_id": 4799, "quality": 0.75, "length": 9}}}});