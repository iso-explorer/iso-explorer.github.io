post_cb({"14569958": {"ParentId": "14569690", "PostTypeId": "2", "CommentCount": "4", "Body": "<p>According to C99:</p>\n<blockquote>\n<p id=\"so_14569690_14569958_0\">6.2.5/13 Each complex type has the same representation and alignment requirements as an array\n  type containing exactly two elements of the corresponding real type; the first element is\n  equal to the real part, and the second element to the imaginary part, of the complex\n  number.</p>\n</blockquote>\n<p>and according to C++11:</p>\n<blockquote>\n<p id=\"so_14569690_14569958_1\">26.4 if <code>a</code> is an expression of type <code>cv* std::complex&lt;T&gt;*</code> and the expression <code>a[i]</code> is well-de\ufb01ned for an integer expression <code>i</code>, then:</p>\n</blockquote>\n<ul>\n<li><code>reinterpret_cast&lt;cv T*&gt;(a)[2*i]</code> shall designate the real part of <code>a[i]</code>, and</li>\n<li><code>reinterpret_cast&lt;cv T*&gt;(a)[2*i + 1]</code> shall designate the imaginary part of <code>a[i]</code></li>\n</ul>\n<p>Together, these mean that the two types have the same layout, so you can simply pass the C function a pointer to the array of <code>std::complex</code>.</p>\n<p>Note that older versions of C++ did not guarantee this layout.</p>\n", "OwnerUserId": "204847", "LastEditorUserId": "204847", "LastEditDate": "2013-01-29T12:11:22.650", "Id": "14569958", "Score": "4", "CreationDate": "2013-01-28T19:48:21.967", "LastActivityDate": "2013-01-29T12:11:22.650"}, "14569690": {"CommentCount": "2", "ViewCount": "190", "PostTypeId": "1", "ClosedDate": "2013-01-29T14:07:23.710", "LastEditorUserId": "-1", "LastActivityDate": "2013-01-29T12:11:22.650", "Body": "<blockquote>\n<p id=\"so_14569690_14569690_0\"><strong>Possible Duplicate:</strong><br>\n<a href=\"https://stackoverflow.com/questions/5020076/passing-a-c-complex-array-to-c\">Passing a C++ complex array to C</a> </br></p>\n</blockquote>\n<p>If a third party C library expects an array of C99 complex numbers as an argument, what is the easiest way to call it from C++, where my complex numbers use the STL complex type? I could just wrap it in a new c function that accepts floats and converts them to complex, but is there a more direct way to do it? </p>\n", "LastEditDate": "2017-05-23T11:58:22.627", "AcceptedAnswerId": "14569958", "Title": "Supply C99 complex arguments from C++", "Id": "14569690", "Score": "3", "CreationDate": "2013-01-28T19:31:37.327", "Tags": "<c++><c><c99>", "OwnerUserId": "429596", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_14569690_14569958_1": {"section_id": 3402, "quality": 0.7777777777777778, "length": 7}}, "n3337": {"so_14569690_14569958_1": {"section_id": 3271, "quality": 0.7777777777777778, "length": 7}}, "n4659": {"so_14569690_14569958_1": {"section_id": 4159, "quality": 0.6666666666666666, "length": 6}}}});