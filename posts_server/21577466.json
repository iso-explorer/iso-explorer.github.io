post_cb({"21577466": {"CommentCount": "4", "AcceptedAnswerId": "21577946", "PostTypeId": "1", "LastEditorUserId": "2684539", "CreationDate": "2014-02-05T12:34:58.467", "LastActivityDate": "2014-02-05T15:51:54.523", "LastEditDate": "2014-02-05T12:40:26.210", "ViewCount": "1589", "FavoriteCount": "1", "Title": "The order of override and noexcept in the standard", "Id": "21577466", "Score": "6", "Body": "<p>Is the order of override and noexcept required by the standard?</p>\n<pre><code>class Base\n{\npublic:\n  virtual void foo() {}\n};\n\nclass Derived : public Base\n{\npublic:\n  // virtual void foo() override {} // Ok\n  // virtual void foo() noexcept {} // Ok\n  // virtual void foo() noexcept override {} // Ok\n  virtual void foo() override noexcept {} // Error\n};\n\nint main() {}\n</code></pre>\n<p>I'm using gcc 4.7.2.</p>\n", "Tags": "<c++><c++11><language-lawyer>", "OwnerUserId": "1608835", "AnswerCount": "3"}, "21577900": {"ParentId": "21577466", "CommentCount": "0", "Body": "<p>In 8.3.5 [dcl.fct] we see:</p>\n<blockquote>\n<p id=\"so_21577466_21577900_0\">D1 ( parameter-declaration-clause ) cv-qualifier-seq opt\n  ref-qualifier opt exception-specification opt attribute-specifier-seq opt</p>\n</blockquote>\n<p>...and in 9.2 [class.mem] we see:</p>\n<blockquote>\n<p id=\"so_21577466_21577900_1\">declarator virt-specifier-seq opt pure-specifier opt</p>\n</blockquote>\n<p>This states that <code>override</code> and <code>final</code> have to come after <code>noexcept</code>.</p>\n", "OwnerUserId": "2491746", "PostTypeId": "2", "Id": "21577900", "Score": "4", "CreationDate": "2014-02-05T12:54:42.747", "LastActivityDate": "2014-02-05T12:54:42.747"}, "21577946": {"ParentId": "21577466", "CommentCount": "1", "Body": "<p>Actually, yes, it is, its just hard to find out, since its a bit scattered. Annex A (Grammar summary) is of some help here. Lets try to find the specific bits:</p>\n<pre><code>declarator:\n    ptr-declarator\n    noptr-declarator parameters-and-qualifiers trailing-return-type\n\nparameters-and-qualifiers:\n    ( parameter-declaration-clause ) attribute-specifier-seqopt cv-qualifier-seqopt\n    ref-qualifieropt exception-specificationot\n\nexception-specification:\n    dynamic-exception-specification\n    noexcept-specification\n\nnoexcept-specification:\n    noexcept ( constant-expression )\n    noexcept\n</code></pre>\n<p>and then later for override</p>\n<pre><code>member-declarator:\n    declarator virt-specifier-seqopt pure-specifieropt\n    declarator brace-or-equal-initializeropt\n    identifieropt attribute-specifier-seqopt: constant-expression\n\nvirt-specifier-seq:\n    virt-specifier\n    virt-specifier-seq virt-specifier\n\nvirt-specifier:\n    override\n    final\n</code></pre>\n<p>So a declarator is the thing that contains the noexcept keyword, but in the member-declarator the virt-specifier comes after the declarator.</p>\n", "OwnerUserId": "833362", "PostTypeId": "2", "Id": "21577946", "Score": "5", "CreationDate": "2014-02-05T12:56:35.507", "LastActivityDate": "2014-02-05T12:56:35.507"}, "bq_ids": {"n4140": {"so_21577466_21577912_0": {"section_id": 3197, "quality": 0.8, "length": 4}, "so_21577466_21577912_1": {"section_id": 3197, "quality": 1.0, "length": 4}, "so_21577466_21577912_2": {"section_id": 3197, "quality": 0.6666666666666666, "length": 6}}, "n3337": {"so_21577466_21577912_0": {"section_id": 3071, "quality": 0.8, "length": 4}, "so_21577466_21577912_1": {"section_id": 3071, "quality": 1.0, "length": 4}, "so_21577466_21577912_2": {"section_id": 3071, "quality": 0.6666666666666666, "length": 6}}, "n4659": {"so_21577466_21577912_0": {"section_id": 3959, "quality": 0.8, "length": 4}, "so_21577466_21577912_1": {"section_id": 3959, "quality": 1.0, "length": 4}, "so_21577466_21577912_2": {"section_id": 3959, "quality": 0.6666666666666666, "length": 6}}}, "21577912": {"ParentId": "21577466", "PostTypeId": "2", "CommentCount": "3", "Body": "<p>excerpts from [gram.decl]/A.7, emphasis mine</p>\n<blockquote>\n<p id=\"so_21577466_21577912_0\"><em><strong>declarator:</strong><br/>\n  \u00a0\u00a0 <strong>ptr-declarator</strong><br/>\n  \u00a0\u00a0 noptr-declarator parameters-and-qualifiers trailing-return-type<br/></em></p>\n<p id=\"so_21577466_21577912_1\"><em><strong>ptr-declarator:</strong><br/>\n  \u00a0\u00a0 <strong>noptr-declarator</strong><br/>\n  \u00a0\u00a0 ptr-operator ptr-declarator<br/></em></p>\n<p id=\"so_21577466_21577912_2\"><em><strong>noptr-declarator:</strong><br/> \u00a0\u00a0 declarator-id\n  attribute-specifier-seq<sub>opt</sub><br/> \u00a0\u00a0 noptr-declarator\n  <strong>parameters-and-qualifiers</strong><br/> \u00a0\u00a0 noptr-declarator [\n  constant-expression<sub>opt</sub> ] attribute-specifier-seq<sub>opt</sub><br/>\n  \u00a0\u00a0 ( ptr-declarator )<br/></em></p>\n<p id=\"so_21577466_21577912_3\"><em><strong>parameters-and-qualifiers:</strong><br/></em> <code>(</code> <em>parameter-declaration-clause</em> <code>)</code>\n<em>attribute-specifier-seq<sub>opt</sub>\n  cv-qualifier-seq<sub>opt</sub><br/> ref-qualifier<sub>opt</sub>\n<strong>exception-specification</strong><sub>opt</sub><br/></em></p>\n</blockquote>\n<p>[gram.class]/A.8, emphasis mine</p>\n<blockquote>\n<p id=\"so_21577466_21577912_4\"><em><strong>member-declarator:</strong><br/> \u00a0\u00a0 <strong>declarator virt-specifier-seq</strong><sub>opt</sub> pure-specifier<sub>opt</sub><br/>\n  \u00a0\u00a0 declarator brace-or-equal-initializer<sub>opt</sub><br/>\n  \u00a0\u00a0 identifier<sub>opt</sub> attribute-specifier-seq<sub>opt</sub></em> <code>:</code>\n<em>constant-expression</em><br/></p>\n<p id=\"so_21577466_21577912_5\"><em><strong>virt-specifier-seq:</strong><br/> \u00a0\u00a0 <strong>virt-specifier</strong><br/>\n  \u00a0\u00a0 virt-specifier-seq virt-specifier<br/></em></p>\n<p id=\"so_21577466_21577912_6\"><em><strong>virt-specifier:</strong></em></p></blockquote><br/> \u00a0\u00a0 <strong><code>override</code></strong><br/> \u00a0\u00a0\n  <code>final</code><br/>\n<p>That is, the <em>exception-specification</em> is part of the <em>declarator</em>, which comes before the <em>virt-specifier</em> in a <em>member-declarator</em>.</p>\n", "OwnerUserId": "420683", "LastEditorUserId": "420683", "LastEditDate": "2014-02-05T15:51:54.523", "Id": "21577912", "Score": "5", "CreationDate": "2014-02-05T12:55:14.623", "LastActivityDate": "2014-02-05T15:51:54.523"}});