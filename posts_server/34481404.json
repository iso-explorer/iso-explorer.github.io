post_cb({"34481431": {"ParentId": "34481404", "CommentCount": "0", "Body": "<p>Local variables should be deallocated when an exception is thrown as the <code>throw</code> clause returns the function to calling function.</p>\n<p>Consider that your function <code>some_function()</code> is called by <code>main()</code>. In this case the <code>throw</code> clause returns the function back to <code>main</code> there by deallocating the local variable declared in <code>some_function</code> </p>\n", "OwnerUserId": "5676104", "PostTypeId": "2", "Id": "34481431", "Score": "0", "CreationDate": "2015-12-27T14:35:11.950", "LastActivityDate": "2015-12-27T14:35:11.950"}, "34481418": {"ParentId": "34481404", "CommentCount": "0", "Body": "<p>Destructors of local objects are guaranteed to be invoked as part of <strong>stack unwinding</strong> if there is a handler for the exception.</p>\n<p>If there is no handler then it's up to the implementation:</p>\n\nC++11 \u00a715.5.1/2:\n\n<blockquote>\n<p id=\"so_34481404_34481418_0\"><strong>\u201d</strong> [\u2026] In the situation where no matching handler is found,\n  it is implementation-defined whether or not the stack is unwound before <code>std::terminate()</code> is called.</p>\n</blockquote>\n", "OwnerUserId": "464581", "PostTypeId": "2", "Id": "34481418", "Score": "3", "CreationDate": "2015-12-27T14:34:10.657", "LastActivityDate": "2015-12-27T14:34:10.657"}, "bq_ids": {"n4140": {"so_34481404_34481418_0": {"section_id": 3383, "quality": 0.9166666666666666, "length": 11}}, "n3337": {"so_34481404_34481418_0": {"section_id": 3252, "quality": 0.9166666666666666, "length": 11}}, "n4659": {"so_34481404_34481418_0": {"section_id": 4143, "quality": 0.9166666666666666, "length": 11}}}, "34481420": {"ParentId": "34481404", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Yes, they will be deallocated:</p>\n<ul>\n<li>First, their destructors, if any, are going to be invoked,</li>\n<li>Then their memory will be deallocated from the automatic storage area.</li>\n</ul>\n<p>The second part is commonly implemented by removing the stack frame in which the object is allocated.</p>\n<p>This feature is fundamental for implementing <a href=\"https://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization\" rel=\"nofollow\">RAII</a>, a technique for exception-safe resource management in C++. </p>\n<p><strong>Note:</strong> In case that there is no exception handler defined in your code the program is allowed to terminate without calling destructors, letting the operating system deal with the task of releasing the resources held by your program.</p>\n", "OwnerUserId": "335858", "LastEditorUserId": "335858", "LastEditDate": "2015-12-27T14:41:49.533", "Id": "34481420", "Score": "1", "CreationDate": "2015-12-27T14:34:25.170", "LastActivityDate": "2015-12-27T14:41:49.533"}, "34481404": {"CommentCount": "3", "ViewCount": "163", "PostTypeId": "1", "ClosedDate": "2015-12-27T14:37:49.850", "LastEditorUserId": "464581", "CreationDate": "2015-12-27T14:31:27.070", "LastActivityDate": "2015-12-27T14:41:49.533", "LastEditDate": "2015-12-27T14:34:43.950", "AcceptedAnswerId": "34481420", "OwnerDisplayName": "user5494228", "Title": "C++ - Do local objects deallocate if an exception is thrown?", "Id": "34481404", "Score": "0", "Body": "<p>I wanted to know if objects allocated in a stack get deallocated when an exception is thrown.</p>\n<p>For example, in a function:</p>\n<pre><code>void some_function()\n{\n    int i;\n    std::string str;\n\n    throw std::runtime_error{\"Some error\"};\n}\n</code></pre>\n", "Tags": "<c++><exception>", "AnswerCount": "3"}});