post_cb({"41753308": {"CommentCount": "2", "AcceptedAnswerId": "41781945", "LastEditDate": "2017-05-23T12:10:29.303", "LastEditorUserId": "-1", "CreationDate": "2017-01-19T23:01:46.613", "LastActivityDate": "2017-05-17T21:37:46.460", "PostTypeId": "1", "ViewCount": "383", "Title": "C++11: is std::locale::empty() even a thing?", "Id": "41753308", "OwnerUserId": "5112564", "Body": "<p>Trying to compile <a href=\"https://stackoverflow.com/a/10607146/5112564\">some code</a> from StackOverflow, basically, these lines:</p>\n<pre><code>std::wifstream wif(filename);\nwif.imbue(std::locale(std::locale::empty(), new std::codecvt_utf8&lt;wchar_t&gt;));\n</code></pre>\n<p>GCC version: <code>gcc (Ubuntu 5.4.0-6ubuntu1~16.04.4) 5.4.0</code></p>\n<p>I get a compile error:</p>\n<blockquote>\n<p id=\"so_41753308_41753308_0\">'empty' is not a member of 'std::locale'</p>\n</blockquote>\n<p>And I agree with the compiler, checked with documentation like <a href=\"http://en.cppreference.com/w/cpp/locale/locale\" rel=\"nofollow noreferrer\">cppreference</a> - there is no info about such thing. Header files as well do not show anything.</p>\n<p>I wonder, if this is just me or the sample code from another topic...</p>\n<p>Can it be a MSVC feature? (the sample code I used is from the question related to Windows)</p>\n", "Tags": "<c++><c++11><locale>", "Score": "2", "AnswerCount": "1"}, "41781945": {"ParentId": "41753308", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>This is a platform-specific extension to the locale class, and it is described in <a href=\"https://msdn.microsoft.com/en-us/en-en/library/1w3527e2(v=VS.71).aspx\" rel=\"nofollow noreferrer\">MSVC documentation</a>:</p>\n<blockquote>\n<p id=\"so_41753308_41781945_0\">In this implementation, you can also call the static member function:</p>\n<pre><code>static locale empty( );\n</code></pre>\n<p id=\"so_41753308_41781945_1\">to construct a <code>locale</code> object that has no facets. It is also a transparent locale; if the template functions <code>has_facet</code> and <code>use_facet</code> cannot find the requested facet in a transparent locale, they consult first the global locale and then, if that is transparent, the classic locale.</p>\n</blockquote>\n", "OwnerUserId": "5112564", "LastEditorUserId": "4850040", "LastEditDate": "2017-05-17T21:37:46.460", "Id": "41781945", "Score": "2", "CreationDate": "2017-01-21T16:50:13.093", "LastActivityDate": "2017-05-17T21:37:46.460"}, "bq_ids": {"n4659": {"so_41753308_41781945_0": {"section_id": 7225, "quality": 0.625, "length": 5}}}});