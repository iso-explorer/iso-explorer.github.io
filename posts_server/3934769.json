post_cb({"3934969": {"Id": "3934969", "PostTypeId": "2", "Body": "<p>The <code>main</code> function is supposed to return an int. Not doing that means you're out in undefined territory. Don't forget to wave at the standard on your way past. Your char return probably works because char can be easily converted to an int. Doubles can certainly not. Not only are they longer (double the length) but they're floating point, which means you'll have 1s in wonky places.</p>\n<p>Short answer: don't do that.</p>\n", "LastActivityDate": "2010-10-14T15:40:26.167", "CommentCount": "0", "CreationDate": "2010-10-14T15:40:26.167", "ParentId": "3934769", "Score": "1", "OwnerUserId": "391531"}, "3934803": {"Id": "3934803", "PostTypeId": "2", "Body": "<p>Yet another MSVC extension/bug!</p>\n", "LastEditorUserId": "469935", "LastActivityDate": "2010-10-14T15:46:56.900", "Score": "3", "CreationDate": "2010-10-14T15:25:41.430", "ParentId": "3934769", "CommentCount": "11", "OwnerUserId": "469935", "LastEditDate": "2010-10-14T15:46:56.900"}, "3934816": {"Id": "3934816", "PostTypeId": "2", "Body": "<p>The value returned from the main function becomes the exit status of the process, though the C standard only ascribes specific meaning to two values: EXIT_SUCCESS (traditionally zero) and EXIT_FAILURE. The meaning of other possible return values is implementation-defined. However there is no standard for how non-zero codes are interpreted. </p>\n<p>You may refer to an useful post:</p>\n<p><a href=\"https://stackoverflow.com/questions/204476/what-should-main-return-in-c-c\">What should main() return in C and C++?</a></p>\n", "LastEditorUserId": "-1", "LastActivityDate": "2010-10-14T15:26:49.880", "Score": "4", "CreationDate": "2010-10-14T15:26:49.880", "ParentId": "3934769", "CommentCount": "1", "OwnerUserId": "281843", "LastEditDate": "2017-05-23T10:33:05.250"}, "bq_ids": {"n4140": {"so_3934769_3938789_0": {"length": 11, "quality": 0.7857142857142857, "section_id": 7146}}, "n3337": {"so_3934769_3938789_0": {"length": 11, "quality": 0.7857142857142857, "section_id": 6890}}, "n4659": {"so_3934769_3938789_0": {"length": 11, "quality": 0.7857142857142857, "section_id": 8647}}}, "3935098": {"Id": "3935098", "PostTypeId": "2", "Body": "<p>It is probably because char will implicitly cast to an int, however double won't as there would be data loss.</p>\n<p>(See here: <a href=\"http://msdn.microsoft.com/en-us/library/y5b434w4%28v=VS.71%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/y5b434w4%28v=VS.71%29.aspx</a> for more info)</p>\n<p>However you don't see the conversion problem because the compiler catches the worst sin (as stated in the other answers) of using a non standard return type.</p>\n", "LastActivityDate": "2010-10-14T15:54:17.893", "CommentCount": "0", "CreationDate": "2010-10-14T15:54:17.893", "ParentId": "3934769", "Score": "1", "OwnerUserId": "32739"}, "3934932": {"Id": "3934932", "PostTypeId": "2", "Body": "<p>The answer to your first question is sort of yes.  A char is essentially a very small integral type, so the compiler is being (extremely) lenient.  Double isn't acceptable because it's not an integral type.  The 0xCCCCCC is memory that never got initialized (except for the purposes of debugging).  Since ASCII characters can only have two hex digits, the conversion failed to set the first 24 bits at all (and just set the last 8 bits to 0).  What an odd and undesirable compiler trick.</p>\n", "LastEditorUserId": "214146", "LastActivityDate": "2010-10-14T19:59:23.970", "Score": "2", "CreationDate": "2010-10-14T15:37:21.633", "ParentId": "3934769", "CommentCount": "3", "OwnerUserId": "214146", "LastEditDate": "2010-10-14T19:59:23.970"}, "3934769": {"ViewCount": "788", "Body": "<p>I am using Visual studio 2008.\nFor below code</p>\n<pre><code>double main()\n{\n}\n</code></pre>\n<p>I get error: </p>\n<blockquote>\n<p id=\"so_3934769_3934769_0\">error C3874: return type of 'main'\n  should be 'int' instead of 'double'</p>\n</blockquote>\n<p>But if i use below code</p>\n<pre><code>char main()\n{\n}\n</code></pre>\n<p>No errors.\nAfter running and exiting the output window displays</p>\n<blockquote>\n<p id=\"so_3934769_3934769_1\">The program '[5856] test2.exe: Native'\n  has exited with code -858993664\n  (0xcccccc00).</p>\n</blockquote>\n<p>Question: Is compiler doing implicit cast from default return value of zero(integer) to char ?</p>\n<p>how the code 0xcccccc00 got generated ?</p>\n<p>Looks like last byte in that code seem to be the actual returned value. Why 0xcccccc is coming ?</p>\n", "AcceptedAnswerId": "3934932", "Title": "how casting of return value of main() function works?", "CreationDate": "2010-10-14T15:21:18.647", "Id": "3934769", "CommentCount": "5", "FavoriteCount": "0", "PostTypeId": "1", "LastEditDate": "2010-10-15T00:37:57.313", "LastEditorUserId": "281843", "LastActivityDate": "2010-10-15T01:19:17.760", "Score": "1", "OwnerUserId": "426051", "Tags": "<c++><c>", "AnswerCount": "7"}, "3934779": {"Id": "3934779", "PostTypeId": "2", "Body": "<p>The correct way to do it, per the C++ standard is:</p>\n<pre><code>int main()\n{\n...\n}\n</code></pre>\n<p>Don't change the return type to anything else or your code will not be C++ and you're just playing with compiler specific functionality. Those ccccc values in your example are just unitialized bytes (which the C allocator sets to 0xCC) being returned.</p>\n", "LastActivityDate": "2010-10-14T15:23:05.050", "CommentCount": "3", "CreationDate": "2010-10-14T15:23:05.050", "ParentId": "3934769", "Score": "5", "OwnerUserId": "473798"}, "3938789": {"Id": "3938789", "PostTypeId": "2", "Body": "<blockquote>\n<p id=\"so_3934769_3938789_0\">About main function, $3.6.1/2 - \"It\n  shall have a return type of type int,\n  but otherwise its type is\n  implementation-defined.\"</p>\n</blockquote>\n<p>As I understand, anything that mentions 'shall' in the standard document AND is not ahdered to by the code is an instant condition required to be diagnosed by the compiler, unless the Standard specifically says that such diagnosis is not required.</p>\n<p>So I guess VS has a bug if it allows such a code.</p>\n", "LastActivityDate": "2010-10-15T01:19:17.760", "CommentCount": "0", "CreationDate": "2010-10-15T01:19:17.760", "ParentId": "3934769", "Score": "2", "OwnerUserId": "418110"}});