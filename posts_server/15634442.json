post_cb({"15634510": {"ParentId": "15634442", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>First of all, the code is not valid C++ since there are no <a href=\"http://en.wikipedia.org/wiki/Variable-length_array\" rel=\"nofollow\">variable-length arrays</a> (VLAs) in C++. They are a C feature. Your C++ compiler supports them as a non-standard extension. Use <code>-Wvla</code> or <code>-pedantic</code> to get a warning:</p>\n<pre><code>warning: ISO C++ forbids variable length array 'array' [-Wvla]\n</code></pre>\n<p>Secondly, the <code>sizeof()</code> operator is no longer a compile-time construct when applied to C VLAs. The C standard hints at this in <strong>\u00a76.5.3.4 The <code>sizeof</code> operator</strong>:</p>\n<blockquote>\n<p id=\"so_15634442_15634510_0\">If the type of the operand is a variable length array\n  type, the operand is evaluated; otherwise, the operand is not evaluated and the result is an\n  integer constant.</p>\n</blockquote>\n", "OwnerUserId": "367273", "LastEditorUserId": "367273", "LastEditDate": "2013-03-26T10:25:28.930", "Id": "15634510", "Score": "5", "CreationDate": "2013-03-26T10:18:16.943", "LastActivityDate": "2013-03-26T10:25:28.930"}, "bq_ids": {"n4659": {"so_15634442_15634510_0": {"section_id": 6103, "quality": 0.5714285714285714, "length": 8}}}, "15634442": {"CommentCount": "7", "AcceptedAnswerId": "15634510", "LastEditDate": "2013-03-26T10:21:32.560", "LastEditorUserId": "1356110", "CreationDate": "2013-03-26T10:15:22.917", "LastActivityDate": "2013-03-26T10:25:28.930", "PostTypeId": "1", "ViewCount": "685", "Title": "C++ static arrays and sizeof operator", "Id": "15634442", "OwnerUserId": "1356110", "Body": "<p>As I know <code>sizeof</code> is compile time operator, so why does this code compile and run correctly without any warnings?</p>\n<pre><code>#include &lt;iostream&gt;\n\n    int main() {    \n        int size;\n        std::cin &gt;&gt; size;\n        int array[size];\n        std::cout &lt;&lt; sizeof(array) / sizeof(int) &lt;&lt; std::endl;\n    }\n\n\n\ng++ -v\nReading specs from /usr/lib/gcc/x86_64-redhat-linux/3.4.6/specs\nConfigured with: ../configure --prefix=/usr --mandir=/usr/share/man --infodir=/usr/share/info --enable-shared --enable-threads=posix --disable-checking --with-system-zlib --enable-__cxa_atexit --disable-libunwind-exceptions --enable-java-awt=gtk --host=x86_64-redhat-linux\nThread model: posix\ngcc version 3.4.6 20060404 (Red Hat 3.4.6-9)\n</code></pre>\n", "Tags": "<c++><arrays><static><sizeof>", "Score": "0", "AnswerCount": "1"}});