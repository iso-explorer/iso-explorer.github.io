post_cb({"bq_ids": {"n4140": {"so_23333949_23336823_0": {"length": 14, "quality": 1.0, "section_id": 3255}}, "n3337": {"so_23333949_23336823_0": {"length": 14, "quality": 1.0, "section_id": 3127}}, "n4659": {"so_23333949_23336823_0": {"length": 14, "quality": 1.0, "section_id": 4013}}}, "23333949": {"ViewCount": "2039", "Body": "<p>I want to specify a default value for a friend function, as follows:</p>\n<p><code>friend Matrix rot90 (const Matrix&amp; a, int k = 1);</code></p>\n<p>When compiling this line with Xcode 5.1.1, I get the following error</p>\n<p><code>./Matrix.hh:156:19: error: friend declaration specifying a default argument must be a definition</code></p>\n<p>What is the proper way of fixing it?</p>\n<p>Thanks!</p>\n", "AcceptedAnswerId": "23336823", "Title": "The correct way to define default argument for a friend function in C++", "CreationDate": "2014-04-28T06:26:40.583", "Id": "23333949", "CommentCount": "4", "FavoriteCount": "1", "PostTypeId": "1", "LastEditDate": "2014-04-28T08:55:50.223", "LastEditorUserId": "3580125", "LastActivityDate": "2014-04-28T09:11:02.067", "Score": "5", "OwnerUserId": "3580125", "Tags": "<c++><c++11><xcode5>", "AnswerCount": "1"}, "23336823": {"Id": "23336823", "PostTypeId": "2", "Body": "<p>The standard says (\u00a78.3.6):</p>\n<blockquote>\n<p id=\"so_23333949_23336823_0\">If a friend declaration specifies a default argument expression, that\n  declaration shall be a definition and shall be the only declaration of\n  the function or function template in the translation unit.</p>\n</blockquote>\n<p>That is, if you specify the default argument on the <code>friend</code> declaration, you must also define the function right then and there. If you don't want to do that, remove the default argument there and add a separate declaration for the function that specifies the default arguments.</p>\n<pre><code>// forward declarations:\nclass Matrix;\nMatrix rot90 (const Matrix&amp; a, int k = 1);\n\nclass Matrix {\n    friend Matrix rot90 (const Matrix&amp;, int); //no default values here\n};\n</code></pre>\n", "LastEditorUserId": "577603", "LastActivityDate": "2014-04-28T09:11:02.067", "Score": "7", "CreationDate": "2014-04-28T09:03:57.893", "ParentId": "23333949", "CommentCount": "3", "OwnerUserId": "577603", "LastEditDate": "2014-04-28T09:11:02.067"}});