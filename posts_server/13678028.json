post_cb({"13678057": {"ParentId": "13678028", "CommentCount": "2", "Body": "<p>Try including the header file outside of the main method. Like this.</p>\n<pre><code>#include &lt;stdio.h&gt;\nint main()\n{\n printf(\"hello , world \\n\");\n return 0;\n}\n</code></pre>\n", "OwnerUserId": "1871440", "PostTypeId": "2", "Id": "13678057", "Score": "-2", "CreationDate": "2012-12-03T06:10:02.780", "LastActivityDate": "2012-12-03T06:10:02.780"}, "13678176": {"ParentId": "13678028", "CommentCount": "1", "Body": "<p>In C++11: 17.6.2.2/3:</p>\n<blockquote>\n<p id=\"so_13678028_13678176_0\">A translation unit shall include a header only outside of any external declaration or definition, and shall\n  include the header lexically before the first reference in that translation unit to any of the entities declared\n  in that header.</p>\n</blockquote>\n<p><code>main()</code> is extern, so is not a proper context for include.</p>\n", "OwnerUserId": "410767", "PostTypeId": "2", "Id": "13678176", "Score": "2", "CreationDate": "2012-12-03T06:22:59.673", "LastActivityDate": "2012-12-03T06:22:59.673"}, "13678028": {"CommentCount": "13", "ViewCount": "145", "PostTypeId": "1", "LastEditorUserId": "964135", "CreationDate": "2012-12-03T06:07:07.580", "LastActivityDate": "2012-12-03T06:44:23.693", "Title": "What type of behaviour is this?", "LastEditDate": "2012-12-03T06:16:21.347", "Id": "13678028", "Score": "0", "Body": "<p><strong>This question is looking for a standardese quote explicitly explaining why this behavior is wrong.</strong></p>\n<p>The code below including <code>&lt;stdio.h&gt;</code> inside <code>main</code> ,</p>\n<pre><code>int main()\n{\n #include &lt;stdio.h&gt;\n printf(\"hello , world \\n\");\n return 0;\n}\n</code></pre>\n<p>On <code>gcc -Wall in.c -o in.out</code> It successfully compiles and prints <code>hello , world</code>.</p>\n<p>But on <code>clang in.c -o in.out</code> It gives me this error :</p>\n<pre><code>/usr/include/stdio.h:353:12: error: implicit declaration of 'fprintf' requires \n\ninclusion of the header &lt;stdio.h&gt;\nextern int fprintf (FILE *__restrict __stream,\n           ^\n1 error generated.\n</code></pre>\n<p>My doubt is what kind of behaviour is this ? Is this undefined behaviour or what ?</p>\n<p>Also I am not able to find the documentation related to it.</p>\n<p>EDIT : The problem is that I found this code somewhere similar to it but I can't post that code exactly so I posted this kind of Demo code.I know the Placing <code>stdio.h</code> outside the main.</p>\n", "Tags": "<c++><c><gcc><clang>", "OwnerUserId": "270060", "AnswerCount": "3"}, "13678121": {"ParentId": "13678028", "LastEditDate": "2012-12-03T06:36:38.960", "CommentCount": "5", "CreationDate": "2012-12-03T06:16:37.053", "OwnerUserId": "1848654", "LastEditorUserId": "1848654", "PostTypeId": "2", "Id": "13678121", "Score": "5", "Body": "<p>C99, 7.1.2/4:</p>\n<blockquote>\n<p id=\"so_13678028_13678121_0\">[...] If\n  used, a header shall be included outside of any external declaration or definition, and it\n  shall first be included before the first reference to any of the functions or objects it\n  declares, or to any of the types or macros it defines.</p>\n</blockquote>\n<p>4/2:</p>\n<blockquote>\n<p id=\"so_13678028_13678121_1\">If a \u2018\u2018shall\u2019\u2019 or \u2018\u2018shall not\u2019\u2019 requirement that appears outside of a constraint is violated, the\n  behavior is undefined.</p>\n</blockquote>\n<p>6.9/4:</p>\n<blockquote>\n<p id=\"so_13678028_13678121_2\">As discussed in 5.1.1.1, the unit of program text after preprocessing is a translation unit,\n  which consists of a sequence of external declarations. These are described as \u2018\u2018external\u2019\u2019\n  because they appear outside any function (and hence have file scope).</p>\n</blockquote>\n<p>So I think this is undefined behavior.</p>\n", "LastActivityDate": "2012-12-03T06:36:38.960"}, "bq_ids": {"n4140": {"so_13678028_13678176_0": {"section_id": 6270, "quality": 1.0, "length": 19}}, "n3337": {"so_13678028_13678176_0": {"section_id": 6030, "quality": 1.0, "length": 19}}, "n4659": {"so_13678028_13678176_0": {"section_id": 7776, "quality": 0.9473684210526315, "length": 18}}}});