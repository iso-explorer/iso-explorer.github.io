post_cb({"bq_ids": {"n4140": {"so_22268667_22268729_1": {"length": 12, "quality": 1.0, "section_id": 3913}}, "n3337": {"so_22268667_22268729_1": {"length": 12, "quality": 1.0, "section_id": 3773}}, "n4659": {"so_22268667_22268729_1": {"length": 9, "quality": 0.75, "section_id": 4799}}}, "22268705": {"Id": "22268705", "PostTypeId": "2", "Body": "<p>It's okay to not have a <code>return</code> statement in a function, if it returns <code>void</code>. However, for a function <em>not</em> returning <code>void</code> it's always undefined behavior to not have a valid return value from any execution path.</p>\n<p>So in your case, you need a <code>return</code> with a value after the <code>switch</code>.</p>\n<p>Note that you don't need a <code>default</code> case if you list all the possible cases in the <code>switch</code> statement.</p>\n", "LastActivityDate": "2014-03-08T11:29:11.083", "CommentCount": "1", "CreationDate": "2014-03-08T11:29:11.083", "ParentId": "22268667", "Score": "0", "OwnerUserId": "440558"}, "22268729": {"Id": "22268729", "PostTypeId": "2", "Body": "<p>In your case, the return value of <code>fun</code> is not <code>void</code>, so, yes, it's undefined behavior.</p>\n<blockquote>\n<p id=\"so_22268667_22268729_0\">C++11 6.6.3 The <code>return</code> statement</p>\n<p id=\"so_22268667_22268729_1\">[...]  Flowing off the end of a function is equivalent to a return with no value; this results in undefined behavior in a value-returning function.</p>\n</blockquote>\n", "LastActivityDate": "2014-03-08T11:30:51.563", "CommentCount": "1", "CreationDate": "2014-03-08T11:30:51.563", "ParentId": "22268667", "Score": "1", "OwnerUserId": "1009479"}, "22268720": {"Id": "22268720", "PostTypeId": "2", "Body": "<p>Reason is that you have called your <code>fun</code> function with incorrect value, not Red, Blue or Green. You can change your code to</p>\n<pre><code>int fun(Colors color)\n{\n    switch (color)\n    {\n        case Colors::Red: return 0;\n        case Colors::Blue: return 1;\n        case Colors::Green: return 2;\n        default: return -1; // Unknown color here!\n    }\n}\n</code></pre>\n", "LastActivityDate": "2014-03-08T11:30:19.283", "CommentCount": "0", "CreationDate": "2014-03-08T11:30:19.283", "ParentId": "22268667", "Score": "1", "OwnerUserId": "3140927"}, "22268667": {"ViewCount": "834", "Body": "<p>For this code:</p>\n<pre><code>enum class Colors { Red, Green, Blue };\n\nint fun(Colors color)\n{\n    switch (color)\n    {\n        case Colors::Red: return 0;\n        case Colors::Blue: return 1;\n        case Colors::Green: return 2;\n    }\n}\n</code></pre>\n<p>My compiler threw this error at me:</p>\n<pre><code>warning: control reaches end of non-void function [-Wreturn-type]\n</code></pre>\n<p>I know it is undefined behavior to have no return statement in a function, but is it undefined behavior to not have a return statement for all control paths? Thanks in advance.</p>\n", "AcceptedAnswerId": "22268729", "Title": "Control reaches end of non-void function undefined behavoir", "CreationDate": "2014-03-08T11:26:21.600", "Id": "22268667", "CommentCount": "5", "PostTypeId": "1", "LastActivityDate": "2014-03-08T11:30:51.563", "Score": "1", "OwnerUserId": "3395918", "Tags": "<c++><enums><return><switch-statement><undefined-behavior>", "AnswerCount": "3"}});