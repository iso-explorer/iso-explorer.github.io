post_cb({"44380123": {"CommentCount": "0", "ViewCount": "200", "PostTypeId": "1", "LastEditorUserId": "1698548", "CreationDate": "2017-06-06T01:38:06.530", "LastActivityDate": "2017-08-25T20:06:24.383", "Title": "C++ What is the role of std::ctype<char>::widen()?", "LastEditDate": "2017-06-06T19:51:20.533", "Id": "44380123", "Score": "10", "Body": "<p>According to the C++ standard (\u00a730.7.5.2.4 of C++17 draft (N4659)), <code>out &lt;&lt; ch</code> will not perform a widening operation on <code>ch</code>, if <code>ch</code> is a <code>char</code> and <code>out</code> is a <code>std::ostream</code>.</p>\n<p>Does this imply that <code>std::ctype&lt;char&gt;::widen()</code> (i.e., <code>char</code> -&gt; <code>char</code>) is guaranteed by the standard to be an identity function (<code>widen(ch) == ch</code>) for all characters in the basic source character set?</p>\n<p>If so, does this, in turn, imply that all locales are required by the standard to use the same non-wide (or multi-byte) encoding of characters from the basic source character set?</p>\n<p>If not, it seems like <code>out &lt;&lt; 'x'</code>, with a particular choice of character encoding for literals, might not work in all locales, even when it works in some. That is, there might be no choice of character literal encoding, such  that <code>out &lt;&lt; 'x'</code> works in all locales simultaneously.</p>\n", "Tags": "<c++><stl><locale><language-lawyer><ostream>", "OwnerUserId": "1698548", "AnswerCount": "1"}, "45888708": {"ParentId": "44380123", "CommentCount": "0", "Body": "<p>No, it just says that in the case of</p>\n<pre><code>template&lt;class traits&gt;\nbasic_ostream&lt;char, traits&gt;&amp; operator&lt;&lt;(basic_ostream&lt;char, traits&gt;&amp; out, char c);\n</code></pre>\n<p>where both the stream and the <code>&lt;&lt;</code> operator trades in the same <code>char</code> type there is no conversion. </p>\n<blockquote>\n<p id=\"so_44380123_45888708_0\">If <code>c</code> has type <code>char</code> and the character type of the stream is not <code>char</code>, then seq consists of\n  <code>out.widen(c)</code>; otherwise seq consists of <code>c</code>.</p>\n</blockquote>\n<p>In all other cases the locale is used to optionally transform the character with no restrictions on what the locales might do.</p>\n", "OwnerUserId": "597607", "PostTypeId": "2", "Id": "45888708", "Score": "1", "CreationDate": "2017-08-25T20:06:24.383", "LastActivityDate": "2017-08-25T20:06:24.383"}, "bq_ids": {"n4140": {"so_44380123_45888708_0": {"section_id": 2303, "quality": 1.0, "length": 13}}, "n3337": {"so_44380123_45888708_0": {"section_id": 2290, "quality": 0.6923076923076923, "length": 9}}, "n4659": {"so_44380123_45888708_0": {"section_id": 2577, "quality": 1.0, "length": 13}}}});