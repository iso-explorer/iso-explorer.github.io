post_cb({"3848453": {"ParentId": "3848429", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Your <code>copy c-tor</code> and <code>assignment operator</code> [of <code>Pattern</code> class] takes parameters as <code>non-const</code> reference .</p>\n<p><code>creator&lt;double&gt;()</code> generates a temporary(object) and temporaries cannot be bound to non-const references. So you get those errors.</p>\n<p>ISO C++03 [<code>8.5.3/5</code>]</p>\n<blockquote>\n<p id=\"so_3848429_3848453_0\">Otherwise, the reference shall be to a non-volatile const type (i.e., <strong>cv1 shall be const</strong>).<br>\n  [Example:</br></p>\n<p id=\"so_3848429_3848453_1\">double&amp; rd2 = 2.0;  //error: not an lvalue and reference not const</p>\n</blockquote>\n<p>Try passing the parameters (of copy c-tor and assignment operator) as <code>const</code> references.</p>\n", "OwnerUserId": "165520", "LastEditorUserId": "165520", "LastEditDate": "2010-10-03T03:46:01.460", "Id": "3848453", "Score": "1", "CreationDate": "2010-10-03T03:31:28.127", "LastActivityDate": "2010-10-03T03:46:01.460"}, "3848461": {"ParentId": "3848429", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Change as follows:</p>\n<pre><code>Pattern(Pattern const &amp;copy): element(copy.element){ \n</code></pre>\n<p>RValues (such as those returned by creator function instantiation) can bind only to 'reference to const' in C++03.</p>\n<p>BTW, something gives me a feeling that you expected the second line in your main to invoke the assignment operator. This is not correct. This statement despite it's appearances invokes the copy constructor to create pt2.</p>\n<p>EDIT 2:</p>\n<blockquote>\n<p id=\"so_3848429_3848461_0\">$8.5/14- \"The initialization that\n  occurs in the form </p>\n<p id=\"so_3848429_3848461_1\">T x = a; </p>\n<p id=\"so_3848429_3848461_2\">as well as\n  in argument passing, function return,\n  throwing an exception (15.1), handling\n  an exception (15.3), and aggregate\n  member initialization (8.5.1) is\n  called copy-initialization.\"</p>\n</blockquote>\n", "OwnerUserId": "418110", "LastEditorUserId": "418110", "LastEditDate": "2010-10-03T13:29:51.067", "Id": "3848461", "Score": "2", "CreationDate": "2010-10-03T03:32:51.410", "LastActivityDate": "2010-10-03T13:29:51.067"}, "bq_ids": {"n4140": {"so_3848429_3848453_0": {"section_id": 3321, "quality": 0.75, "length": 6}, "so_3848429_3848461_2": {"section_id": 3294, "quality": 0.7647058823529411, "length": 13}}, "n3337": {"so_3848429_3848453_0": {"section_id": 3191, "quality": 0.75, "length": 6}, "so_3848429_3848461_2": {"section_id": 3164, "quality": 0.7647058823529411, "length": 13}}, "n4659": {"so_3848429_3848453_0": {"section_id": 4087, "quality": 0.75, "length": 6}, "so_3848429_3848461_2": {"section_id": 4056, "quality": 0.7647058823529411, "length": 13}}}, "3848429": {"CommentCount": "1", "ViewCount": "224", "PostTypeId": "1", "LastEditorUserId": "418110", "CreationDate": "2010-10-03T03:21:24.687", "LastActivityDate": "2010-10-03T13:30:24.730", "Title": "no matching function in template class", "LastEditDate": "2010-10-03T13:30:24.730", "Id": "3848429", "Score": "5", "Body": "<p>I get no matching member function error when i try to compile this code on my mingw32 compiler</p>\n<pre><code>#include &lt;iostream&gt; \nusing std::cout;\ntemplate &lt;class T&gt;\nclass Pattern\n{\npublic:\n    Pattern(): element(){\n\n        cout&lt;&lt; \"default c-tor\";\n        }\n\n    Pattern(Pattern &amp;copy): element(copy.element){\n\n        cout&lt;&lt; \"copy c-tor\";\n\n        }\n\n    Pattern&amp; operator=(Pattern &amp;assgn)\n    {\n        cout&lt;&lt;\" assignment operator\";\n       element = assgn.element;\n       return *this;\n    }\n\n    ~Pattern(){\n\n        cout&lt;&lt;\"destructor\";\n\n        }\n\nprivate:\n     T element;\n};\n\ntemplate &lt;class T&gt;\nPattern&lt;T&gt; creator()\n{\n   cout&lt;&lt; \"Testing creator\";\n   Pattern&lt;T&gt; pat;\n   return pat;\n}\n\nint main()\n{\n   Pattern&lt;double&gt; pt1(creator&lt;double&gt;());\n   Pattern&lt;double&gt; pt2 = creator&lt;double&gt;();\n}\n</code></pre>\n<p>Somebody please tell me how to solve the problem.</p>\n", "Tags": "<c++><templates><member-functions><copy-initialization>", "OwnerUserId": "464959", "AnswerCount": "2"}});