post_cb({"bq_ids": {"n4140": {"so_28859452_28859535_0": {"length": 14, "quality": 0.7368421052631579, "section_id": 3298}}, "n3337": {"so_28859452_28859535_0": {"length": 18, "quality": 0.9473684210526315, "section_id": 3168}}, "n4659": {"so_28859452_28859535_0": {"length": 10, "quality": 0.5263157894736842, "section_id": 4063}}}, "28859535": {"Id": "28859535", "PostTypeId": "2", "Body": "<p>You can aggregate-initialise any aggregate, whether or not it's POD. C++11 defines an aggregate thusly:</p>\n<blockquote>\n<p id=\"so_28859452_28859535_0\">[dcl.init.aggr] An <em>aggregate</em> is an array or a class with no user-provided constructors, no brace-or-equal-initializers for non-static data members, no private or protected non-static data members, no base classes, and no virtual functions</p>\n</blockquote>\n<p>and your class meets that description.</p>\n<p>C++14 relaxes the restrictions on aggregates, removing \"no brace-or-equal-initializers for non-static data members\"; that doesn't affect this question.</p>\n<p>Note that your class is also POD; simply having a member function doesn't disqualify it. But being POD is largely unrelated to whether or not it's an aggregate.</p>\n", "LastEditorUserId": "204847", "LastActivityDate": "2015-03-04T16:27:39.557", "Score": "2", "CreationDate": "2015-03-04T16:22:22.463", "ParentId": "28859452", "CommentCount": "0", "OwnerUserId": "204847", "LastEditDate": "2015-03-04T16:27:39.557"}, "28859452": {"ViewCount": "118", "Body": "<p>Is it legal to aggregate initialize non-POD class types in ISO C++?</p>\n<p>For example if we have a structure with a single method like this:</p>\n<pre><code>struct T\n{\n   operator double();\n\n   int a;\n\n   int b;\n} ;\n</code></pre>\n<p>And we initialize an instance of it:</p>\n<pre><code>T tObj { 56, 92 };\n</code></pre>\n<p>using aggregate initialization. Is this legal?</p>\n<p>Under Clang 3.7 it compiles fine although in VC++ 15 CTP 3 it doesn't.</p>\n<p>Any insights on the question and a quote from the standard please?</p>\n", "AcceptedAnswerId": "28859535", "Title": "Aggregate initialization of non-POD class types?", "CreationDate": "2015-03-04T16:19:09.093", "Id": "28859452", "CommentCount": "4", "PostTypeId": "1", "LastActivityDate": "2015-03-04T16:27:39.557", "Score": "0", "OwnerUserId": "4031604", "Tags": "<c++><initialization><iso>", "AnswerCount": "1"}});