post_cb({"34856453": {"ParentId": "34856298", "LastEditDate": "2016-01-18T14:27:12.387", "CommentCount": "4", "CreationDate": "2016-01-18T13:55:50.420", "OwnerUserId": "2173917", "LastEditorUserId": "2173917", "PostTypeId": "2", "Id": "34856453", "Score": "3", "Body": "<p>As I can see, in your code</p>\n<pre><code> y=y*2*c;\n</code></pre>\n<p><code>y</code> is used uninitialized. Being an automatic local variable, the initial value is indeterminate. So, both of your codes invoke <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow\">undefined behavior</a>.</p>\n<p>To quote the standard, chapter \u00a76.7.9, <em>Initialization</em></p>\n<blockquote>\n<p id=\"so_34856298_34856453_0\">If an object that has automatic storage duration is not initialized explicitly, its value is\n  indeterminate. [...]</p>\n</blockquote>\n<p>and, for undefined behavior, annex \u00a7J.2</p>\n<blockquote>\n<p id=\"so_34856298_34856453_1\">The value of an object with automatic storage duration is used while it is\n  indeterminate</p>\n</blockquote>\n<p>You need to initialize your automatic local variables, like</p>\n<pre><code>float x = 1, y = 2, c = 3, z = 4;  //values are for example purpose\n</code></pre>\n<p>and so on.</p>\n<p><strong><em>Moral of the story: Please turn on the compiler warnings and pay heed to them.</em></strong></p>\n", "LastActivityDate": "2016-01-18T14:27:12.387"}, "34856521": {"ParentId": "34856298", "LastEditDate": "2016-01-18T14:02:45.863", "CommentCount": "6", "CreationDate": "2016-01-18T13:59:05.883", "OwnerUserId": "5708620", "LastEditorUserId": "5708620", "PostTypeId": "2", "Id": "34856521", "Score": "0", "Body": "<p>In both cases, <code>y</code> is being used without initialisation:</p>\n<pre><code>float x,y,c,z;\ny=y*2*c;\n</code></pre>\n<p>This causes undefined behavior, and the compiler should warn about that (so make sure warnings are on and preferably at the highest level).</p>\n", "LastActivityDate": "2016-01-18T14:02:45.863"}, "bq_ids": {"n4140": {"so_34856298_34856453_1": {"section_id": 435, "quality": 0.625, "length": 5}, "so_34856298_34856453_0": {"section_id": 435, "quality": 0.6666666666666666, "length": 6}}, "n3337": {"so_34856298_34856453_1": {"section_id": 3161, "quality": 0.625, "length": 5}, "so_34856298_34856453_0": {"section_id": 5576, "quality": 0.6666666666666666, "length": 6}}, "n4659": {"so_34856298_34856453_1": {"section_id": 4053, "quality": 0.75, "length": 6}, "so_34856298_34856453_0": {"section_id": 4053, "quality": 0.7777777777777778, "length": 7}}}, "34856298": {"CommentCount": "0", "ViewCount": "85", "PostTypeId": "1", "LastEditorUserId": "2173917", "CreationDate": "2016-01-18T13:48:40.157", "LastActivityDate": "2016-01-18T14:27:12.387", "Title": "two programs with same code : floating point overflow", "AcceptedAnswerId": "34856453", "LastEditDate": "2016-01-18T14:05:06.823", "Id": "34856298", "Score": "2", "Body": "<p>I'm using DEV c++.\nand just faced a very weird problem. </p>\n<p>First here I copy the code of  my programs which is running fine.</p>\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;math.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;time.h&gt;\n\n#define f(x) 0.2027*sqrt(1-x*x)\n\nint main()\n{\n    int k=0;   //&lt;----the change is here \n    float x,y,c,z;\n\n    c=0.6366198;\n    do {\n\n        x=2*(rand()/(float)RAND_MAX)-1;                          \n\n        z=rand()/(float)RAND_MAX;\n        y=y*2*c;\n\n        if (y&lt;=f(x)) {\n            printf(\"%f\\t\",x);\n            k=k+1;\n        }\n    } while(k&lt;=100);         // &lt;--the change is here \n\n    getchar();\n}\n</code></pre>\n<p>Here if I change the while condition slightly to make the program a little more generic, in DEVc++ nothing's happening. I see only a 'blank page';</p>\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;math.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;time.h&gt;\n\n#define f(x) 0.2027*sqrt(1-x*x)\n\nint main()\n{\n    int k=0,t=100;   //&lt;----the change is here \n    float x,y,c,z;\n\n    c=0.6366198;\n\n    do {\n        x=2*(rand()/(float)RAND_MAX)-1;                          \n\n        z=rand()/(float)RAND_MAX;\n        y=y*2*c;\n\n        if (y&lt;=f(x)) {\n            printf(\"%f\\t\",x);\n            k=k+1;\n        }\n    } while(k&lt;=t);         // &lt;--the change is here \n\n    getchar();\n}\n</code></pre>\n<p>In turboc++ too same thing's happening. Just instead of showing a blank page like Devc++, it's showing floating point overflow. Why ?</p>\n", "Tags": "<c++><c><loops><floating-point><initialization>", "OwnerUserId": "5064827", "AnswerCount": "2"}});