post_cb({"34139882": {"CommentCount": "9", "ViewCount": "72", "PostTypeId": "1", "LastEditorUserId": "-1", "CreationDate": "2015-12-07T17:44:33.080", "LastActivityDate": "2016-01-13T21:48:00.453", "Title": "Is static deprecated when ensuring availability between translation units?", "AcceptedAnswerId": "34140653", "LastEditDate": "2017-05-23T12:15:20.657", "Id": "34139882", "Score": "3", "Body": "<p>From the following <a href=\"https://stackoverflow.com/a/3416755/908939\">stackoverflow answer</a>, the user says:  </p>\n<blockquote>\n<p id=\"so_34139882_34139882_0\">It means that the variable is local to a translation unit (simply put,\n  to a single source file), and cannot be accessed from outside it. This\n  use of static is in fact deprecated in the current C++ Standard -\n  instead you are supposed to use anonymous namespaces:</p>\n<pre><code>static int x = 0;\n</code></pre>\n<p id=\"so_34139882_34139882_1\">should be:</p>\n<pre><code>namespace {\n    int x = 0;    \n}\n</code></pre>\n</blockquote>\n<p>I don't disagree that anonymous namespaces are the preferred method,<br>\nbut is using static really deprecated now?<br>\nWhere does the standard say this?</br></br></p>\n", "Tags": "<c++><static><global-variables><unnamed-namespace><translation-unit>", "OwnerUserId": "908939", "AnswerCount": "1"}, "34140653": {"ParentId": "34139882", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>No, it is not currently deprecated. It was at one point but this was reversed due to C comparability issues. At some point before 1999 it was deprecated and this lead to <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_closed.html#174\" rel=\"nofollow\">defect report 174</a> which says:</p>\n<blockquote>\n<p id=\"so_34139882_34140653_0\">The decision to deprecate global static should be reversed.</p>\n<ul>\n<li>We cannot deprecate static because it is an important part of C and to abandon it would make C++ unnecessarily incompatible with C.</li>\n<li>Because templates may be instantiated on members of unnamed namespaces, some compilation systems may place such symbols in the\n  global linker space, which could place a significant burden on the\n  linker. Without static, programmers have no mechanism to avoid the\n  burden.</li>\n</ul>\n</blockquote>\n<p>This lead to <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#223\" rel=\"nofollow\">defect report 223</a> in which the meaning of <em>deprecation</em> was revised from:</p>\n<blockquote>\n<p id=\"so_34139882_34140653_1\">deprecated is defined as: Normative for the current edition of the Standard, but not guaranteed to be part of the Standard in future revisions. </p>\n</blockquote>\n<p>it was noted that this implies, only non-deprecated features will be support in future standards:</p>\n<blockquote>\n<p id=\"so_34139882_34140653_2\">However, this definition would appear to say that any non-deprecated feature is \"guaranteed to be part of the Standard in future revisions.\" It's not clear that that implication was intended, so this definition may need to be amended.</p>\n</blockquote>\n<p>and changed the meaning of <em>deprecated</em> to:</p>\n<blockquote>\n<p id=\"so_34139882_34140653_3\">These are deprecated features, where deprecated is defined as: Normative for the current edition of the Standard, but having been identified as a candidate for removal from future revisions. </p>\n</blockquote>\n<p>and later the feature was undeprecated due to C compatibility issues by <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1012\" rel=\"nofollow\">defect report 1012</a>:</p>\n<blockquote>\n<p id=\"so_34139882_34140653_4\">Although 7.3.1.1 [namespace.unnamed] states that the use of the static keyword for declaring variables in namespace scope is deprecated because the unnamed namespace provides a superior alternative, it is unlikely that the feature will be removed at any point in the foreseeable future, especially in light of C compatibility concerns. The Committee should consider removing the deprecation.</p>\n</blockquote>\n", "OwnerUserId": "1708801", "LastEditorUserId": "1708801", "LastEditDate": "2016-01-13T21:48:00.453", "Id": "34140653", "Score": "2", "CreationDate": "2015-12-07T18:32:00.763", "LastActivityDate": "2016-01-13T21:48:00.453"}, "bq_ids": {"n4140": {"so_34139882_34140653_3": {"section_id": 4901, "quality": 0.8333333333333334, "length": 15}, "so_34139882_34140653_1": {"section_id": 4901, "quality": 0.6666666666666666, "length": 8}}, "n3337": {"so_34139882_34140653_3": {"section_id": 4696, "quality": 0.5555555555555556, "length": 10}, "so_34139882_34140653_1": {"section_id": 4696, "quality": 0.8333333333333334, "length": 10}}, "n4659": {"so_34139882_34140653_3": {"section_id": 6304, "quality": 0.8333333333333334, "length": 15}, "so_34139882_34140653_1": {"section_id": 6304, "quality": 0.6666666666666666, "length": 8}}}});