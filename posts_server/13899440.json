post_cb({"bq_ids": {"n4140": {"so_13899440_13899445_0": {"section_id": 3260, "quality": 0.8888888888888888, "length": 16}}, "n3337": {"so_13899440_13899445_0": {"section_id": 3132, "quality": 0.8888888888888888, "length": 16}}, "n4659": {"so_13899440_13899445_0": {"section_id": 4018, "quality": 0.7222222222222222, "length": 13}}}, "13899440": {"CommentCount": "0", "ViewCount": "86", "PostTypeId": "1", "ClosedDate": "2012-12-16T16:09:04.797", "LastEditorUserId": "-1", "CreationDate": "2012-12-16T07:31:15.377", "LastActivityDate": "2012-12-16T07:40:26.990", "Title": "Default parameter issue (c++)", "AcceptedAnswerId": "13899450", "LastEditDate": "2017-05-23T12:12:31.883", "Id": "13899440", "Score": "1", "Body": "<blockquote>\n<p id=\"so_13899440_13899440_0\"><strong>Possible Duplicate:</strong><br>\n<a href=\"https://stackoverflow.com/questions/4539406/nonstatic-member-as-a-default-argument-of-a-nonstatic-member-function\">Nonstatic member as a default argument of a nonstatic member function</a><br>\n<a href=\"https://stackoverflow.com/questions/13678627/why-can-member-variables-not-be-used-as-defaults-for-parameters\">Why can member variables not be used as defaults for parameters?</a> </br></br></p>\n</blockquote>\n<p>Ok I apologize in advance if I am not seeing something very simplistic here or forgetting some fundamental rule of C++ but I am not sure why this does not work as expected.</p>\n<p>Here is a example of code that I can't get to work</p>\n<pre><code>class Foo\n{\nprivate:\n    Bar *ptrBar;\npublic:\n    void doSomething(int x, Bar *p = ptrBar);\n}\n</code></pre>\n<p>The compiler is having an issue with the default parameter to this function. Is there some reason why this wouldn't work.</p>\n<p>Basically doSomething would do some operation on a Bar object, and I want it to be the one pointed to by ptrBar by default. Everything seems sound unless I am forgetting something?</p>\n", "Tags": "<c++><class><pointers>", "OwnerUserId": "1354866", "AnswerCount": "2"}, "13899450": {"ParentId": "13899440", "CommentCount": "1", "Body": "<p>At the time the compiler is evaluating this, <code>ptrBar</code> is not set.  Therefore your default parameter has no  default value. </p>\n<p>Why not use a default of null and if <code>p</code> in <code>doSomething()</code> is null then use the <code>ptrBar</code> member.</p>\n", "OwnerUserId": "857132", "PostTypeId": "2", "Id": "13899450", "Score": "1", "CreationDate": "2012-12-16T07:33:20.463", "LastActivityDate": "2012-12-16T07:33:20.463"}, "13899445": {"ParentId": "13899440", "CommentCount": "1", "Body": "<p>You're not allowed to use class members as default parameters, nor <code>this</code>.</p>\n<h3>8.3.6 Default arguments [dcl.fct.default]</h3>\n<blockquote>\n<p id=\"so_13899440_13899445_0\">[...] Similarly, a non-static member shall not be used in a default argument, even if it is not\n  evaluated, unless it appears as the id-expression of a class member access expression (5.2.5) or unless it is\n  used to form a pointer to member (5.3.1). [...]</p>\n</blockquote>\n<p>The best workaround would be to use overloading:</p>\n<pre><code>class Foo\n{\nprivate:\n    Bar *prtBar;\npublic:\n    void doSomething(int x, Bar *p);\n    void doSomething(int x)\n    {\n        soSomething(x, ptrBar);\n    }\n}\n</code></pre>\n", "OwnerUserId": "673730", "PostTypeId": "2", "Id": "13899445", "Score": "5", "CreationDate": "2012-12-16T07:32:44.473", "LastActivityDate": "2012-12-16T07:32:44.473"}});