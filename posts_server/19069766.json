post_cb({"bq_ids": {"n4140": {"so_19069766_19069766_0": {"length": 13, "quality": 0.8666666666666667, "section_id": 7151}}, "n3337": {"so_19069766_19069766_0": {"length": 13, "quality": 0.8666666666666667, "section_id": 6895}}, "n4659": {"so_19069766_19069766_0": {"length": 9, "quality": 0.6, "section_id": 4051}}}, "19069766": {"ViewCount": "206", "Body": "<p>Going by the document here <a href=\"http://www.open-std.org/Jtc1/sc22/wg21/docs/papers/2011/n3242.pdf\" rel=\"nofollow\">http://www.open-std.org/Jtc1/sc22/wg21/docs/papers/2011/n3242.pdf</a></p>\n<blockquote>\n<p id=\"so_19069766_19069766_0\">\u201cVariables with static storage duration (3.7.1) or thread storage\n  duration (3.7.2) shall be zero-initialized (8.5) before any other\n  initialization takes place\u201d</p>\n</blockquote>\n<p>If I have everything, i.e class declaration and main() in a single file (a must) I should be able to omit the initialization.\nBut, if I omit, I get \"undefined reference\" error during build.</p>\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nclass foo\n{\n    public:\n        static int array[2];\n};\n\nint foo::array[2] = {0}; //I should be able to omit this line\n\nint main()\n{\n    cout &lt;&lt; \"foo::array[0] = \" &lt;&lt; foo::array[0] &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n<p>PS: No C++11</p>\n", "AcceptedAnswerId": "19069790", "Title": "Initialize static member array to zero", "CreationDate": "2013-09-28T17:33:32.810", "Id": "19069766", "CommentCount": "0", "PostTypeId": "1", "LastActivityDate": "2013-09-29T15:01:37.943", "Score": "2", "OwnerUserId": "278910", "Tags": "<c++><arrays><static>", "AnswerCount": "2"}, "19079508": {"Id": "19079508", "PostTypeId": "2", "Body": "<p>For a static data member of a class, one must compulsorily provide definition in the implementation file because,</p>\n<p>static data has a single piece of storage regardless of how many objects are created, that storage must be defined in a single place. The compiler will not allocate storage for you. The linker will report an error if a static data member is declared but not defined.</p>\n", "LastActivityDate": "2013-09-29T15:01:37.943", "CommentCount": "0", "CreationDate": "2013-09-29T15:01:37.943", "ParentId": "19069766", "Score": "0", "OwnerUserId": "1489146"}, "19069790": {"Id": "19069790", "PostTypeId": "2", "Body": "<p>I think you are misreading the standard. You can simply drop the <code>= {0}</code> part as the compiler will automatically initialize it with zeros.</p>\n<p>You can <em>not</em> leave out the entire line because otherwise you just declare the array but you never define it anywhere - that's what is causing the problem for you.</p>\n", "LastActivityDate": "2013-09-28T17:35:45.993", "CommentCount": "2", "CreationDate": "2013-09-28T17:35:45.993", "ParentId": "19069766", "Score": "8", "OwnerUserId": "2073257"}});