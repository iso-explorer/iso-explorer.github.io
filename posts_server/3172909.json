post_cb({"3172912": {"Id": "3172912", "PostTypeId": "2", "Body": "<p>In C++03 it can't be done, C++0x will <a href=\"http://www2.research.att.com/~bs/C++0xFAQ.html#local-types\" rel=\"noreferrer\">lift</a> that restriction though.</p>\n<p>C++03, <em>\u00a714.3.1/2</em>:</p>\n<blockquote>\n<p id=\"so_3172909_3172912_0\">A local type, a type with no linkage, an unnamed type or a type compounded from any of these types shall not be used as a template-argument for a template type-parameter.</p>\n</blockquote>\n", "LastEditorUserId": "168225", "LastActivityDate": "2010-07-03T21:30:19.370", "Score": "12", "CreationDate": "2010-07-03T21:18:57.247", "ParentId": "3172909", "CommentCount": "0", "OwnerUserId": "168225", "LastEditDate": "2010-07-03T21:30:19.370"}, "bq_ids": {"n4140": {"so_3172909_3172912_0": {"length": 8, "quality": 0.6666666666666666, "section_id": 7141}}, "n3337": {"so_3172909_3172912_0": {"length": 8, "quality": 0.6666666666666666, "section_id": 6885}}, "n4659": {"so_3172909_3172912_0": {"length": 8, "quality": 0.6666666666666666, "section_id": 8642}}}, "3172909": {"ViewCount": "1020", "Body": "<p>GCC doesn't seem to approve of instanciating templates with local classes:</p>\n<pre><code>template &lt;typename T&gt;\nvoid f(T);\n\nvoid g()\n{\n    struct s {};\n\n    f(s()); // error: no matching function for call to 'f(g()::s)'\n}\n</code></pre>\n<p>VC doesn't complain.</p>\n<p>How should it be done?</p>\n", "AcceptedAnswerId": "3172912", "Title": "How to use local classes with templates?", "CreationDate": "2010-07-03T21:18:02.723", "Id": "3172909", "CommentCount": "0", "PostTypeId": "1", "LastActivityDate": "2010-07-03T21:30:19.370", "Score": "3", "OwnerUserId": "366240", "Tags": "<c++><templates><gcc><local-class>", "AnswerCount": "1"}});