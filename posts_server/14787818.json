post_cb({"14787818": {"CommentCount": "0", "ViewCount": "148", "PostTypeId": "1", "LastEditorUserId": "962474", "CreationDate": "2013-02-09T11:50:12.947", "LastActivityDate": "2013-02-09T12:34:33.033", "Title": "ADL, Ordinary lookup and Dependent function call not working oO", "LastEditDate": "2013-02-09T12:34:33.033", "Id": "14787818", "Score": "3", "Body": "<p>Here is simple code presented which should have worked according to c++ standard <strong>I believe</strong> :</p>\n<pre><code>template&lt;typename T&gt; \nvoid foo(T x) \n{ \n    bar(x); \n    void bar(int);\n} \n\nvoid bar(int)  { } \n\nint main() \n{ \n    foo(0); \n} \n</code></pre>\n<p>Error comes as from GCC 4.7 as:</p>\n<blockquote>\n<p id=\"so_14787818_14787818_0\">\u2018bar\u2019 was not declared in this scope, and no declarations were found\n  by argument-dependent lookup at the point of instantiation</p>\n</blockquote>\n<p>But in the C++ standard it's written. \u00a7 14.6.4.2 :</p>\n<blockquote>\n<p id=\"so_14787818_14787818_1\">For a function call that depends on a template parameter, the\n  candidate functions are found using the usual lookup rules (3.4.1,\n  3.4.2, 3.4.3) except that: </p>\n<p id=\"so_14787818_14787818_2\"><strong>\u2014 For the part of the lookup using unqualified name lookup (3.4.1)</strong> or qualified name lookup (3.4.3), <strong>only function declarations from the template definition context are found.</strong></p>\n</blockquote>\n<p>I may be have got the wrong impression of what's written, can anyone please correct me here?</p>\n", "Tags": "<c++>", "OwnerUserId": "962474", "AnswerCount": "1"}, "14788072": {"ParentId": "14787818", "CommentCount": "8", "Body": "<p>You should just move the declaration of 'bar' to the top.  Because at the point where the template is defined (not instantiated), before 'bar' is invoked, it hasn't be declared.</p>\n", "OwnerUserId": "4323", "PostTypeId": "2", "Id": "14788072", "Score": "0", "CreationDate": "2013-02-09T12:17:39.153", "LastActivityDate": "2013-02-09T12:17:39.153"}, "bq_ids": {"n4140": {"so_14787818_14787818_2": {"section_id": 224, "quality": 0.6666666666666666, "length": 12}, "so_14787818_14787818_1": {"section_id": 224, "quality": 0.5882352941176471, "length": 10}}, "n3337": {"so_14787818_14787818_2": {"section_id": 217, "quality": 0.8333333333333334, "length": 15}, "so_14787818_14787818_1": {"section_id": 217, "quality": 0.7647058823529411, "length": 13}}, "n4659": {"so_14787818_14787818_2": {"section_id": 232, "quality": 0.6666666666666666, "length": 12}, "so_14787818_14787818_1": {"section_id": 232, "quality": 0.5882352941176471, "length": 10}}}});