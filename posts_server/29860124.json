post_cb({"29860677": {"ParentId": "29860124", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>This is ill-formed but with no diagnostic required. [basic.scope.class]/p1:</p>\n<blockquote>\n<p id=\"so_29860124_29860677_0\">2) A name <code>N</code> used in a class <code>S</code> shall refer to the same declaration in\n  its context and when re-evaluated in the completed scope of <code>S</code>. No\n  diagnostic is required for a violation of this rule.</p>\n</blockquote>\n<p>The name <code>A</code> evaluated in its context refers to <code>::A</code>, but refers to <code>Snap::A</code> when re-evaluated in the completed scope of <code>Snap</code>.</p>\n", "OwnerUserId": "2756719", "LastEditorUserId": "2756719", "LastEditDate": "2015-04-25T03:37:35.597", "Id": "29860677", "Score": "4", "CreationDate": "2015-04-25T03:30:54.977", "LastActivityDate": "2015-04-25T03:37:35.597"}, "29860124": {"CommentCount": "3", "ViewCount": "116", "PostTypeId": "1", "LastEditorUserId": "1937207", "CreationDate": "2015-04-25T01:56:18.243", "LastActivityDate": "2015-04-25T03:37:35.597", "Title": "Template constructor fails in MSVC due to name collision of member function with argument type", "AcceptedAnswerId": "29860677", "LastEditDate": "2015-04-25T02:47:31.173", "Id": "29860124", "Score": "3", "Body": "<p>The following code snippit fails to compile in MSVC 18.00.31101 with the error below but succeeds in gcc 4.9.2 and clang 3.6.0. Scoping the argument type or including the struct keyword in the declaration resolves the error. Is this a compiler bug or undefined behavior?</p>\n<pre><code>#include &lt;cstdlib&gt;\n\nstruct A {\n    int B;\n};\n\nstruct Snap {\n    template&lt;size_t TSize&gt;\n    Snap(const A (&amp;)[TSize]) {\n        // do something with TSize\n    }\n\n    void A() {}\n};\n\nint main() {\n    A pop[] = { {1}, {2}, {3} };\n\n    Snap crackle(pop);\n\n    return 0;\n}\n</code></pre>\n<p>.</p>\n<pre><code>1&gt; &lt;...&gt;: error C2664: 'Snap::Snap(const Snap &amp;)' : cannot convert argument 1 from 'A [3]' to 'const Snap &amp;'\n1&gt;          Reason: cannot convert from 'A [3]' to 'const Snap'\n1&gt;          No constructor could take the source type, or constructor overload resolution was ambiguous\n</code></pre>\n", "Tags": "<c++><templates><visual-c++>", "OwnerUserId": "1937207", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_29860124_29860677_0": {"section_id": 7070, "quality": 1.0, "length": 15}}, "n3337": {"so_29860124_29860677_0": {"section_id": 6814, "quality": 1.0, "length": 15}}, "n4659": {"so_29860124_29860677_0": {"section_id": 8568, "quality": 1.0, "length": 15}}}});