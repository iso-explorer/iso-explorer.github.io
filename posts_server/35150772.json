post_cb({"bq_ids": {"n4140": {"so_35150772_35155708_0": {"length": 14, "quality": 1.0, "section_id": 62}}, "n3337": {"so_35150772_35155708_0": {"length": 14, "quality": 1.0, "section_id": 57}}, "n4659": {"so_35150772_35155708_0": {"length": 14, "quality": 1.0, "section_id": 64}}}, "35155708": {"Id": "35155708", "PostTypeId": "2", "Body": "<p>As of C++11, the rule is, specified in <code>14.1[temp.param]/9</code></p>\n<blockquote>\n<p id=\"so_35150772_35155708_0\">If a friend function template declaration specifies a default template-argument, that declaration shall be a definition and shall be the only declaration of the function template in the translation unit.</p>\n</blockquote>\n<p>Until C++11, of course, 14.1/9 said \"A default template-argument shall not be specified in a friend template declaration.\"</p>\n<p>(the above is copied pretty much verbatim, by cppreference at <a href=\"http://en.cppreference.com/w/cpp/language/template_parameters#Default_template_arguments\" rel=\"nofollow\">Default template parameters</a>, now also mentioned at <a href=\"http://en.cppreference.com/w/cpp/language/friend#Template_friends\" rel=\"nofollow\">Template friends</a>)</p>\n<p>So, to make your program valid C++, define your friend template inside the class, don't just declare.</p>\n", "LastActivityDate": "2016-02-02T14:10:16.683", "CommentCount": "0", "CreationDate": "2016-02-02T14:10:16.683", "ParentId": "35150772", "Score": "2", "OwnerUserId": "273767"}, "35150772": {"ViewCount": "200", "Body": "<p>Is it allowed to provide a default to a template argument in a friend declaration?</p>\n<pre><code>class A {\n    int value;\npublic:\n    template&lt;class T = int&gt; friend void foo();\n};\n</code></pre>\n<p>Visual Studio 2015 seems to allow it.  gcc refuses it.  I couldn't find anything on it on the <a href=\"http://en.cppreference.com/w/cpp/language/friend\" rel=\"nofollow\">cppreference</a> page.</p>\n", "AcceptedAnswerId": "35155708", "Title": "friend function template with default template argument", "CreationDate": "2016-02-02T10:23:51.313", "Id": "35150772", "CommentCount": "0", "LastEditDate": "2016-02-02T14:12:04.963", "PostTypeId": "1", "LastEditorUserId": "273767", "LastActivityDate": "2016-02-02T14:12:04.963", "Score": "0", "OwnerUserId": "6610", "Tags": "<c++><templates><friend><forward-declaration><default-arguments>", "AnswerCount": "1"}});