post_cb({"2784131": {"ParentId": "2784075", "CommentCount": "0", "Body": "<p>Is it mandatory? I don't believe so, however not returning a value in a non-void returning function is undefined as per my understanding of the c++ standards (except for main, which returns 0).</p>\n<p>Does that mean it's OK? Probably not - if the function is supposed to return a value, you should be returning one, that could get real messy in complex code bases.</p>\n", "OwnerUserId": "218667", "PostTypeId": "2", "Id": "2784131", "Score": "1", "CreationDate": "2010-05-06T20:11:08.753", "LastActivityDate": "2010-05-06T20:11:08.753"}, "2786977": {"ParentId": "2784075", "CommentCount": "0", "Body": "<p>Like the GMan said the only exception is the main function. I still see tons of books returning 0 in main which isn't really necessary. Oh well I guess it could be worse and you could be learning from a book that uses void main() instead of int main().\nBut I think what you should learn from all this is that your compiler is complaining for a reason and it's good you took note of it since it will usually save you headaches in the long run.</p>\n", "OwnerUserId": "143260", "PostTypeId": "2", "Id": "2786977", "Score": "0", "CreationDate": "2010-05-07T07:42:09.520", "LastActivityDate": "2010-05-07T07:42:09.520"}, "2784149": {"ParentId": "2784075", "CommentCount": "1", "Body": "<p>It is mandatory--it is an undefined behavior when such function ends without returning anything (so compilers might actually implement some kind of special behaviour). However, there are some special cases.</p>\n<p><code>::main</code> is an exception, it is assumed that <code>return 0;</code> is at the end of its code.</p>\n<p>Also, you don't have to return a value in a function that does not return cleanly, f.e.:</p>\n<pre><code>int Foo() {\n    throw 42;\n}\n</code></pre>\n", "OwnerUserId": "42610", "PostTypeId": "2", "Id": "2784149", "Score": "9", "CreationDate": "2010-05-06T20:14:21.243", "LastActivityDate": "2010-05-06T20:14:21.243"}, "2784075": {"CommentCount": "12", "ViewCount": "7853", "CreationDate": "2010-05-06T20:04:05.973", "LastActivityDate": "2010-05-07T07:42:09.520", "Title": "Is a return statement mandatory for C++ functions that do not return void?", "FavoriteCount": "3", "PostTypeId": "1", "Id": "2784075", "Score": "16", "Body": "<p>My Herb Schildt book on C++ says: \"... In C++, if a function is declared as returning a value, it <strong>must</strong> return a value.\" However, if I write a function with a non-void return type and do not return anything, the compiler issues a warning instead of an error: \"Control reaches end of non-void function.\"</p>\n<p>I use gcc (MinGW) and have set the -pedantic flag.</p>\n", "Tags": "<c++>", "OwnerUserId": "334808", "AnswerCount": "7"}, "2784216": {"ParentId": "2784075", "CommentCount": "0", "Body": "<p>Forgetting to include a <code>return</code> statement in some control path of a value-returning function does not make your code ill-formed. I.e. you should normally expect the code to compile (maybe with a warning). In that sense it is not \"mandatory\".</p>\n<p>However, actually flowing off the end of value-returning function in C++ is always undefined behavior. (In C it is undefined behavior only if the calling code actually uses the result.)</p>\n", "OwnerUserId": "187690", "PostTypeId": "2", "Id": "2784216", "Score": "0", "CreationDate": "2010-05-06T20:24:48.077", "LastActivityDate": "2010-05-06T20:24:48.077"}, "2784137": {"ParentId": "2784075", "CommentCount": "6", "Body": "<p>\u00a76.6.3/2:</p>\n<blockquote>\n<p id=\"so_2784075_2784137_0\">Flowing off the end of a function is equivalent to a return with no value; this results in undefined behavior in a value-returning function.</p>\n</blockquote>\n<p>So it depends on your definition of mandatory. Do you <em>have</em> to? No. But if you want your program to have well-defined behavior, yes.*</p>\n<p><sup>*<code>main</code> is an exception, see \u00a73.6.1/5. If control reaches the end of <code>main</code> without a <code>return</code>, it will have the effect of <code>return 0;</code>.</sup></p>\n", "OwnerUserId": "87234", "PostTypeId": "2", "Id": "2784137", "Score": "23", "CreationDate": "2010-05-06T20:12:37.190", "LastActivityDate": "2010-05-06T20:12:37.190"}, "2784093": {"ParentId": "2784075", "PostTypeId": "2", "CommentCount": "1", "Body": "<p>Yes, it must return a value.</p>\n<blockquote>\n<p id=\"so_2784075_2784093_0\">Flowing off the end of a function is\n  equivalent to a return with no value;\n  this results in undefined behavior in\n  a value-returning function.</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/questions/1610030/why-can-you-return-from-a-non-void-function-without-returning-a-value-without-pro\">This question</a> will bring more light to the subject</p>\n", "OwnerUserId": "63309", "LastEditorUserId": "-1", "LastEditDate": "2017-05-23T11:54:26.267", "Id": "2784093", "Score": "3", "CreationDate": "2010-05-06T20:06:40.663", "LastActivityDate": "2010-05-06T20:06:40.663"}, "bq_ids": {"n4140": {"so_2784075_2784137_0": {"section_id": 3913, "quality": 1.0, "length": 12}, "so_2784075_2784093_0": {"section_id": 3913, "quality": 1.0, "length": 12}}, "n3337": {"so_2784075_2784137_0": {"section_id": 3773, "quality": 1.0, "length": 12}, "so_2784075_2784093_0": {"section_id": 3773, "quality": 1.0, "length": 12}}, "n4659": {"so_2784075_2784137_0": {"section_id": 4799, "quality": 0.75, "length": 9}, "so_2784075_2784093_0": {"section_id": 4799, "quality": 0.75, "length": 9}}}, "2784190": {"ParentId": "2784075", "CommentCount": "0", "Body": "<p>It's not mandatory to have a return statement in a function declared as returning non-void and it doesn't have to lead to undefined behaviour.</p>\n<p>Such a function could:</p>\n<ul>\n<li>Not return, say by entering an infinite loop</li>\n<li>Return by throwing an exception</li>\n<li>Call a function that itself does not return, such as <code>std::terminate</code></li>\n</ul>\n<p>Of course, if a function avoids undefined behaviour by always doing one of the above it probably shouldn't be declared as returning non-void if possible.</p>\n<p>One obvious case where it would need to is if it is a virtual function which for a particular point in a class hierarchy can't return a valid value and always exits via an exception.</p>\n", "OwnerUserId": "19563", "PostTypeId": "2", "Id": "2784190", "Score": "6", "CreationDate": "2010-05-06T20:22:15.193", "LastActivityDate": "2010-05-06T20:22:15.193"}});