post_cb({"bq_ids": {"n4140": {"so_3956678_3956683_0": {"length": 36, "quality": 0.8571428571428571, "section_id": 7145}}, "n3337": {"so_3956678_3956683_0": {"length": 36, "quality": 0.8571428571428571, "section_id": 6889}}, "n4659": {"so_3956678_3956683_0": {"length": 34, "quality": 0.8095238095238095, "section_id": 8646}}}, "3956678": {"ViewCount": "7413", "Body": "<p>Why doesn't this compile?\nThe linker can't find main, but why is this the case?</p>\n<pre><code>namespace somenamespace{\n\nint main(void){\n return 0;\n}\n\n}\n</code></pre>\n", "AcceptedAnswerId": "3956683", "Title": "main in namespace", "CreationDate": "2010-10-18T04:52:39.150", "Id": "3956678", "CommentCount": "0", "FavoriteCount": "4", "PostTypeId": "1", "LastActivityDate": "2010-10-18T06:51:28.900", "Score": "22", "OwnerUserId": "296460", "Tags": "<c++><namespaces>", "AnswerCount": "3"}, "3956683": {"Id": "3956683", "PostTypeId": "2", "Body": "<blockquote>\n<p id=\"so_3956678_3956683_0\">3.6.1/1 - \"<strong>A program shall contain a global function called main</strong>, which\n  is the designated start of the\n  program. It is implementation-defined\n  whether a program in a freestanding\n  environment is required to define a\n  main function. [ Note: in a\n  freestanding environment, start-up and\n  termination is implementation-defined;\n  startup contains the execution of\n  constructors for objects of namespace\n  scope with static storage duration;\n  termination contains the execution of\n  destructors for objects with static\n  storage duration. \u2014end note ]</p>\n</blockquote>\n<p>Your example has 'main' (intended as the program entry point) as a namespace function and hence your code is ill-formed. This does not mean that a function 'main' can not be defined as you did. It just means that a global namespace scope definition of 'main' in accordance with the Standard defined signature is required for a <strike>free standing program.</strike> hosted program</p>\n", "LastEditorUserId": "418110", "LastActivityDate": "2010-10-18T05:45:33.003", "Score": "40", "CreationDate": "2010-10-18T04:54:37.853", "ParentId": "3956678", "CommentCount": "1", "OwnerUserId": "418110", "LastEditDate": "2010-10-18T05:45:33.003"}, "3956706": {"Id": "3956706", "PostTypeId": "2", "Body": "<p>The linker is required to arrange for the program's execution to start in a global function called \"main\".  The whole point of benig able to create your own namespaces - as you've done - is to avoid putting things in the global namespace so they won't be accidentally picked up by other code or the linker.  You're explicitly saying \"I'm calling this function main, but that's only meaningful within the context of <code>somenamespace</code> - if you don't know about somenamespace you won't find or be able to use it\".</p>\n<p>Implementation wise, the mangled name of your main symbol has been changed from the expected name due to the namespace, so the linker just doesn't find the symbol table entry it needs.</p>\n", "LastEditorUserId": "410767", "LastActivityDate": "2010-10-18T05:33:36.687", "Score": "3", "CreationDate": "2010-10-18T05:01:24.420", "ParentId": "3956678", "CommentCount": "0", "OwnerUserId": "410767", "LastEditDate": "2010-10-18T05:33:36.687"}, "3956711": {"Id": "3956711", "PostTypeId": "2", "Body": "<p>The linker is looking for <code>::main</code>, not <code>::somenamespace::main</code>.  The <code>main</code> that is called at program startup must be in the global namespace.</p>\n<p><a href=\"https://stackoverflow.com/users/418110/chubsdad\">@Chubsdad</a> has <a href=\"https://stackoverflow.com/questions/3956678/main-in-namespace/3956683#3956683\">pointed you at the relevant language in the standard that states this</a>.  But the standard is now written in a bizarre 'standardese' that bears a lot of resemblance to legalese.  I felt a plain english statement of what was going on might be better.</p>\n<p>Note: <em>There is a reason the standard is written this way.  In the standard you want every term you use to have a very precise and well-defined meaning, and you do not want that meaning to vary depending on context because it makes the standard much harder to interpret.  This is actually very similar to the reason that legalese looks the way it does.</em></p>\n", "LastEditorUserId": "-1", "LastActivityDate": "2010-10-18T06:51:28.900", "Score": "21", "CreationDate": "2010-10-18T05:03:49.207", "ParentId": "3956678", "CommentCount": "5", "OwnerUserId": "167958", "LastEditDate": "2017-05-23T12:00:28.890"}});