post_cb({"30697941": {"CommentCount": "5", "ViewCount": "89", "CreationDate": "2015-06-07T20:08:10.823", "LastActivityDate": "2015-06-07T20:16:10.153", "Title": "Uncommenting a std::cout statement gives a different result", "AcceptedAnswerId": "30697998", "PostTypeId": "1", "Id": "30697941", "Score": "2", "Body": "<p>Here's the program:</p>\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\n\nint removeDuplicates(int* nums, int numsSize) {\n    int count=1;\n    if(numsSize==1)\n        return 1;\n    else if(numsSize==0)\n        return 0;\n    for(int i=1;i&lt;numsSize;i++)\n    {\n        while(i&lt;numsSize &amp;&amp; nums[i]==nums[i-1])\n        {\n            i++;\n        }\n        if(i==numsSize)\n        {\n            return count;\n        }\n        nums[count]=nums[i];\n      //  cout &lt;&lt; nums[i] &lt;&lt; \"-\"&lt;&lt;std::endl;\n        count++;\n    }\n}\nint main() {\n    // your code goes here\n    int nums[3]={1,1,2};\n    cout &lt;&lt;\"ans \"&lt;&lt; removeDuplicates(nums,3);\n    return 0;\n}\n</code></pre>\n<p>Please note the comment</p>\n<pre><code>//  cout &lt;&lt; nums[i] &lt;&lt; \"-\"&lt;&lt;std::endl;\n</code></pre>\n<p>in the function removeDuplicates. In the current state the function returns </p>\n<blockquote>\n<p id=\"so_30697941_30697941_0\">3</p>\n</blockquote>\n<p>. On uncommenting the above statement, it returns </p>\n<blockquote>\n<p id=\"so_30697941_30697941_1\">134520320</p>\n</blockquote>\n<p>At least it does so on ideone:\n<a href=\"https://ideone.com/5m8xPj\" rel=\"nofollow\">https://ideone.com/5m8xPj</a></p>\n<p>I see that there should be a return statement at the end of the function as well. Why doesn't the compiler return an error when it doesn't see a return statement at the end? And why does commenting/uncommenting lead to returning such weird results?</p>\n<p>Thanks.</p>\n", "Tags": "<c++>", "OwnerUserId": "3960619", "AnswerCount": "1"}, "30697998": {"ParentId": "30697941", "PostTypeId": "2", "CommentCount": "1", "Body": "<blockquote>\n<p id=\"so_30697941_30697998_0\">Why does the commenting/uncommenting lead to returning weird results.</p>\n</blockquote>\n<p>Not returning anything gives you undefined behavior:</p>\n<blockquote id=\"so_30697941_30697998_1\">\n<pre><code>6.6.3  The return statement                              [stmt.return]\n\n...\n\nFlowing off the end of a function is equivalent to a return with no value;\nthis results in undefined behavior in a value-returning function.\n</code></pre>\n</blockquote>\n", "OwnerUserId": "19254", "LastEditorUserId": "19254", "LastEditDate": "2015-06-07T20:16:10.153", "Id": "30697998", "Score": "5", "CreationDate": "2015-06-07T20:13:10.883", "LastActivityDate": "2015-06-07T20:16:10.153"}, "bq_ids": {"n4140": {"so_30697941_30697998_1": {"section_id": 3913, "quality": 0.8235294117647058, "length": 14}}, "n3337": {"so_30697941_30697998_1": {"section_id": 3773, "quality": 0.8235294117647058, "length": 14}}, "n4659": {"so_30697941_30697998_1": {"section_id": 4799, "quality": 0.6470588235294118, "length": 11}}}});