post_cb({"bq_ids": {"n4140": {"so_27625392_27625392_0": {"length": 32, "quality": 0.9142857142857143, "section_id": 91}}, "n3337": {"so_27625392_27625392_0": {"length": 32, "quality": 0.9142857142857143, "section_id": 86}}}, "27625392": {"ViewCount": "192", "Body": "<pre><code>struct CL1{};\nstruct CL2:CL1{};\n\ntemplate&lt;CL1*&gt;\nstruct TMPL{};\n\nCL2 cl2;\n\nint main()\n{\n    TMPL&lt;&amp;cl2&gt; tmpl; //error: could not convert template argument \u2018&amp; cl2\u2019 to \u2018CL1*\u2019\n    return 0;\n}\n</code></pre>\n<p>The Standard 2003 14.3.2/5 says:  </p>\n<blockquote>\n<p id=\"so_27625392_27625392_0\">for a non-type template-parameter of type pointer to object,\n  qualification conversions (4.4) and the array-to-pointer conversion\n  (4.2) are applied. [Note: In particular, neither the null pointer\n  conversion (4.10) <strong>nor the derived-to-base conversion (4.10) are\n  applied</strong>. Although 0 is a valid template-argument for a non-type\n  template-parameter of integral type, it is not a valid\n  template-argument for a non-type template-parameter of pointer type. ]</p>\n</blockquote>\n<p>Why such restrictions applied?</p>\n", "AcceptedAnswerId": "27625812", "Title": "Derived to base conversion for template argument", "CreationDate": "2014-12-23T17:41:04.723", "Id": "27625392", "CommentCount": "0", "PostTypeId": "1", "LastActivityDate": "2014-12-23T18:11:36.190", "Score": "3", "OwnerUserId": "3514538", "Tags": "<c++><templates><derived-class>", "AnswerCount": "1"}, "27625812": {"PostTypeId": "2", "Body": "<p>2 reasons IMHO:</p>\n<ol>\n<li><p>Addresses are not known until link time. That's well after any template expansion decisions have been made. Indeed in position independent code, addresses are not known until run time.</p></li>\n<li><p>There is a longstanding ambiguity between (type *)0 and int(0). c++11 cures this with the nullptr value of nullptr_t class.</p></li>\n</ol>\n", "LastActivityDate": "2014-12-23T18:11:36.190", "Id": "27625812", "CommentCount": "0", "CreationDate": "2014-12-23T18:11:36.190", "ParentId": "27625392", "Score": "2", "OwnerUserId": "2015579"}});