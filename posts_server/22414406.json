post_cb({"22414665": {"ParentId": "22414406", "PostTypeId": "2", "CommentCount": "9", "CreationDate": "2014-03-14T20:01:05.330", "Score": "3", "LastEditorUserId": "596781", "LastEditDate": "2014-03-14T21:30:00.340", "Id": "22414665", "OwnerUserId": "596781", "Body": "<p>This is specified by C++11 3.6.2: <em>constant initialization</em> is performed...</p>\n<blockquote>\n<p id=\"so_22414406_22414665_0\">if an object with static or thread storage duration is not initialized by a constructor call and if every full-expression that appears in its initializer is a constant expression.</p>\n</blockquote>\n<p>This is your situation, except for <code>d</code>: <code>int</code> and <code>float</code> don't have constructors, and the initializer is a literal, which is a constant expression. Constant initialization is part of <em>static initialization</em>, and:</p>\n<blockquote>\n<p id=\"so_22414406_22414665_1\">Static initialization shall be performed before any dynamic initialization takes place.</p>\n</blockquote>\n<p>The standard doesn't explicitly prescribe an implementation, but there is no ordering of static initializations, and it is understood that the initial values are essentially provided at load time, and no code executes in order to get those global variables to have their initial values.</p>\n<p>The variable <code>d</code> does not meet these criteria since its initializer is not a constant expression (because <code>c</code> is not a constant expression). The standard allows <code>d</code> to be initialized either dynamically or statically.</p>\n", "LastActivityDate": "2014-03-14T21:30:00.340"}, "22414645": {"ParentId": "22414406", "CommentCount": "1", "CreationDate": "2014-03-14T19:59:40.130", "OwnerUserId": "2249683", "PostTypeId": "2", "Id": "22414645", "Score": "1", "Body": "<p>Answering: 'In other words, when is a \"static const\" equivalent to a \"#define\"?'</p>\n<p>Never, the first is part of the programming language, the latter is a preprocessor text processing directive.</p>\n", "LastActivityDate": "2014-03-14T19:59:40.130"}, "22414406": {"CommentCount": "3", "ViewCount": "84", "CreationDate": "2014-03-14T19:46:13.457", "LastActivityDate": "2014-03-14T21:30:00.340", "Title": "What do the standards (C++) say about compile time initialization?", "AcceptedAnswerId": "22414665", "PostTypeId": "1", "Id": "22414406", "Score": "2", "Body": "<p>In other words, when is a \"static const\" equivalent to a \"#define\"?\nI searched a lot and can't find anything.\nThis is very relevant for global initialization dependencies (I know, globals are evil, but life is evil too!).</p>\n<p>I am sure the standard does not force, but it probably mentions it.</p>\n<p>E.g.:</p>\n<pre><code>static const int a = 2;  // Always seen it as compile time\nstatic const int b = 2 * a;  // Compile time\nstatic const float c = 3.14;  // Compile time\nstatic const float d = c * 1.1 ;  // I know the evils of compile time here, but I've seen it both ways (compile and run time)\nstatic const char e = 'p' ;  // Compile time\nstatic const int *f = NULL;  // Never really tried it :)\n</code></pre>\n", "Tags": "<c++><initialization><standards>", "OwnerUserId": "574538", "AnswerCount": "3"}, "22414539": {"ParentId": "22414406", "CommentCount": "0", "CreationDate": "2014-03-14T19:54:32.257", "OwnerUserId": "329102", "PostTypeId": "2", "Id": "22414539", "Score": "0", "Body": "<p>Declaring static const vs a define are two different things. A value replaced by define can non-const and non-static. </p>\n<pre><code>#MY_VAR 9\nstatic const int a = MY_VAR;\nint b = MY_VAR;\n</code></pre>\n<p>Defines essentially precompile time string replacement. Static and const keywords work all together different.</p>\n", "LastActivityDate": "2014-03-14T19:54:32.257"}, "bq_ids": {"n4140": {"so_22414406_22414665_0": {"section_id": 7151, "quality": 1.0, "length": 15}, "so_22414406_22414665_1": {"section_id": 7151, "quality": 1.0, "length": 8}}, "n3337": {"so_22414406_22414665_0": {"section_id": 6895, "quality": 1.0, "length": 15}, "so_22414406_22414665_1": {"section_id": 6895, "quality": 1.0, "length": 8}}, "n4659": {"so_22414406_22414665_0": {"section_id": 8652, "quality": 0.5333333333333333, "length": 8}, "so_22414406_22414665_1": {"section_id": 8652, "quality": 0.625, "length": 5}}}});