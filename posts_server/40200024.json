post_cb({"40200243": {"ParentId": "40200024", "PostTypeId": "2", "CommentCount": "4", "Body": "<p>Your <code>is_array_sorted</code> function is prototyped to return an <code>int</code> so that is what it must do in all code paths<sup>(a)</sup>.</p>\n<p>Yours does so when <code>n</code> is one or two, or when the two elements being examined are out of order, but <em>not</em> when they're in order.</p>\n<p>In that case, it drops through to the final statement, and <em>doesn't</em> return an <code>int</code> - that's the most likely cause as to what's crashing the code.</p>\n<p>Change that final line to:</p>\n<pre><code>return is_array_sorted (a, n-1);\n</code></pre>\n<p>and try again.</p>\n<p>As an aside, I'm not really that big a fan of the <code>if ... return else ...</code> school of programming since it unnecessarily complicates the code structure.</p>\n<p>You also appear to have an incorrect case in your logic, returning \"true\" when <code>n</code> is equal to two. Passing the array <code>{5, 4}</code>, with an <code>n</code> of two, should show you why that's a bad idea.</p>\n<p>A better approach fixing both those issues, in my opinion, would be something like:</p>\n<pre><code>int is_array_sorted (int a[], int n) {\n    if (n==1)\n        return 1;\n    if (a[n-1] &lt; a[n-2])\n        return 0;\n    return is_array_sorted (a, n-1);\n}\n</code></pre>\n<p>(but, even if you disregard my layout advice, you should still fix the <code>n == 2</code> issue).</p>\n<hr>\n<p><sup>(a)</sup> As per <code>C++11 6.6.3 The return statement /2</code>:</p>\n<blockquote>\n<p id=\"so_40200024_40200243_0\">Flowing off the end of a function is equivalent to a return with no value; this results in undefined behavior in a value-returning function.</p>\n</blockquote>\n</hr>", "OwnerUserId": "14860", "LastEditorUserId": "14860", "LastEditDate": "2016-10-23T06:49:12.513", "Id": "40200243", "Score": "0", "CreationDate": "2016-10-23T06:35:46.223", "LastActivityDate": "2016-10-23T06:49:12.513"}, "40200024": {"CommentCount": "1", "ViewCount": "221", "CreationDate": "2016-10-23T05:57:02.490", "LastActivityDate": "2016-10-23T06:49:12.513", "Title": "Simple C++ Program Crash before main is called", "AcceptedAnswerId": "40200243", "PostTypeId": "1", "Id": "40200024", "Score": "-4", "Body": "<p>I am beginning the coding again but I am stumbling at running this code in FreeBSD 11 release. The code crashes with segmentation fault error.</p>\n<pre><code>#include &lt;iostream&gt;\n\n\nint is_array_sorted(int a[], int n)\n{\nif(n==2 || n==1)\n    return 1;\nelse if(a[n-1]&lt;a[n-2])\n    return 0;\nis_array_sorted(a,n-1);\n}\n\nint main()\n{\nint a[] = {1,2,3,4} ;\nint ret = is_array_sorted(a,4);\n\nstd::cout&lt;&lt;\"sorted -&gt;\"&lt;&lt; ret &lt;&lt;std::endl;\nreturn 0;\n}\n</code></pre>\n<p>So, I build this using</p>\n<pre><code> c++ file.cpp --std=c++14 -g3\n</code></pre>\n<p>ran and it crashed.</p>\n<p>Also, I thought to debug using gdb by setting breakpoint at main symbol. However, it crashes even then giving \"Program terminated with signal SIGKILL, Illegal instruction.\nThe program no longer exists.</p>\n<p>Please help out in figuring what am I doing wrong?</p>\n", "Tags": "<c++><debugging><clang++>", "OwnerUserId": "3354476", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_40200024_40200243_0": {"section_id": 3913, "quality": 1.0, "length": 12}}, "n3337": {"so_40200024_40200243_0": {"section_id": 3773, "quality": 1.0, "length": 12}}, "n4659": {"so_40200024_40200243_0": {"section_id": 4799, "quality": 0.75, "length": 9}}}});