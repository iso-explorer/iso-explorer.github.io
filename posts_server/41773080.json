post_cb({"41773209": {"Id": "41773209", "PostTypeId": "2", "Body": "<p>Using <code>defined</code> as an expansion in conditional directive is considered as <strong>Undefined Behavior</strong>.</p>\n<ul>\n<li><strong>From C99 Standard: 6.10.1/4</strong> | <a href=\"https://isocpp.org/files/papers/n4296.pdf\" rel=\"nofollow noreferrer\"><strong>C++11 Standard Last Working Draft(n4296) 16.1/4</strong></a></li>\n</ul>\n<blockquote>\n<p id=\"so_41773080_41773209_0\"><strong>If the token <code>defined</code> is generated as a result of this replacement\n  process</strong> or use of the <code>defined</code> unary operator does not match one of the\n  two specified forms prior to macro replacement, <strong>the behavior is\n  undefined.</strong></p>\n</blockquote>\n<ul>\n<li><strong>From C99 Standard: 6.10.8/4</strong> | <a href=\"https://isocpp.org/files/papers/n4296.pdf\" rel=\"nofollow noreferrer\"><strong>C++11 Standard Last Working Draft(n4296) 16.8/4</strong></a></li>\n</ul>\n<blockquote>\n<p id=\"so_41773080_41773209_1\">None of these macro names, <strong>nor the identifier <code>defined</code></strong>, <strong>shall be the\n  subject of a <code>#define</code> or a <code>#undef</code> preprocessing directive</strong>. </p>\n</blockquote>\n<ul>\n<li><a href=\"https://gcc.gnu.org/onlinedocs/cpp/Defined.html\" rel=\"nofollow noreferrer\"><strong>GNU - CPP 4.2.3</strong> </a> </li>\n</ul>\n<blockquote>\n<p id=\"so_41773080_41773209_2\"><strong>If the <code>defined</code> operator appears as a result of a macro expansion, the\n  C standard says the behavior is undefined</strong>. GNU cpp treats it as a\n  genuine defined operator and evaluates it normally. It will warn\n  wherever your code uses this feature if you use the command-line\n  option \u2018-pedantic\u2019, since other compilers may handle it differently.</p>\n</blockquote>\n", "LastEditorUserId": "4392605", "LastActivityDate": "2017-02-06T10:23:50.670", "Score": "5", "CreationDate": "2017-01-20T22:13:48.370", "ParentId": "41773080", "CommentCount": "3", "OwnerUserId": "4392605", "LastEditDate": "2017-02-06T10:23:50.670"}, "bq_ids": {"n4140": {"so_41773080_41773209_0": {"length": 21, "quality": 1.0, "section_id": 500}, "so_41773080_41773209_1": {"length": 7, "quality": 0.6363636363636364, "section_id": 497}}, "n3337": {"so_41773080_41773209_0": {"length": 21, "quality": 1.0, "section_id": 491}, "so_41773080_41773209_1": {"length": 7, "quality": 0.6363636363636364, "section_id": 488}}, "n4659": {"so_41773080_41773209_0": {"length": 21, "quality": 1.0, "section_id": 519}, "so_41773080_41773209_1": {"length": 7, "quality": 0.6363636363636364, "section_id": 574}}}, "41773080": {"ViewCount": "107", "Body": "<p>Is the result of the following code defined in C or C++?</p>\n<pre><code>#define FOO\n#define BAR defined(FOO)\n#if BAR\n    int x = 1;\n#else\n    int x = 2;\n#endif\n</code></pre>\n", "AcceptedAnswerId": "41773209", "Title": "Can a #define be assigned the result of defined?", "CreationDate": "2017-01-20T22:03:24.587", "Id": "41773080", "CommentCount": "2", "LastEditDate": "2017-01-20T22:12:50.243", "PostTypeId": "1", "LastEditorUserId": "4339759", "LastActivityDate": "2017-02-06T10:23:50.670", "Score": "-2", "OwnerUserId": "4339759", "Tags": "<c++><c><c-preprocessor><standards>", "AnswerCount": "1"}});