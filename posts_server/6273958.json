post_cb({"6273990": {"ParentId": "6273958", "LastEditDate": "2011-06-08T03:52:01.810", "CommentCount": "8", "CreationDate": "2011-06-08T03:46:47.907", "OwnerUserId": "452307", "LastEditorUserId": "46642", "PostTypeId": "2", "Id": "6273990", "Score": "3", "Body": "<blockquote>\n<p id=\"so_6273958_6273990_0\">if I have a POD struct in C++, can I theoretically benefit under some compilers by defining empty inline constructor/destructors myself in place of the defaults?</p>\n</blockquote>\n<p>Theorotically, Yes! Any function(including constructors &amp; destructors) can be declared inline, and putting the function body in the class definition is one way of doing that. However, it's up to the compiler if it actually does inline the function.</p>\n", "LastActivityDate": "2011-06-08T03:52:01.810"}, "6273958": {"CommentCount": "2", "CreationDate": "2011-06-08T03:41:40.880", "PostTypeId": "1", "AcceptedAnswerId": "6274011", "LastEditorUserId": "50385", "LastActivityDate": "2011-06-08T03:56:23.150", "LastEditDate": "2011-06-08T03:47:13.293", "ViewCount": "1721", "FavoriteCount": "1", "Title": "Are the default constructor and destructor ever inline?", "Id": "6273958", "Score": "7", "Body": "<p>I'm curious if the default constructor and destructor that the compiler generates are inline or not, because I can justify it either way. On the one hand, you want the default constructor/destructor to <em>not</em> be inline so that adding them later doesn't break ABI (because object files compiled when only the defaults were there will have inlined the generated definitions instead of what you define). On the other hand, for a C++ compiler to compile C code that performs as well as when compiled with a C compiler, it can't be adding constructor/destructor calls for every allocated struct, and in C++ the only functional difference between a class and a struct is supposed to be the default access protection. Maybe the linker addresses this somehow? Maybe the answer varies across compilers?</p>\n<p>A consequence of this question: if I have a POD struct in C++, can I theoretically benefit under some compilers by defining empty inline constructor/destructors myself in place of the defaults?</p>\n", "Tags": "<c++><c><inline><binary-compatibility><abi>", "OwnerUserId": "50385", "AnswerCount": "3"}, "6274038": {"ParentId": "6273958", "CommentCount": "2", "Body": "<p>It varies across compilers, but in general: yes, they should.</p>\n<p>With gcc at least, you get both an inline and an out-of-line function generated. The out-of-line version is marked as \"link once\", so no matter how many objects generate a default constructor, at most only one version will end up in the linked output. If in fact nobody uses the default constructor out-of-line, it's not included in the linked output at all, and you have effectively a purely inline function.</p>\n", "OwnerUserId": "591478", "PostTypeId": "2", "Id": "6274038", "Score": "1", "CreationDate": "2011-06-08T03:56:23.150", "LastActivityDate": "2011-06-08T03:56:23.150"}, "bq_ids": {"n4140": {"so_6273958_6274011_0": {"section_id": 369, "quality": 1.0, "length": 8}, "so_6273958_6274011_1": {"section_id": 400, "quality": 1.0, "length": 7}}, "n3337": {"so_6273958_6274011_0": {"section_id": 359, "quality": 1.0, "length": 8}, "so_6273958_6274011_1": {"section_id": 391, "quality": 1.0, "length": 7}}, "n4659": {"so_6273958_6274011_0": {"section_id": 381, "quality": 1.0, "length": 8}, "so_6273958_6274011_1": {"section_id": 417, "quality": 1.0, "length": 7}}}, "6274011": {"ParentId": "6273958", "CommentCount": "2", "Body": "<p>The C++ standard says, in <strong>12.1[class.ctor]/5</strong></p>\n<blockquote>\n<p id=\"so_6273958_6274011_0\">An implicitly-declared default constructor is an inline public member of its class</p>\n</blockquote>\n<p>and in <strong>12.4[class.dtor]/3</strong></p>\n<blockquote>\n<p id=\"so_6273958_6274011_1\">An implicitly-declared\n  destructor is an inline public member of its class.</p>\n</blockquote>\n", "OwnerUserId": "273767", "PostTypeId": "2", "Id": "6274011", "Score": "16", "CreationDate": "2011-06-08T03:51:27.633", "LastActivityDate": "2011-06-08T03:51:27.633"}});