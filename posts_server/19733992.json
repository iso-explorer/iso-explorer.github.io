post_cb({"19734031": {"ParentId": "19733992", "CommentCount": "0", "Body": "<p>Once a class object is made certain compilers do not allow creation of static variables without initialization.</p>\n", "OwnerUserId": "1901744", "PostTypeId": "2", "Id": "19734031", "Score": "2", "CreationDate": "2013-11-01T19:29:16.203", "LastActivityDate": "2013-11-01T19:29:16.203"}, "19733992": {"CommentCount": "2", "ViewCount": "89", "PostTypeId": "1", "LastEditorUserId": "1708801", "CreationDate": "2013-11-01T19:27:06.717", "LastActivityDate": "2013-11-02T03:45:18.870", "Title": "Static member has to be initialized?", "AcceptedAnswerId": "19734092", "LastEditDate": "2013-11-02T00:39:05.883", "Id": "19733992", "Score": "0", "Body": "<p>The code is as below:</p>\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass A {\n    static int id_;\n\npublic:\n    static void setId(int id) {\n        id_ = id;\n    }\n    static int getId() {\n        return id_;\n    }\n};\n\nint main()\n{\n    A::setId(10);\n    cout &lt;&lt; A::getId() &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n<p>When I compile it in <em>Xcode</em>, <em>Mac OS</em>, there's an error message:</p>\n<pre><code>Undefined symbols for architecture x86_64:\n  \"A::id_\", referenced from:\n      A::setId(int) in main.o\n      A::getId() in main.o\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n</code></pre>\n<p>If I add the line:</p>\n<pre><code>int A::id_ = 10;\n</code></pre>\n<p>before the <code>main()</code>. Then, everything is fine. What's the reason with it?</p>\n", "Tags": "<c++><class><static-members>", "OwnerUserId": "1993552", "AnswerCount": "2"}, "bq_ids": {"n4140": {"so_19733992_19734092_0": {"section_id": 5907, "quality": 0.8888888888888888, "length": 8}}, "n3337": {"so_19733992_19734092_0": {"section_id": 5679, "quality": 0.8888888888888888, "length": 8}}, "n4659": {"so_19733992_19734092_0": {"section_id": 7389, "quality": 0.8888888888888888, "length": 8}}}, "19734092": {"ParentId": "19733992", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>Variables need to be <em>declared</em> and <em>defined</em> and the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3485.pdf\" rel=\"nofollow noreferrer\">draft C++ standard</a> section <code>9.4.2</code> <em>Static data members</em> says:</p>\n<blockquote>\n<p id=\"so_19733992_19734092_0\">The declaration of a static data member in its class definition is not a definition [...]</p>\n</blockquote>\n<p>so it must be <em>defined</em>, which is why you need to add:</p>\n<pre><code>int A::id_ = 10;\n</code></pre>\n<p>and to see this more clearly, we see that:</p>\n<pre><code>int A::id_ ;\n</code></pre>\n<p>is sufficient, we don't have to initialize <code>A::id_</code> just <em>define</em> it.</p>\n<p>You may also want to read this previous thread: <a href=\"https://stackoverflow.com/questions/1410563/what-is-the-difference-between-a-definition-and-a-declaration\">What is the difference between a definition and a declaration?</a>.</p>\n<p>As Steve points out when you move to using <em>header</em> files you will need to <a href=\"https://softwareengineering.stackexchange.com/questions/145299/why-the-static-data-members-have-to-be-defined-outside-the-class-separately-in-c\">define your variable in the cpp file</a> since you do not want more than one definition.</p>\n", "OwnerUserId": "1708801", "LastEditorUserId": "-1", "LastEditDate": "2017-05-23T10:30:49.210", "Id": "19734092", "Score": "3", "CreationDate": "2013-11-01T19:32:21.280", "LastActivityDate": "2013-11-02T03:45:18.870"}});