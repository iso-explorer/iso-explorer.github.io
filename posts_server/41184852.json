post_cb({"bq_ids": {"n4140": {"so_41184852_41185071_0": {"length": 21, "quality": 1.0, "section_id": 455}, "so_41184852_41184852_0": {"length": 13, "quality": 1.0, "section_id": 451}}, "n3337": {"so_41184852_41185071_0": {"length": 21, "quality": 1.0, "section_id": 446}, "so_41184852_41184852_0": {"length": 13, "quality": 1.0, "section_id": 442}}, "n4659": {"so_41184852_41185071_0": {"length": 21, "quality": 1.0, "section_id": 478}, "so_41184852_41184852_0": {"length": 13, "quality": 1.0, "section_id": 474}}}, "41184852": {"ViewCount": "140", "Body": "<p>Assuming I have the following (invalid) code:</p>\n<pre><code>struct A {\n  A(A) {};\n};\n</code></pre>\n<p>MSVC gives me:</p>\n<pre><code>error C2652: 'A' : illegal copy constructor: first parameter must not be a 'A' \n</code></pre>\n<p>Why does the compiler detect this as copy constructor, and not a regular constructor?</p>\n<p>Chapter 12.8.2 of the C++ Standard says:</p>\n<blockquote>\n<p id=\"so_41184852_41184852_0\">A non-template constructor for class\n  X\n  is a copy constructor if its first parameter is of type\n  <strong>X&amp;</strong>\n  ,\n  <strong>const X&amp;</strong>\n  ,\n  <strong>volatile X&amp;</strong>\n  or\n  <strong>const volatile X&amp;</strong></p>\n</blockquote>\n<p>I would expect that the compiler detects the above method as regular constructor, just like</p>\n<pre><code>struct A {\n  A(B) {};\n};\n</code></pre>\n<p>whereas B is another class.</p>\n<p>Where is this behaviour defined?</p>\n", "AcceptedAnswerId": "41185071", "Title": "C++ Constructor by Value", "CreationDate": "2016-12-16T12:52:03.003", "Id": "41184852", "CommentCount": "4", "PostTypeId": "1", "LastActivityDate": "2016-12-16T13:07:00.993", "Score": "7", "OwnerUserId": "1608816", "Tags": "<c++><language-lawyer>", "AnswerCount": "1"}, "41185071": {"Id": "41185071", "PostTypeId": "2", "Body": "<p>N4140 <a href=\"https://timsong-cpp.github.io/cppwp/n4140/class.copy#6\" rel=\"nofollow noreferrer\">[class.copy]/6</a></p>\n<blockquote>\n<p id=\"so_41184852_41185071_0\">A declaration of a constructor for a class <code>X</code> is ill-formed if its first parameter is of type (optionally cv-qualified) <code>X</code> and either there are no other parameters or else all other parameters have default arguments. </p>\n</blockquote>\n", "LastEditorUserId": "4672588", "LastActivityDate": "2016-12-16T13:07:00.993", "Score": "5", "CreationDate": "2016-12-16T13:04:40.143", "ParentId": "41184852", "CommentCount": "5", "OwnerUserId": "4672588", "LastEditDate": "2016-12-16T13:07:00.993"}});