post_cb({"11574995": {"CommentCount": "0", "CreationDate": "2012-07-20T07:43:34.060", "PostTypeId": "1", "AcceptedAnswerId": "11575027", "LastEditorUserId": "168175", "LastActivityDate": "2012-07-20T12:38:03.620", "LastEditDate": "2012-07-20T12:38:03.620", "ViewCount": "501", "FavoriteCount": "3", "Title": "Exception is caught twice", "Id": "11574995", "Score": "12", "Body": "<pre><code>class A{\n    public:\n        A() { throw string(\"exception A\"); };\n};\n\nclass B{\n    A a;\n    public:\n        B() try : a() {} catch(string&amp; s) { cout &lt;&lt; &amp;s &lt;&lt; \" \" &lt;&lt; s &lt;&lt; endl; };\n};\n\nint main(){    \n    try{\n        B b;\n    }catch(string&amp; s){\n        cout &lt;&lt; &amp;s &lt;&lt; \" \" &lt;&lt; s &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>0x32c88 exception A\n0x32c88 exception A\n</code></pre>\n<p>Since the exception was already caught in the constructor of <code>B</code>, why it still occur in the main function?</p>\n", "Tags": "<c++><exception><constructor>", "OwnerUserId": "1540043", "AnswerCount": "1"}, "11575027": {"ParentId": "11574995", "LastEditDate": "2012-07-20T07:58:05.530", "CommentCount": "0", "CreationDate": "2012-07-20T07:46:15.200", "OwnerUserId": "19563", "LastEditorUserId": "19563", "PostTypeId": "2", "Id": "11575027", "Score": "21", "Body": "<p>When the flow of contol reaches the end of the handler for a function-try-block of a constructor, the caught exception will automatically be re-thrown.</p>\n<p>You cannot suppress an exception thrown during the construction of a base class or member in a derived class constructor as this would lead to a constructed derived object with a base or member that had failed to be constructed.</p>\n<p>This GOTW is relevant: <a href=\"http://www.gotw.ca/gotw/066.htm\">http://www.gotw.ca/gotw/066.htm</a></p>\n<p>From ISO/IEC 14882:2011 15.3 [except.handle] / 15:</p>\n<blockquote>\n<p id=\"so_11574995_11575027_0\">The currently handled exception is rethrown if control reaches the end of a handler of the <em>function-try-block</em> of a constructor or destructor. [...]</p>\n</blockquote>\n", "LastActivityDate": "2012-07-20T07:58:05.530"}, "bq_ids": {"n4140": {"so_11574995_11575027_0": {"section_id": 3360, "quality": 0.9166666666666666, "length": 11}}, "n3337": {"so_11574995_11575027_0": {"section_id": 3230, "quality": 0.9166666666666666, "length": 11}}, "n4659": {"so_11574995_11575027_0": {"section_id": 4126, "quality": 0.9166666666666666, "length": 11}}}});