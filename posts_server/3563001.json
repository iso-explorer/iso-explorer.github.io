post_cb({"3563048": {"Id": "3563048", "PostTypeId": "2", "Body": "<p>A good compiler (e.g. gcc) will issue a warning if you make such a mistake, and have a command line switch to return a non-zero error status if any warnings were encountered.  This is undefined behaviour: the result you're seeing is whatever value happened to be in the place that the compiler would normally expect a function returning int to use: for example, the accumulator register or some spot on the stack.  Your code doesn't copy a+b into that location, so whatever was last put in there will be seen instead.  Still, you're not even guaranteed to get a result - some compiler/architecture might do something that can crash the machine if the function didn't have a return statement: for example - pop() a value from the stack on the assumption that return has pushed one - future uses of the stack (including reading function-return addresses) could then get results from the memory address above or below the intended one.</p>\n", "LastActivityDate": "2010-08-25T05:21:41.193", "CommentCount": "0", "CreationDate": "2010-08-25T05:21:41.193", "ParentId": "3563001", "Score": "0", "OwnerUserId": "410767"}, "3563124": {"Id": "3563124", "PostTypeId": "2", "Body": "<blockquote>\n<p id=\"so_3563001_3563124_0\">$6.6.3/2- \"Flowing off the end of a\n  function is equivalent to a return\n  with no value; this results in\n  <em>undefined behavior</em> in a\n  value-returning function.\"</p>\n</blockquote>\n<p>A compiler may or may not diagnose such a condition.</p>\n<p>Here</p>\n<blockquote>\n<p id=\"so_3563001_3563124_1\">else a + b;</p>\n</blockquote>\n<p>is treated as an expression without any side effect.</p>\n", "LastEditorUserId": "418110", "LastActivityDate": "2010-08-25T05:52:25.070", "Score": "2", "CreationDate": "2010-08-25T05:41:10.977", "ParentId": "3563001", "CommentCount": "0", "OwnerUserId": "418110", "LastEditDate": "2010-08-25T05:52:25.070"}, "3563016": {"Id": "3563016", "PostTypeId": "2", "Body": "<p>This what is called <em>undefined behavior</em>. Anything can happen.</p>\n<p>C++ does not require you to always return a value at the end of a function, because it's possible to write code that never gets there:</p>\n<pre><code>int fff ( int a , int b )\n{\n   if (a&gt;b )\n      return 0;\n   else return a+b;\n\n   // still no return at end of function\n   // syntactically, just as bad as original example\n   // semantically, nothing bad can happen\n}\n</code></pre>\n<p>However, the compiler cannot determine if you never get to the end of the function, and the most it can do is give a warning. It's up to you to avoid falling off the end without a <code>return</code>.</p>\n<p>And if you do, you might get a random value, or you might crash.</p>\n", "LastActivityDate": "2010-08-25T05:14:52.177", "CommentCount": "0", "CreationDate": "2010-08-25T05:14:52.177", "ParentId": "3563001", "Score": "5", "OwnerUserId": "153285"}, "bq_ids": {"n4140": {"so_3563001_3563124_0": {"length": 12, "quality": 0.9230769230769231, "section_id": 3913}}, "n3337": {"so_3563001_3563124_0": {"length": 12, "quality": 0.9230769230769231, "section_id": 3773}}, "n4659": {"so_3563001_3563124_0": {"length": 9, "quality": 0.6923076923076923, "section_id": 4799}}}, "3563040": {"Id": "3563040", "PostTypeId": "2", "Body": "<p>the \"random\" return vaule is determined by the CPU register value after the call, since the register is 1 after the call, so the value is 1. </p>\n<p>If you change you code, the function will return diffrent value.</p>\n", "LastActivityDate": "2010-08-25T05:19:41.223", "CommentCount": "0", "CreationDate": "2010-08-25T05:19:41.223", "ParentId": "3563001", "Score": "0", "OwnerUserId": "47936"}, "3563001": {"ViewCount": "722", "Body": "<p>I have the following code in c++:<br/></p>\n<pre><code>    int fff ( int a , int b )\n{\n   if (a&gt;b )\n      return 0;\n   else a+b ; \n}\n</code></pre>\n<p>although I didn't write 'return' after else it does not make error ! &lt; br/&gt;\nin main() when I  wrote: <br/></p>\n<pre><code>cout&lt;&lt;fff(1,2);\n</code></pre>\n<p>it printed 1 ?\nHow did that happened <br/>\ncan any one Explain that ?</p>\n", "AcceptedAnswerId": "3563016", "Title": "c++ return value", "CreationDate": "2010-08-25T05:11:20.183", "Id": "3563001", "CommentCount": "4", "PostTypeId": "1", "LastActivityDate": "2010-08-25T05:52:25.070", "Score": "2", "OwnerUserId": "418288", "Tags": "<c++><if-statement>", "AnswerCount": "4"}});