post_cb({"bq_ids": {"n4140": {"so_12764294_12764352_1": {"length": 6, "quality": 0.6, "section_id": 404}, "so_12764294_12764352_0": {"length": 6, "quality": 0.6, "section_id": 438}, "so_12764294_12764308_0": {"length": 34, "quality": 1.0, "section_id": 404}}, "n3337": {"so_12764294_12764352_1": {"length": 6, "quality": 0.6, "section_id": 395}, "so_12764294_12764308_0": {"length": 34, "quality": 1.0, "section_id": 395}, "so_12764294_12764352_0": {"length": 6, "quality": 0.6, "section_id": 429}}, "n4659": {"so_12764294_12764352_1": {"length": 6, "quality": 0.6, "section_id": 422}, "so_12764294_12764352_0": {"length": 6, "quality": 0.6, "section_id": 458}, "so_12764294_12764308_0": {"length": 34, "quality": 1.0, "section_id": 422}}}, "12764308": {"Id": "12764308", "PostTypeId": "2", "Body": "<p>The <code>mystream</code> data member is destroyed during the destruction of the <code>Foo</code> object, <em>after</em> the body of <code>~Foo()</code> is executed.  C++11 \u00a712.4[class.dtor]/8 states:</p>\n<blockquote>\n<p id=\"so_12764294_12764308_0\">After executing the body of the destructor and destroying any automatic objects allocated within the body, a destructor for class <code>X</code> calls the destructors for <code>X</code>'s direct non-variant non-static data members, the destructors for <code>X</code>'s direct base classes and, if <code>X</code> is the type of the most derived class, its destructor calls the destructors for <code>X</code>'s virtual base classes.</p>\n</blockquote>\n<p><code>mystream</code> is a non-variant, non-static data member of <code>Foo</code> (a <em>variant</em> data member is a member of a union; <code>Foo</code> is not a union). </p>\n", "LastActivityDate": "2012-10-06T22:08:20.377", "CommentCount": "0", "CreationDate": "2012-10-06T22:08:20.377", "ParentId": "12764294", "Score": "11", "OwnerUserId": "151292"}, "12764352": {"Id": "12764352", "PostTypeId": "2", "Body": "<p>It's the reverse of construction:</p>\n<blockquote>\n<p id=\"so_12764294_12764352_0\">construction: base classes, data members (<code>mystream</code> constructed here), constructor body</p>\n<p id=\"so_12764294_12764352_1\">destruction: destructor body, data members (<code>mystream</code> destroyed here), base classes</p>\n</blockquote>\n", "LastActivityDate": "2012-10-06T22:13:55.123", "CommentCount": "0", "CreationDate": "2012-10-06T22:13:55.123", "ParentId": "12764294", "Score": "2", "OwnerUserId": "906773"}, "12764294": {"ViewCount": "552", "Body": "<p>What is the lifetime of a C++ class member. For example, at which time will the <code>std::fstream</code> of a <code>Foo</code> object be released? When entering the destructor or when leaving the destructor? Is this defined in the C++ standard?</p>\n<pre><code>struct Foo\n{\n    std::fstream mystream;\n    ~Foo()\n    {\n        // wait for thread writing to mystream\n    }\n};\n</code></pre>\n", "AcceptedAnswerId": "12764308", "Title": "Lifetime of C++ class members", "CreationDate": "2012-10-06T22:05:17.073", "Id": "12764294", "CommentCount": "0", "FavoriteCount": "1", "PostTypeId": "1", "LastEditDate": "2012-10-06T22:06:26.510", "LastEditorUserId": "221061", "LastActivityDate": "2012-10-06T22:13:55.123", "Score": "6", "OwnerUserId": "84349", "Tags": "<c++><raii>", "AnswerCount": "2"}});