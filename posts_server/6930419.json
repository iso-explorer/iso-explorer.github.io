post_cb({"6930566": {"ParentId": "6930419", "CommentCount": "0", "Body": "<p>It depends on the compiler you are using.</p>\n<p>When you compile this code, a normal compiler will cause a warning similar to:</p>\n<blockquote>\n<p id=\"so_6930419_6930566_0\">warning C4715: 'func' : not all control paths return a value</p>\n</blockquote>\n<p>It looks like your compiler is placing a statement that returns <code>0</code> when it doesn't find a <code>return</code> statement on the way out.  So, <code>x</code> will be assigned <code>0</code>.</p>\n", "OwnerUserId": "493683", "PostTypeId": "2", "Id": "6930566", "Score": "1", "CreationDate": "2011-08-03T17:26:21.253", "LastActivityDate": "2011-08-03T17:26:21.253"}, "6930450": {"ParentId": "6930419", "CommentCount": "0", "Body": "<p>It is causing undefined behavior. The condition is false so there is no return value from the function.</p>\n", "OwnerUserId": "452307", "PostTypeId": "2", "Id": "6930450", "Score": "4", "CreationDate": "2011-08-03T17:17:30.103", "LastActivityDate": "2011-08-03T17:17:30.103"}, "6930419": {"CommentCount": "1", "ViewCount": "293", "PostTypeId": "1", "LastEditorUserId": "1065190", "CreationDate": "2011-08-03T17:15:06.607", "LastActivityDate": "2012-11-14T20:12:34.660", "LastEditDate": "2012-11-14T20:12:34.660", "AcceptedAnswerId": "6930463", "OwnerDisplayName": "user72424", "Title": "Assignment to non-void functions (returning nothing) can change the values?", "Id": "6930419", "Score": "3", "Body": "<p>I encountered this problem in my program which was creating problems. so let me explain it by a example:</p>\n<pre><code>#include&lt;iostream&gt;\n\nint func(){\n        if(1==0) return 100;\n}\n\nint main(){\n\n        int x=99;\n        x= func();\n        std::cout&lt;&lt;\"Value of x: \" &lt;&lt; x &lt;&lt;std::endl;\n}\n</code></pre>\n<p>I had thought the output will be <code>99</code> but output is <code>0</code>, so what's going on here?</p>\n", "Tags": "<c++>", "AnswerCount": "6"}, "6930504": {"ParentId": "6930419", "CommentCount": "0", "Body": "<p>As everyone else has said, you have undefined behavior. As for how to fix/identify it, one way would be to use warning flags when compiling your program. If you run your code in codepad, it's easy to see the issue:</p>\n<p><a href=\"http://codepad.org/MXDSniWw\" rel=\"nofollow\">http://codepad.org/MXDSniWw</a></p>\n<pre><code>cc1plus: warnings being treated as errors\nIn function 'int func()':\nLine 5: warning: control reaches end of non-void function\n</code></pre>\n<p>In <code>func()</code>, your if loop is never true, but you haven't specified any other return value, so you have undefined behavior. Adding <code>return 0;</code> after the <code>if..</code> will fix the issue. </p>\n", "OwnerUserId": "389634", "PostTypeId": "2", "Id": "6930504", "Score": "0", "CreationDate": "2011-08-03T17:21:52.650", "LastActivityDate": "2011-08-03T17:21:52.650"}, "6930463": {"ParentId": "6930419", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>You have <em>undefined behavior</em> because your function is declared to return an <code>int</code> but the execution path through the function never reaches a <code>return</code> statement.</p>\n<p>In C++ it is illegal to exit a function defined as returning a non-<code>void</code> type other than via a return statement with an argument.</p>\n<p>ISO/IEC 14882:2003 6.6.3 [stmt.return] / 2:</p>\n<blockquote>\n<p id=\"so_6930419_6930463_0\">[...] Flowing off the end of a function is equivalent to a return with no value; this results in undefined behavior in a value-returning function.</p>\n</blockquote>\n", "OwnerUserId": "19563", "LastEditorUserId": "19563", "LastEditDate": "2011-08-03T17:27:37.827", "Id": "6930463", "Score": "3", "CreationDate": "2011-08-03T17:18:24.227", "LastActivityDate": "2011-08-03T17:27:37.827"}, "6939990": {"ParentId": "6930419", "CommentCount": "0", "Body": "<p>So you expect a 99, the safest bet is to pass x by reference:</p>\n<pre><code>#include&lt;iostream&gt;\n\nvoid func(int&amp; a){\n    if (1==0)\n        a = 100;\n}\n\nint main(){\n    int x(99);\n    func(x);\n    std::cout &lt;&lt; \"Value of x: \" &lt;&lt; x &lt;&lt; std::endl;\n}\n</code></pre>\n", "OwnerUserId": "870609", "PostTypeId": "2", "Id": "6939990", "Score": "0", "CreationDate": "2011-08-04T10:42:45.947", "LastActivityDate": "2011-08-04T10:42:45.947"}, "6930483": {"ParentId": "6930419", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>From C++03 6.6.3/2 \"The return statement\":</p>\n<blockquote>\n<p id=\"so_6930419_6930483_0\">Flowing off the end of a function is equivalent to a return with no value; this results in undefined behavior in a value-returning function.</p>\n</blockquote>\n<p>Since your function flows \"off the end\", it's UB and you can expect nothing (or anything).</p>\n<p>As a side note: this is slightly different than in C, where flowing off the end of a function that is declared to return something is <em>not</em> UB in itself - it becomes UB only if the caller <em>uses</em> the result of a function that does that.</p>\n<p>In other words, using your example, in C++ you have UB at the moment <code>func()</code> returns, whether that result is assigned to <code>x</code> or not. In C it's UB only because you assign the result to <code>x</code>.</p>\n", "OwnerUserId": "12711", "LastEditorUserId": "12711", "LastEditDate": "2011-08-03T17:46:16.283", "Id": "6930483", "Score": "2", "CreationDate": "2011-08-03T17:19:59.063", "LastActivityDate": "2011-08-03T17:46:16.283"}, "bq_ids": {"n4140": {"so_6930419_6930483_0": {"section_id": 3913, "quality": 1.0, "length": 12}, "so_6930419_6930463_0": {"section_id": 3913, "quality": 1.0, "length": 12}}, "n3337": {"so_6930419_6930483_0": {"section_id": 3773, "quality": 1.0, "length": 12}, "so_6930419_6930463_0": {"section_id": 3773, "quality": 1.0, "length": 12}}, "n4659": {"so_6930419_6930483_0": {"section_id": 4799, "quality": 0.75, "length": 9}, "so_6930419_6930463_0": {"section_id": 4799, "quality": 0.75, "length": 9}}}});