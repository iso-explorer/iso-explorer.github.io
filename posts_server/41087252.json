post_cb({"41087252": {"CommentCount": "5", "ViewCount": "249", "PostTypeId": "1", "LastEditorUserId": "2449761", "CreationDate": "2016-12-11T14:31:17.597", "LastActivityDate": "2016-12-11T14:38:16.060", "Title": "typeid / type_info strange behaviour", "AcceptedAnswerId": "41087317", "LastEditDate": "2016-12-11T14:35:37.367", "Id": "41087252", "Score": "7", "Body": "<p>Why following example:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;typeinfo&gt;\n\ntemplate&lt;typename T&gt;\nvoid fun(const T&amp; param)\n{\n        std::cout &lt;&lt; \"T = \" &lt;&lt; typeid(T).name() &lt;&lt; std::endl;\n        std::cout &lt;&lt; \"param = \" &lt;&lt; typeid(param).name() &lt;&lt; std::endl;\n        std::cout &lt;&lt; (typeid(T)==typeid(param)) &lt;&lt; std::endl;\n}\n\nint main(int, char**)\n{\n        fun(1);\n}\n</code></pre>\n<p>gives following output:</p>\n<pre><code>T is i\nparam is i\n1\n</code></pre>\n<p>I know that <code>type_info::name()</code> behaviour is implementation dependent. Anyway I would expect <code>operator==</code> to return <code>false</code> (because <code>param</code> is a const reference and not an integer). </p>\n", "Tags": "<c++><typeid>", "OwnerUserId": "2449761", "AnswerCount": "1"}, "41087317": {"ParentId": "41087252", "CommentCount": "0", "Body": "<p>This is defined so in the standard:  </p>\n<blockquote>\n<p id=\"so_41087252_41087317_0\"><strong>5.2.8/5:</strong> If the type of the expression or type-id is a cv-qualified type, the result of the typeid expression refers to a\n  std::type_info object representing the cv-unqualified type  [Example:</p>\n<pre><code>class D { /* ... */ };\nD d1;\nconst D d2;\ntypeid(d1) == typeid(d2); // yields true\ntypeid(D) == typeid(const D); // yields true\ntypeid(D) == typeid(d2); // yields true\ntypeid(D) == typeid(const D&amp;); // yields true\n</code></pre>\n<p id=\"so_41087252_41087317_1\">\u2014end example ]</p>\n</blockquote>\n", "OwnerUserId": "3723423", "PostTypeId": "2", "Id": "41087317", "Score": "16", "CreationDate": "2016-12-11T14:38:16.060", "LastActivityDate": "2016-12-11T14:38:16.060"}, "bq_ids": {"n4140": {"so_41087252_41087317_0": {"section_id": 6024, "quality": 0.875, "length": 14}}, "n3337": {"so_41087252_41087317_0": {"section_id": 5791, "quality": 0.6875, "length": 11}}, "n4659": {"so_41087252_41087317_0": {"section_id": 7523, "quality": 0.875, "length": 14}}}});