post_cb({"22566777": {"ParentId": "22566388", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>A conversion function to a base class is syntactically legal, but it will never be called. From standard draft n3337:</p>\n<blockquote>\n<p id=\"so_22566388_22566777_0\"><strong>12.3.2 Conversion functions [class.conv.fct] \u00a71</strong></p>\n<p id=\"so_22566388_22566777_1\">[...] A conversion function is never used to convert a (possibly\n  cv-quali\ufb01ed) object to the (possibly cv-quali\ufb01ed) same object type (or\n  a reference to it), to a (possibly cv-quali\ufb01ed) base class of that\n  type (or a reference to it), or to (possibly cv-quali\ufb01ed) void. [...]</p>\n</blockquote>\n<p>The language has got different mechanism for conversions from derived to base. Read about <a href=\"https://stackoverflow.com/questions/274626/what-is-the-slicing-problem-in-c\">object slicing</a>. To put it simply - it's done automatically for you.</p>\n", "OwnerUserId": "947836", "LastEditorUserId": "-1", "LastEditDate": "2017-05-23T12:28:48.790", "Id": "22566777", "Score": "1", "CreationDate": "2014-03-21T18:29:17.177", "LastActivityDate": "2014-03-21T18:29:17.177"}, "22566388": {"CommentCount": "3", "ViewCount": "177", "CreationDate": "2014-03-21T18:08:49.163", "LastActivityDate": "2014-03-21T18:29:17.177", "Title": "C++ Define Conversion to Base Class", "AcceptedAnswerId": "22566777", "PostTypeId": "1", "Id": "22566388", "Score": "0", "Body": "<p>I'm having difficulty defining and using a conversion operator to a base class.\nConsider the following:</p>\n<pre><code>class base \n{\npublic:\n    base(const base&amp;);\n    base&amp; operator=(const base&amp;);\n    //some stuff\n};\nclass child : public base\n{\npublic:\n    operator base() const;\n    //some more stuff\n};\n\nint main()\n{\n    child c;\n    base b=c;\n    b=c;\n}\n</code></pre>\n<p>If I attempt to convert a child to a base, <code>operator base()</code> is never called (even if I make the conversion explicit). Instead, the copy constructor or assignment operator from the base class is called directly, without a conversion.</p>\n<p>How can I cause <code>operator base()</code> to be called when a <code>child</code> is assigned (or copy-constructed) to a <code>base</code>?</p>\n", "Tags": "<c++><type-conversion>", "OwnerUserId": "2460632", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_22566388_22566777_1": {"section_id": 391, "quality": 0.8181818181818182, "length": 18}}, "n3337": {"so_22566388_22566777_1": {"section_id": 382, "quality": 0.8181818181818182, "length": 18}}, "n4659": {"so_22566388_22566777_1": {"section_id": 408, "quality": 0.8181818181818182, "length": 18}}}});