post_cb({"bq_ids": {"n4140": {"so_27857253_27857253_1": {"length": 6, "quality": 0.5454545454545454, "section_id": 5965}}}, "27857253": {"ViewCount": "829", "Body": "<p>How can I declare a function in a class that uses return type deduction?</p>\n<p>This is fine:  </p>\n<pre><code>auto foo() {\n    return 5;\n}\n</code></pre>\n<p>But this does not work:</p>\n<pre><code>class Test {\n    auto foo();\n};\nauto Test::foo() {\n    return 5;\n}\n</code></pre>\n<blockquote>\n<p id=\"so_27857253_27857253_0\">internal compiler error: in gen_type_die_with_usage, at dwarf2out.c:19486</p>\n</blockquote>\n<p>I don't know if it has anything to do with it but I am using QtCreator 3.3.</p>\n<p><strong>EDIT</strong>:\nI am using Qt 5.4 and QtCreator 3.3.\nI have added <code>CONFIG   += c++14</code> to the project file.\nBy default, I am using GCC 4.8.2 and I guess this is why I get the error (I need <a href=\"https://stackoverflow.com/questions/19846097/return-type-deduction-for-class-methods-c1y\">4.9</a>). However when I use Clang 3.5 (<a href=\"http://clang.llvm.org/cxx_status.html\" rel=\"nofollow noreferrer\">3.4</a> is needed) it says </p>\n<blockquote>\n<p id=\"so_27857253_27857253_1\">error: 'auto' return without trailing return type; deduced return types are a C++1y extension</p>\n</blockquote>\n<p><strong>EDIT2</strong>: This seems to be a bug with Qt and not with GCC. Outside of Qt I can write class functions with return type deductions and it compiles and runs just fine with GCC 4.8.2 and Clang 3.5.0</p>\n", "Title": "return type deduction and function declarations", "CreationDate": "2015-01-09T09:19:59.713", "LastActivityDate": "2015-03-09T08:56:08.613", "CommentCount": "10", "LastEditDate": "2017-05-23T12:03:58.277", "PostTypeId": "1", "LastEditorUserId": "-1", "Id": "27857253", "AnswerCount": "0", "Score": "0", "OwnerUserId": "2102827", "Tags": "<c++><c++14><return-type-deduction>", "FavoriteCount": "0"}});