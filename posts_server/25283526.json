post_cb({"25283690": {"ParentId": "25283526", "CommentCount": "2", "Body": "<p>try this:</p>\n<pre><code>#include&lt;stdio.h&gt;\nvoid main(void)\n{\n    float timeLeavingTP;\n    int transitNumber;\n    float transitTime;\n    printf(\"Please enter the time leaving TP.\\n\");\n    scanf_s(\"%f\",&amp;timeLeavingTP);\n    printf(\"Please enter bus number.\\n\");\n    scanf_s(\"%d\",&amp;transitNumber);\n    if(timeLeavingTP==1.00)\n    {\n\n        if(transitNumber==27)\n        {\n        printf(\"The time reached home is 1.54pm.\\n\");\n        }\n        if(transitNumber==8)\n        {\n        printf(\"The time reached home is 1.39pm.\\n\");\n        }\n        if(transitNumber==15)\n        {\n        printf(\"The time reached home is 1.42pm.\\n\");\n        }\n    }\n    if(timeLeavingTP==6.30) \n    {\n\n        if(transitNumber==27)\n        {\n        printf(\"The time reached home is 7.32pm\");\n        }\n        if(transitNumber==8)\n        {\n        printf(\"The time reached home is 7.29pm\");\n        }\n        if(transitNumber==15)\n        {\n        printf(\"The time reached home is 7.28pm.\\n\");\n        }\n    }\n}\n</code></pre>\n", "OwnerUserId": "3932256", "PostTypeId": "2", "Id": "25283690", "Score": "-1", "CreationDate": "2014-08-13T10:22:24.813", "LastActivityDate": "2014-08-13T10:22:24.813"}, "25283526": {"CommentCount": "2", "ViewCount": "61", "PostTypeId": "1", "LastEditorUserId": "3723423", "CreationDate": "2014-08-13T10:13:36.137", "LastActivityDate": "2014-08-13T17:33:59.313", "Title": "Cannot find second part of if-else loop", "LastEditDate": "2014-08-13T10:58:32.273", "Id": "25283526", "Score": "-2", "Body": "<p>Hi guys really need your help. There is some problem with my code and i can't figure out whats the error.T\nhis is my code:</p>\n<pre><code>#include&lt;stdio.h&gt;\nvoid main(void)\n{\n    float timeLeavingTP;\n    int transitNumber;\n    float transitTime;\n    printf(\"Please enter the time leaving TP.\\n\");\n    scanf_s(\"%f\",&amp;timeLeavingTP);\n    printf(\"Please enter bus number.\\n\");\n    scanf_s(\"%d\",&amp;transitNumber);\n    if(timeLeavingTP==1.00)\n    {\n\n        if(transitNumber==27)\n        {\n        printf(\"The time reached home is 1.54pm.\\n\");\n        }\n        if(transitNumber==8)\n        {\n        printf(\"The time reached home is 1.39pm.\\n\");\n        }\n        if(transitNumber==15)\n        {\n        printf(\"The time reached home is 1.42pm.\\n\");\n        }\n    }\n    else if(timeLeavingTP==6.30)    \n    {\n\n        if(transitNumber==27)\n        {\n        printf(\"The time reached home is 7.32pm\");\n        }\n        if(transitNumber==8)\n        {\n        printf(\"The time reached home is 7.29pm\");\n        }\n        if(transitNumber==15)\n        {\n        printf(\"The time reached home is 7.28pm.\\n\");\n        }\n    }\n}\n</code></pre>\n<p>After debugging i got </p>\n<pre><code>Please enter time leaving TP\n1.00\nPlease enter bus number\n27\nThe time reached home is 1.54pm\n</code></pre>\n<p>Another debugging</p>\n<pre><code>Please enter time leaving TP\n6.30\nPlease enter bus number\n27\nPlease enter any key to continue...\n</code></pre>\n<p>May i ask why did the 1.00 work and why the 6.30 do not work. Need your guys help. Thanks a lot!!</p>\n", "Tags": "<c++><if-statement><floating-point>", "OwnerUserId": "3936884", "AnswerCount": "7"}, "25283665": {"ParentId": "25283526", "CommentCount": "0", "Body": "<p>You should avoid using floats for time values like these.  A float will only equate a literal, if they are EXACTLY the same.  Due to way that a computer stores floating point numbers, they are never <em>exactly</em> what you entered (in this case, it could be stored as 6.30000, which won't be equal to 6.30 to the code).</p>\n<p>Since you're not doing anything fancy with the time, I'd suggest reading it in as a string, rather than a float.</p>\n", "OwnerUserId": "3924496", "PostTypeId": "2", "Id": "25283665", "Score": "1", "CreationDate": "2014-08-13T10:21:06.313", "LastActivityDate": "2014-08-13T10:21:06.313"}, "25283803": {"ParentId": "25283526", "CommentCount": "0", "Body": "<p>try using double instead of float for variables.</p>\n<pre><code>double timeLeavingTP;\n</code></pre>\n<p>The values of x and y aren't exactly 0.3 and 0.7, as those numbers aren't representable in binary floating point. It happens that the closest float to 0.3 is greater than the closest double to 0.3, and the closest float to 0.7 is less than the closest double to 0.7... hence your comparison results.</p>\n<p>Assuming the representations are the same as in C# (where I happen to have some tools to help) the values involved are:</p>\n<pre><code>0.3 as float = 0.300000011920928955078125\n0.3 as double = 0.299999999999999988897769753748434595763683319091796875\n0.7 as float = 0.699999988079071044921875\n0.7 as double = 0.6999999999999999555910790149937383830547332763671875\n</code></pre>\n<p>So that explains why it's happening... but it doesn't explain how to work around the issue for whatever your code is actually trying to do, of course. If you can give more context to the bigger problem, we may be able to help more.</p>\n", "OwnerUserId": "3171992", "PostTypeId": "2", "Id": "25283803", "Score": "1", "CreationDate": "2014-08-13T10:27:23.743", "LastActivityDate": "2014-08-13T10:27:23.743"}, "25292630": {"ParentId": "25283526", "CommentCount": "0", "Body": "<p>6.30 looks like a nice simple floating-point number, and in decimal it is, but in binary floating point it is not. 6.30 cannot be represented by a float, and it cannot be represented by a double. It cannot be perfectly represented by any binary floating-point number.</p>\n<p>When you write this statement (after assigning 6.30 to timeLeavingTP):</p>\n<pre><code>if(timeLeavingTP==6.30)\n</code></pre>\n<p>what you are actually doing is this:</p>\n<pre><code>if((float)6.30==(double)6.30)\n</code></pre>\n<p>You are comparing the 32-bit float representation of 6.30 to the 64-bit double representation of 6.30. Both are approximations. The double representation is a closer approximation. Therefore they are not equal.</p>\n<p>You could add an epsilon to allow for this slop, but better solutions would be to use 6.30f as your constant (make the right side also a float) or make timeLeavingTP a double. The goal is not to get greater accuracy, but to have <em>consistent</em> accuracy.</p>\n<p>See this article for details on this exact problem:</p>\n<p><a href=\"http://randomascii.wordpress.com/2012/06/26/doubles-are-not-floats-so-dont-compare-them/\" rel=\"nofollow\">http://randomascii.wordpress.com/2012/06/26/doubles-are-not-floats-so-dont-compare-them/</a></p>\n", "OwnerUserId": "1736452", "PostTypeId": "2", "Id": "25292630", "Score": "0", "CreationDate": "2014-08-13T17:33:59.313", "LastActivityDate": "2014-08-13T17:33:59.313"}, "25284192": {"ParentId": "25283526", "CommentCount": "0", "Body": "<p>Ok, already a lot of answers. Some additional information:     </p>\n<p>In C++ standard, section 2.14.14, it is stated that:  </p>\n<blockquote id=\"so_25283526_25284192_0\">\n<pre><code>The type of a floating literal is double unless explicitly specified by a suffix.\n</code></pre>\n</blockquote>\n<p>This means that you compare your float variable with a double constant.  Unfortunately floating point conversion (float and double) can give very small differences. But the difference is smaller for double which are more precise than for float.  This is why your float doesn't match the double.    </p>\n<p>To avoid this, either use two doubles (see a lot of other responses above), or use two floats, by changing your else if to:</p>\n<pre><code>else if (timeLeavingTP == 6.30f)\n</code></pre>\n", "OwnerUserId": "3723423", "PostTypeId": "2", "Id": "25284192", "Score": "1", "CreationDate": "2014-08-13T10:49:28.657", "LastActivityDate": "2014-08-13T10:49:28.657"}, "25284105": {"ParentId": "25283526", "CommentCount": "0", "Body": "<ul>\n<li>When comparing float to constant you should use extension f</li>\n</ul>\n<p>like this:</p>\n<pre><code> else if(timeLeavingTP==6.30f) \n</code></pre>\n<ul>\n<li>You really shouldn't use a float for time value.  6.30 is 6:30 or 6:18? what will happen if we add 1.40 to 6.30?</li>\n</ul>\n", "OwnerUserId": "2852165", "PostTypeId": "2", "Id": "25284105", "Score": "1", "CreationDate": "2014-08-13T10:44:53.120", "LastActivityDate": "2014-08-13T10:44:53.120"}, "bq_ids": {"n4140": {"so_25283526_25284192_0": {"section_id": 5348, "quality": 0.875, "length": 7}}, "n3337": {"so_25283526_25284192_0": {"section_id": 5145, "quality": 0.875, "length": 7}}, "n4659": {"so_25283526_25284192_0": {"section_id": 6773, "quality": 0.875, "length": 7}}}, "25283656": {"ParentId": "25283526", "PostTypeId": "2", "CommentCount": "1", "Body": "<p>This might help you:\n<a href=\"http://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/\" rel=\"nofollow noreferrer\">http://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/</a></p>\n<p>You are comparing floating point number for equality which may not work. Also read, the following question:</p>\n<p><a href=\"https://stackoverflow.com/questions/17333/most-effective-way-for-float-and-double-comparison\">What is the most effective way for float and double comparison?</a></p>\n<p>This link will also the useful:</p>\n<p><a href=\"http://www.cygnus-software.com/papers/comparingfloats/comparingfloats.htm\" rel=\"nofollow noreferrer\">http://www.cygnus-software.com/papers/comparingfloats/comparingfloats.htm</a></p>\n<p>Solution which I suggest in your case is to keep time in integer format (by using 24 hour time format such as 1300 etc) which is in integer and there equality comparison will work.</p>\n<p>Also read in C++ FAQs: <a href=\"http://www.parashift.com/c++-faq/floating-point-arith.html\" rel=\"nofollow noreferrer\">http://www.parashift.com/c++-faq/floating-point-arith.html</a></p>\n", "OwnerUserId": "1629262", "LastEditorUserId": "-1", "LastEditDate": "2017-05-23T11:49:31.090", "Id": "25283656", "Score": "3", "CreationDate": "2014-08-13T10:20:37.543", "LastActivityDate": "2014-08-13T10:20:37.543"}});