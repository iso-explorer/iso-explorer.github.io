post_cb({"18354717": {"Id": "18354717", "PostTypeId": "2", "Body": "<p>No, always use new/delete and new[]/delete[] in pair. So don't use delete[] if you haven't explicitly used new[]</p>\n", "LastActivityDate": "2013-08-21T10:14:11.760", "CommentCount": "0", "CreationDate": "2013-08-21T10:14:11.760", "ParentId": "18354548", "Score": "1", "OwnerUserId": "1068497"}, "bq_ids": {"n4140": {"so_18354548_18354724_1": {"length": 28, "quality": 1.0, "section_id": 6089}}, "n3337": {"so_18354548_18354724_1": {"length": 28, "quality": 1.0, "section_id": 5857}}, "n4659": {"so_18354548_18354724_1": {"length": 28, "quality": 1.0, "section_id": 7585}}}, "18354612": {"Id": "18354612", "PostTypeId": "2", "Body": "<p>Why would you ? <code>mpRt</code> isn't an array allocated with <code>new[]</code>.</p>\n<p>It may contain an array (as hints the argument name <code>ENTRYMX</code>), but <code>mpRt</code> isn't of an array type in itself. The management of the memory related to this array is internal to the class, and not the responsibility of the code that creates object of this class.</p>\n<p>Rule of thumb : match <code>new</code>s with <code>delete</code>s and <code>new type[]</code>s with <code>delete []</code>s.</p>\n", "LastActivityDate": "2013-08-21T10:09:17.530", "CommentCount": "0", "CreationDate": "2013-08-21T10:09:17.530", "ParentId": "18354548", "Score": "1", "OwnerUserId": "1594913"}, "18354594": {"Id": "18354594", "PostTypeId": "2", "Body": "<blockquote>\n<p id=\"so_18354548_18354594_0\">I am trying to understand whether Do i have to do <code>delete [] mpRt</code></p>\n</blockquote>\n<p>No, you allocate <code>mpRt</code> by <code>operator new</code> then you call <code>delete mpRt;</code> You have to call <code>new/delete</code> and <code>new [] /delete[]</code> in pair.</p>\n<p>If you use <code>ENTRYMX</code> inside <code>HashTable</code> to dynamically allocate memory with <code>new[]</code>, you need to call <code>delete[]</code> inside <code>HashTable</code> to deallocate it. Also don't forget to follow <a href=\"https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">Rule of Three.</a></p>\n", "LastEditorUserId": "-1", "LastActivityDate": "2013-08-21T10:08:39.970", "Score": "2", "CreationDate": "2013-08-21T10:08:39.970", "ParentId": "18354548", "CommentCount": "3", "OwnerUserId": "951757", "LastEditDate": "2017-05-23T12:05:19.613"}, "18354724": {"Id": "18354724", "PostTypeId": "2", "Body": "<p>From the standard :</p>\n<blockquote>\n<p id=\"so_18354548_18354724_0\"><strong>5.3.4 New [expr.new]</strong></p>\n<p id=\"so_18354548_18354724_1\">8/ If the allocated type is a non-array type, the allocation function\u2019s name is <code>operator new</code> and the deallocation function\u2019s name is <code>operator delete</code>. If the allocated type is an array type, the allocation function\u2019s name is <code>operator new[]</code> and the deallocation function\u2019s name is <code>operator delete[]</code>.</p>\n</blockquote>\n<p><strong><code>new</code> comes always with <code>delete</code>.</strong></p>\n<p><strong><code>new []</code> comes always with <code>delete []</code>.</strong></p>\n<p>In your case, <code>mpRt</code> is allocated with the <code>operator new</code>, you must deallocate it with <code>delete</code>.</p>\n", "LastEditorUserId": "1394283", "LastActivityDate": "2013-08-21T10:35:44.630", "Score": "2", "CreationDate": "2013-08-21T10:14:48.650", "ParentId": "18354548", "CommentCount": "2", "OwnerUserId": "1394283", "LastEditDate": "2013-08-21T10:35:44.630"}, "18354548": {"ViewCount": "74", "Body": "<p>I want to understand something about dynamic memory: new and delete for a class template as below.</p>\n<p>I have class template defined by some library(in house developed) which defines\nthe class template as below.</p>\n<pre><code>template &lt;class DAT, class IDX, int ENTRYMX=0x20, int SUBMX=34, int bsz=8&gt; \nclass HashTable : public public HashTableIn\n{\nHashTable () \n: HashTableIn(ENTRYMX),\n  ...\n\n\n...\n...\n}\n</code></pre>\n<p>In my code I use  an object of that template class as:</p>\n<pre><code>mpRt = new HashTable&lt;data_st,index_st&gt;;\n</code></pre>\n<p>and I delete this mpRt explicitly as( I know smart pointers... but currently they arent used in this legacy code so lets leave them out)</p>\n<pre><code>delete mpRt;\n</code></pre>\n<p>My question:\n  I am trying to understand whether Do i have to do </p>\n<pre><code>delete [] mpRt\n\nbecause the class template has a default argument of ENTRYMX = 0x20\n</code></pre>\n", "AcceptedAnswerId": "18354594", "Title": "C++ delete operation related query", "CreationDate": "2013-08-21T10:06:48.363", "Id": "18354548", "CommentCount": "0", "FavoriteCount": "0", "PostTypeId": "1", "LastEditDate": "2014-11-22T21:20:11.677", "LastEditorUserId": "1530549", "LastActivityDate": "2014-11-22T21:20:11.677", "Score": "0", "OwnerUserId": "2759376", "Tags": "<c++><class><templates><delete-operator>", "AnswerCount": "4"}});