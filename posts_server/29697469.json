post_cb({"29697590": {"ParentId": "29697469", "CommentCount": "0", "Body": "<p>Yes, it must be instantiated; <code>doublestruct</code> is a member of the instantiation so, if you do not have an instantiation, you do not have a <code>doublestruct</code>.</p>\n<blockquote>\n<p id=\"so_29697469_29697590_0\"><code>[C++11: 14.7.1]:</code> Unless a class template specialization has been explicitly instantiated (14.7.2) or explicitly specialized (14.7.3), the class template specialization is implicitly instantiated when the specialization is referenced in a context that requires a completely-defined object type or when the completeness of the class type affects the semantics of the program. <em>[..]</em></p>\n</blockquote>\n<p>In particular, consider the potential effect of specialisations of <code>mystruct</code> that may not contain a member <code>doublestruct</code>, or may contain one that is not a type.</p>\n", "OwnerUserId": "560648", "PostTypeId": "2", "Id": "29697590", "Score": "16", "CreationDate": "2015-04-17T11:11:01.217", "LastActivityDate": "2015-04-17T11:11:01.217"}, "29697640": {"ParentId": "29697469", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>Yes, it will have to instantiate <code>mystruct&lt;int&gt;</code> in order to access its members and determine the meaning of <code>doublestruct</code>. You could test this with a <code>static_assert</code>:</p>\n<pre><code>#include &lt;type_traits&gt;\n\ntemplate &lt;typename T = int&gt;\nstruct mystruct {\n  static_assert(!std::is_same&lt;T,int&gt;::value, \"\");\n  using doublestruct = mystruct&lt;double&gt;;\n};\n\nmystruct&lt;&gt;::doublestruct obj;     // assertion fails for T==int\nmystruct&lt;char&gt;::doublestruct obj; // OK, not instantiated for int\n</code></pre>\n", "OwnerUserId": "204847", "LastEditorUserId": "204847", "LastEditDate": "2015-04-17T11:15:23.597", "Id": "29697640", "Score": "18", "CreationDate": "2015-04-17T11:13:17.660", "LastActivityDate": "2015-04-17T11:15:23.597"}, "29697469": {"CommentCount": "2", "AcceptedAnswerId": "29697640", "PostTypeId": "1", "LastEditorUserId": "476681", "CreationDate": "2015-04-17T11:05:39.570", "LastActivityDate": "2015-04-17T11:31:00.870", "LastEditDate": "2015-04-17T11:31:00.870", "ViewCount": "508", "FavoriteCount": "1", "Title": "Instantiation of template", "Id": "29697469", "Score": "24", "Body": "<p>If I have the following code:</p>\n<pre><code>template &lt;typename T = int&gt;\nstruct mystruct {\n  using doublestruct = mystruct&lt;double&gt;;\n}\n\nmystruct&lt;&gt;::doublestruct obj;\n</code></pre>\n<p>Does this instantiate the <code>mystruct&lt;int&gt;</code> template at all? Or only the <code>mystruct&lt;double&gt;</code> is instantiated?</p>\n", "Tags": "<c++><templates>", "OwnerUserId": "4715851", "AnswerCount": "2"}, "bq_ids": {"n4140": {"so_29697469_29697590_0": {"section_id": 233, "quality": 0.84375, "length": 27}}, "n3337": {"so_29697469_29697590_0": {"section_id": 226, "quality": 0.84375, "length": 27}}, "n4659": {"so_29697469_29697590_0": {"section_id": 242, "quality": 0.84375, "length": 27}}}});