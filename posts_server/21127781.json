post_cb({"21127781": {"CommentCount": "1", "ViewCount": "93", "PostTypeId": "1", "ClosedDate": "2014-03-06T11:06:35.230", "LastEditorUserId": "701092", "CreationDate": "2014-01-15T01:57:26.687", "LastActivityDate": "2014-01-15T02:20:54.627", "Title": "What is the way to store a 2-D array pointer?", "AcceptedAnswerId": "21127897", "LastEditDate": "2014-01-15T02:02:23.110", "Id": "21127781", "Score": "0", "Body": "<p>Suppose I have a 2-D array of floats:</p>\n<pre><code>float a[1024][1024];\n</code></pre>\n<p>I want to store the pointer to array</p>\n<p>I did:</p>\n<pre><code>float** temp = a;\n</code></pre>\n<p>but doesn't seem to work. It gives the error:</p>\n<blockquote>\n<p id=\"so_21127781_21127781_0\">main.cpp: In function <code>'int main()'</code>:<br>\n  main.cpp:105:24: error: cannot convert <code>'float (*)[1024]'</code> to <code>'float**'</code> in initialization</br></p>\n<pre><code>   float ** temp = old_array;\n</code></pre>\n</blockquote>\n<p>Any help is appreciated! Thanks!</p>\n", "Tags": "<c++><arrays><pointers><multidimensional-array>", "OwnerUserId": "3059427", "AnswerCount": "1"}, "21127897": {"ParentId": "21127781", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Arrays decay to pointers. In the case of 2D arrays, an array of type <code>T[x][y]</code> will decay into <code>T(*)[y]</code>, not to <code>T**</code>.</p>\n<blockquote>\n<p id=\"so_21127781_21127897_0\"><strong>\u00a7 (8.3.4) Arrays:</strong></p>\n<p id=\"so_21127781_21127897_1\">If <code>E</code> is an n-dimensional array of rank <code>i \u00d7 j \u00d7 ... \u00d7 k</code>,\n  then <code>E</code> appearing in an expression that is subject to the array-to-pointer conversion (4.2) is converted to a\n  pointer to an <code>(n\u22121)</code>-dimensional array with rank <code>j \u00d7 ... \u00d7 k</code>. If the <code>*</code> operator, either explicitly or implicitly as a result of subscripting, is applied to this pointer, the result is the pointed-to <code>(n \u2212 1)</code>-dimensional array, which itself is immediately converted into a pointer.</p>\n</blockquote>\n<p>Your options are to manually reconfigure the type to match the type of the expression...</p>\n<pre><code>float (*temp)[1024] = a;\n</code></pre>\n<p>or use a multi-deminsional <code>std::vector</code> or <code>std::array</code> (C++11)...</p>\n<pre><code>std::array&lt;std::array&lt;int, 1024&gt;, 1024&gt; a;\nauto temp = a;\n</code></pre>\n", "OwnerUserId": "701092", "LastEditorUserId": "701092", "LastEditDate": "2014-01-15T02:20:54.627", "Id": "21127897", "Score": "3", "CreationDate": "2014-01-15T02:10:20.137", "LastActivityDate": "2014-01-15T02:20:54.627"}, "bq_ids": {"n4140": {"so_21127781_21127897_1": {"section_id": 3234, "quality": 0.9354838709677419, "length": 29}}, "n3337": {"so_21127781_21127897_1": {"section_id": 3107, "quality": 0.9354838709677419, "length": 29}}, "n4659": {"so_21127781_21127897_1": {"section_id": 3991, "quality": 0.9354838709677419, "length": 29}}}});