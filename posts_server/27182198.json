post_cb({"27182198": {"CommentCount": "8", "ViewCount": "57", "OwnerDisplayName": "user2953119", "CreationDate": "2014-11-28T05:02:44.177", "LastActivityDate": "2014-11-28T05:02:44.177", "Title": "A type of initializer?", "PostTypeId": "1", "Id": "27182198", "Score": "0", "Body": "<p>In the following program <code>a</code> is directly initialized with temporary:</p>\n<pre><code>#include &lt;iostream&gt;\n\nstruct B{ };\n\nstruct A\n{\n    A(int, B){ std::cout &lt;&lt; \"A(int, B)\" &lt;&lt; std::endl; }\n};\n\nA a({4,B()});\n\nint main(){ }\n</code></pre>\n<p><strong><a href=\"http://coliru.stacked-crooked.com/a/f3cf4e8f1d44d59b\" rel=\"nofollow\">DEMO</a></strong></p>\n<p>But what the Standard says is <code>N3797::8.5/17 [dcl.init]</code>:</p>\n<blockquote>\n<p id=\"so_27182198_27182198_0\">\u2014 If the destination type is a (possibly cv-qualified) class type:</p>\n<p id=\"so_27182198_27182198_1\">\u2014 If the initialization is direct-initialization, or if it is copy-initialization where the cv-\n  unqualified version of the source type is the same class as, or a derived class of, the class of<br>\n  the destination, constructors are considered. </br></p>\n<p id=\"so_27182198_27182198_2\">\u2014 Otherwise (i.e., <em>for the remaining copy-initialization cases</em>),\n  user-defined conversion sequences that can convert from the source\n  type to the destination type or (when a conversion function is used)\n  to a derived class thereof are enumerated as described in 13.3.1.4,\n  and the best one is chosen through overload resolution (13.3).</p>\n</blockquote>\n<p>[...]</p>\n<p>I don't understand what rule is applicabl to that case? Why is the temporary created and what is the type of initializer-expression <code>{4,B()}</code>?</p>\n", "Tags": "<c++><struct>", "AnswerCount": "0"}, "bq_ids": {"n4140": {"so_27182198_27182198_0": {"section_id": 3296, "quality": 1.0, "length": 6}, "so_27182198_27182198_1": {"section_id": 3296, "quality": 0.9333333333333333, "length": 14}, "so_27182198_27182198_2": {"section_id": 3296, "quality": 0.9310344827586207, "length": 27}}, "n3337": {"so_27182198_27182198_0": {"section_id": 3166, "quality": 1.0, "length": 6}, "so_27182198_27182198_1": {"section_id": 3166, "quality": 0.9333333333333333, "length": 14}, "so_27182198_27182198_2": {"section_id": 3166, "quality": 0.9310344827586207, "length": 27}}, "n4659": {"so_27182198_27182198_0": {"section_id": 4058, "quality": 1.0, "length": 6}, "so_27182198_27182198_1": {"section_id": 4058, "quality": 0.9333333333333333, "length": 14}, "so_27182198_27182198_2": {"section_id": 4058, "quality": 0.9310344827586207, "length": 27}}}});