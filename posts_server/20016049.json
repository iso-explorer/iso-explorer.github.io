post_cb({"20016049": {"CommentCount": "6", "ViewCount": "85", "PostTypeId": "1", "LastEditorUserId": "-1", "CreationDate": "2013-11-16T07:37:48.017", "LastActivityDate": "2013-11-16T19:53:04.013", "Title": "How Reference in C++ Works? Why do they need memory?", "AcceptedAnswerId": "20016098", "LastEditDate": "2017-05-23T12:12:41.773", "Id": "20016049", "Score": "0", "Body": "<p>References as they say have same address as original variable then why do they consume memory.\nRefer this post\n<a href=\"https://stackoverflow.com/questions/19987354/reference-in-place-of-getters\">Reference in place of getters?</a>\nin this example if I have reference as a class member the size of class increase.</p>\n<p>Edit 1</p>\n<p>Thanks all for the answers.</p>\n<p>Here is the output I get on VS 2010 Express</p>\n<p>The program:</p>\n<pre><code>class X\n{\n    int i;\n    int &amp;I;\npublic:\n    X():I(i){}\n}x;\n\nclass Y\n{\n    int i;\npublic:\n    Y(){}\n}y;\n\nint main()\n{\n    int j =0;\n    int &amp;J = j;\n\n    return 0;\n}\n</code></pre>\n<p>Watch Window:\n<img alt=\"Watch Window\" src=\"https://i.stack.imgur.com/E9tvc.png\"/></p>\n<p>Disassembly:</p>\n<pre><code>int main()\n{\n01101390  push        ebp  \n01101391  mov         ebp,esp  \n01101393  sub         esp,0D8h  \n01101399  push        ebx  \n0110139A  push        esi  \n0110139B  push        edi  \n0110139C  lea         edi,[ebp-0D8h]  \n011013A2  mov         ecx,36h  \n011013A7  mov         eax,0CCCCCCCCh  \n011013AC  rep stos    dword ptr es:[edi]  \n    int j =0;\n011013AE  mov         dword ptr [j],0  \n    int &amp;J = j;\n011013B5  lea         eax,[j]  \n011013B8  mov         dword ptr [J],eax  \n\n    return 0;\n011013BB  xor         eax,eax  \n}\n</code></pre>\n<p>It looks like this is implemented as exactly as a pointer in VS at least.</p>\n", "Tags": "<c++><reference>", "OwnerUserId": "2173884", "AnswerCount": "2"}, "20016065": {"ParentId": "20016049", "CommentCount": "0", "Body": "<p>It takes space to store the reference itself. The same size as a pointer in fact.</p>\n", "OwnerUserId": "2970947", "PostTypeId": "2", "Id": "20016065", "Score": "2", "CreationDate": "2013-11-16T07:40:19.270", "LastActivityDate": "2013-11-16T07:40:19.270"}, "20016098": {"ParentId": "20016049", "CommentCount": "1", "Body": "<p>References are typically implemented using pointers.  However note that the standard specifically says (C++11 8.3.2/4 - \"References\"):</p>\n<blockquote>\n<p id=\"so_20016049_20016098_0\">It is unspecified whether or not a reference requires storage (3.7).</p>\n</blockquote>\n", "OwnerUserId": "12711", "PostTypeId": "2", "Id": "20016098", "Score": "3", "CreationDate": "2013-11-16T07:46:23.143", "LastActivityDate": "2013-11-16T07:46:23.143"}, "bq_ids": {"n4140": {"so_20016049_20016098_0": {"section_id": 3221, "quality": 1.0, "length": 5}}, "n3337": {"so_20016049_20016098_0": {"section_id": 3095, "quality": 1.0, "length": 5}}, "n4659": {"so_20016049_20016098_0": {"section_id": 3978, "quality": 1.0, "length": 5}}}});