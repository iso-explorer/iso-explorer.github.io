post_cb({"bq_ids": {"n4140": {"so_26267331_26267459_1": {"length": 11, "quality": 0.9166666666666666, "section_id": 3360}}, "n3337": {"so_26267331_26267459_1": {"length": 11, "quality": 0.9166666666666666, "section_id": 3230}}, "n4659": {"so_26267331_26267459_1": {"length": 11, "quality": 0.9166666666666666, "section_id": 4126}}}, "26267459": {"Id": "26267459", "PostTypeId": "2", "Body": "<blockquote>\n<p id=\"so_26267331_26267459_0\">Or is it a bug in Microsoft compiler?</p>\n</blockquote>\n<p>Not quite.</p>\n<p>A so-called function-try-block like this cannot prevent that an exception will get outside. Consider that the object is never fully constructed since the constructor can't finish execution. The <code>catch</code>-block has to throw something else or the current exception will be rethrown ([except.handle]/15):</p>\n<blockquote>\n<p id=\"so_26267331_26267459_1\">The currently handled exception is rethrown if control reaches the end\n  of a handler of the <em>function-try-block</em> of a constructor or\n  destructor.</p>\n</blockquote>\n<p>Therefore the compiler deduces that the constructor can indeed throw. </p>\n<pre><code>struct X\n{\n    int x;\n    X() noexcept : x(0)\n    {\n        try\n        {\n            // Code that may actually throw\n        }\n        catch(...)\n        {\n        }\n    } \n};\n</code></pre>\n<p>Should compile without a warning.</p>\n", "LastEditorUserId": "701092", "LastActivityDate": "2014-10-08T22:35:49.973", "Score": "11", "CreationDate": "2014-10-08T22:25:12.773", "ParentId": "26267331", "CommentCount": "0", "OwnerUserId": "3647361", "LastEditDate": "2014-10-08T22:35:49.973"}, "26267331": {"ViewCount": "653", "Body": "<p>For the following code</p>\n<pre><code>struct X\n{\n    int x;\n    X() noexcept try : x(0)\n    {\n    } \n    catch(...)\n    {\n    }\n};\n</code></pre>\n<p>Visual studio 14 CTP issues the warning </p>\n<blockquote>\n<p id=\"so_26267331_26267331_0\">warning C4297: 'X::X': function assumed not to throw an exception but\n  does</p>\n<p id=\"so_26267331_26267331_1\">note: __declspec(nothrow), throw(), noexcept(true), or noexcept was\n  specified on the function</p>\n</blockquote>\n<p>Is this a misuse of <code>noexcept</code>? Or is it a bug in Microsoft compiler?</p>\n", "AcceptedAnswerId": "26267459", "Title": "function-try-block and noexcept", "CreationDate": "2014-10-08T22:12:27.200", "Id": "26267331", "CommentCount": "0", "PostTypeId": "1", "LastActivityDate": "2014-10-08T22:50:34.747", "Score": "8", "OwnerUserId": "1003615", "Tags": "<c++><visual-c++><c++11><c++14><noexcept>", "AnswerCount": "1"}});