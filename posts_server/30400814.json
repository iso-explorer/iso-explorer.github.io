post_cb({"bq_ids": {"n4140": {"so_30400814_30400814_0": {"length": 24, "quality": 0.96, "section_id": 264}}, "n3337": {"so_30400814_30400814_0": {"length": 24, "quality": 0.96, "section_id": 255}}}, "30400814": {"CreationDate": "2015-05-22T15:39:47.840", "ViewCount": "209", "Id": "30400814", "AcceptedAnswerId": "30400910", "Score": "3", "Title": "Template specialization static member in different namespace", "LastEditorUserId": "535473", "CommentCount": "0", "Body": "<p>There is a template class in a namespace</p>\n<pre><code>namespace N\n{\n    template &lt;typename T&gt;\n    class Foo {\n        static const T bar;\n    };\n}\n</code></pre>\n<p>And a specialization in a different namespace:</p>\n<pre><code>namespace O\n{\n    typedef N::Foo&lt;int&gt; Baz;\n\n    template&lt;&gt;\n    const int Baz::bar = 1;\n}\n</code></pre>\n<p>This code compiles with gcc (4.9.2) but fails to compile with msvc (v120): </p>\n<pre><code>error C2888: 'const int N::Foo&lt;int&gt;::bar' : symbol cannot be defined within namespace 'O'\n</code></pre>\n<p>If I understand this correctly, the code is not C++11 compliant: </p>\n<blockquote>\n<p id=\"so_30400814_30400814_0\">An explicit specialization shall be declared in a namespace enclosing the\n  specialized template. An explicit specialization whose declarator-id\n  is not qualified shall be declared in the nearest enclosing namespace\n  of the template, or, if the namespace is inline (7.3.1), any namespace\n  from its enclosing namespace set.</p>\n</blockquote>\n<p>Is this a compiler bug or do I misunderstand?</p>\n", "Tags": "<c++><templates><c++11><visual-c++><gcc>", "LastEditDate": "2015-05-22T15:46:42.800", "LastActivityDate": "2015-05-22T15:56:10.297", "PostTypeId": "1", "AnswerCount": "1", "OwnerUserId": "535473"}, "30400910": {"LastActivityDate": "2015-05-22T15:56:10.297", "CommentCount": "1", "Body": "<p>This is a compiler bug, and <a href=\"http://melpon.org/wandbox/permlink/QAQ02z160nYGdw9G\" rel=\"nofollow\">still present in HEAD</a>. Please report it. Clang provides a clearer diagnostic:</p>\n<blockquote>\n<p id=\"so_30400814_30400910_0\">error: cannot define or redeclare 'bar' here because namespace 'O'\n  does not enclose namespace 'Foo'</p>\n<pre><code>const int Baz::bar = 1;\n          ~~~~~^\n</code></pre>\n</blockquote>\n", "CreationDate": "2015-05-22T15:46:25.883", "LastEditDate": "2015-05-22T15:56:10.297", "ParentId": "30400814", "Id": "30400910", "LastEditorUserId": "3647361", "PostTypeId": "2", "Score": "7", "OwnerUserId": "3647361"}});