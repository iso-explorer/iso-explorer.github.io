post_cb({"bq_ids": {"n4140": {"so_39163532_39163724_1": {"length": 17, "quality": 0.8947368421052632, "section_id": 718}}, "n3337": {"so_39163532_39163724_1": {"length": 18, "quality": 0.9473684210526315, "section_id": 707}}, "n4659": {"so_39163532_39163724_1": {"length": 17, "quality": 0.8947368421052632, "section_id": 749}}}, "39163532": {"ViewCount": "62", "Body": "<p>Suppose, I have a <code>std::vector&lt;int&gt;</code> of length 4, which is constant. Then there are 4 threads, where thread <code>i</code> reads and writes only index <code>i</code>. Is this threadsafe? Can the single elements be changed independently of each other? I wonder because they are close so that they are probably loaded all at once into a cacheline.</p>\n<p>Does it make a difference if the index range per thread is larger than 1?</p>\n<p>EDIT:</p>\n<p>I am using Visual Studio 2010 and hence C++03. Any hints about differences from C++03 to C++11 are welcome!</p>\n", "Title": "Is a std::vector threadsafe if the threads read and write in disjoint index ranges?", "CreationDate": "2016-08-26T09:56:42.727", "LastActivityDate": "2016-08-26T11:03:41.267", "CommentCount": "2", "LastEditDate": "2016-08-26T10:11:59.073", "PostTypeId": "1", "LastEditorUserId": "4675398", "Id": "39163532", "Score": "1", "OwnerUserId": "4675398", "Tags": "<c++><thread-safety><stdvector>", "AnswerCount": "1"}, "39163724": {"Id": "39163724", "PostTypeId": "2", "Body": "<p>Yes that's fine. Different threads can operate on different ranges of elements.</p>\n<p>According to the <code>C++11</code> Standard:</p>\n<blockquote>\n<p id=\"so_39163532_39163724_0\"><strong>23.2.2</strong> Container data races <strong>[container.requirements.dataraces]</strong></p>\n<p id=\"so_39163532_39163724_1\"><strong>2</strong> Notwithstanding (17.6.5.9), implementations are required to avoid data races when the contents of the contained object in different elements in the same sequence, excepting vector&lt;bool&gt;, are modified concurrently.</p>\n</blockquote>\n<p><strong>Edit:</strong> Before <code>C++11</code> concurrency and data races are never mentioned, so the spec took no account of them and made no guarantees.</p>\n", "LastEditorUserId": "3807729", "LastActivityDate": "2016-08-26T11:03:41.267", "Score": "2", "CreationDate": "2016-08-26T10:07:12.703", "ParentId": "39163532", "CommentCount": "0", "LastEditDate": "2016-08-26T11:03:41.267", "OwnerUserId": "3807729"}});