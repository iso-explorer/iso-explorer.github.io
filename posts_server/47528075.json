post_cb({"bq_ids": {"n4140": {"so_47528075_47528556_0": {"length": 26, "quality": 0.8387096774193549, "section_id": 6677}, "so_47528075_47528147_1": {"length": 27, "quality": 0.9642857142857143, "section_id": 6677}}, "n3337": {"so_47528075_47528556_0": {"length": 26, "quality": 0.8387096774193549, "section_id": 6432}, "so_47528075_47528147_1": {"length": 27, "quality": 0.9642857142857143, "section_id": 6432}}, "n4659": {"so_47528075_47528556_0": {"length": 26, "quality": 0.8387096774193549, "section_id": 8152}, "so_47528075_47528147_1": {"length": 27, "quality": 0.9642857142857143, "section_id": 8152}}}, "47528075": {"ViewCount": "1181", "Body": "<p>I am using <em>private</em> inheritance, and I am surprised to see that in the derived class use of any <em>base</em> object is not allowed.</p>\n<pre><code>class A;\nclass B : private A;\nclass C : public B;\n\nC::method_1()\n{\n    A* a; // Temporary \"A\" object for local computation\n}\n</code></pre>\n<p><strong>This has nothing to do with inheritance.</strong> I don't want to access any <code>this-&gt;base method</code>!</p>\n<p>This configuration provide a C2247 error in Visual Studio (\" 'A' not accessible, because 'B' use 'private' to inherit from 'A' \").</p>\n", "AcceptedAnswerId": "47528147", "Title": "No use of base object allowed in private inheritance", "CreationDate": "2017-11-28T09:30:42.753", "Id": "47528075", "CommentCount": "2", "FavoriteCount": "3", "PostTypeId": "1", "LastEditDate": "2017-11-28T14:10:04.960", "LastEditorUserId": "63550", "LastActivityDate": "2017-11-28T14:10:04.960", "Score": "16", "OwnerUserId": "9019090", "Tags": "<c++><oop><inheritance>", "AnswerCount": "2"}, "47528556": {"Id": "47528556", "PostTypeId": "2", "Body": "<p>ISO C++: 11.1 Access Specifiers</p>\n<blockquote>\n<p id=\"so_47528075_47528556_0\">5 [Note: In a derived class, the lookup of a base class name will \ufb01nd the injected-class-name instead of the name of the base class in the scope in which it was declared. The injected-class-name might be less accessible than the name of the base class in the scope in which it was declared. \u2014end note] </p>\n</blockquote>\n<p>And the example from the standard:</p>\n<pre><code>class A { };\nclass B : private A { };\nclass C : public B {\n    A* p; // error: injected-class-name A is inaccessible\n   ::A* q; // OK \n};\n</code></pre>\n<hr>\n<p><a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3797.pdf\" rel=\"noreferrer\">N3797 Working Draft, Standard for Programming Language C++</a></p>\n</hr>", "LastEditorUserId": "8918119", "LastActivityDate": "2017-11-28T10:05:55.550", "Score": "13", "CreationDate": "2017-11-28T09:55:38.680", "ParentId": "47528075", "CommentCount": "1", "OwnerUserId": "8918119", "LastEditDate": "2017-11-28T10:05:55.550"}, "47528147": {"Id": "47528147", "PostTypeId": "2", "Body": "<p>Change this:</p>\n<pre><code>A* a;\n</code></pre>\n<p>to this:</p>\n<pre><code>::A* a;\n</code></pre>\n<p>since <code>C</code> inherits from <code>B</code>, and <code>B</code> from <code>A</code>, thus you need the scope resolution operator to do the trick.</p>\n<p>Instead of starting at the local scope which includes the class parents, <code>::A</code> starts looking at the global scope because of the <code>::</code>. </p>\n<p>From the <a href=\"http://open-std.org/JTC1/SC22/WG21/docs/papers/2015/n4567.pdf\" rel=\"noreferrer\">Standard</a>:</p>\n<blockquote>\n<p id=\"so_47528075_47528147_0\"><strong>11.1.5 Acess Specifiers</strong></p>\n<p id=\"so_47528075_47528147_1\">In a derived class, the lookup of a base class name will find the\n  injected-class-name instead of the name of the base class in the scope\n  in which it was declared. The injected-class-name might be less\n  accessible than the name of the base class in the scope in which it\n  was declared.</p>\n</blockquote>\n", "LastEditorUserId": "2411320", "LastActivityDate": "2017-11-28T10:25:01.833", "Score": "22", "CreationDate": "2017-11-28T09:35:31.073", "ParentId": "47528075", "CommentCount": "3", "OwnerUserId": "2411320", "LastEditDate": "2017-11-28T10:25:01.833"}});