post_cb({"bq_ids": {"n4140": {"so_41174161_41174338_0": {"length": 16, "quality": 1.0, "section_id": 243}}, "n3337": {"so_41174161_41174338_0": {"length": 16, "quality": 1.0, "section_id": 235}}, "n4659": {"so_41174161_41174338_0": {"length": 16, "quality": 1.0, "section_id": 250}}}, "41174161": {"ViewCount": "80", "Body": "<p>Consider the following code. Is it guaranteed that <code>Derived&lt;int&gt;::foo()</code> will be instantiated? <code>foo()</code> is virtual and is called by a non-virtual function of the base class.</p>\n<pre><code>#include &lt;iostream&gt;\n\nclass Base\n{\npublic:\n    void bar() { foo(); }\nprivate:\n    virtual void foo() = 0;\n};\n\ntemplate &lt;typename T&gt; class Derived: public Base\n{\npublic:\n    Derived(T t_) : t(t_) {}\nprivate:\n    void foo() override { std::cout &lt;&lt; t; }\n    T t;\n};\n\nDerived&lt;int&gt; make_obj()\n{\n    return Derived&lt;int&gt;(7);\n}\n</code></pre>\n", "AcceptedAnswerId": "41174338", "Title": "Is a virtual function of a template class implicitly instantiated?", "CreationDate": "2016-12-15T22:12:31.167", "Id": "41174161", "CommentCount": "1", "PostTypeId": "1", "LastActivityDate": "2016-12-15T22:48:14.847", "Score": "4", "OwnerUserId": "6136013", "Tags": "<c++><templates><template-instantiation>", "AnswerCount": "2"}, "41174604": {"Id": "41174604", "PostTypeId": "2", "Body": "<p>Virtual table will always be instantiated for a class hierarchy, however, in your case it will be compiler dependent whether the foo gets actually initialized on a class creation since the class itself is initialized on a stack and never used polymorphocally. The virtual table will be meaningless in your case.</p>\n", "LastActivityDate": "2016-12-15T22:48:14.847", "CommentCount": "0", "CreationDate": "2016-12-15T22:48:14.847", "ParentId": "41174161", "Score": "0", "OwnerUserId": "5498449"}, "41174338": {"Id": "41174338", "PostTypeId": "2", "Body": "<p>Standard section 14.7.1/11 says</p>\n<blockquote>\n<p id=\"so_41174161_41174338_0\">It is unspecified whether or not an implementation implicitly instantiates a virtual member function of a class template if the virtual member function would not otherwise be instantiated.</p>\n</blockquote>\n<p>However, for a typical vtable implementation, instantiating any constructor of the class requires a vtable for the class to exist, which must contain a pointer to the specialization's virtual function definition.  So in practice the virtual function will probably be instantiated.</p>\n", "LastActivityDate": "2016-12-15T22:26:14.043", "CommentCount": "1", "CreationDate": "2016-12-15T22:26:14.043", "ParentId": "41174161", "Score": "5", "OwnerUserId": "459640"}});