post_cb({"bq_ids": {"n4140": {"so_21870290_21870350_0": {"length": 12, "quality": 1.0, "section_id": 3913}}, "n3337": {"so_21870290_21870350_0": {"length": 12, "quality": 1.0, "section_id": 3773}}, "n4659": {"so_21870290_21870350_0": {"length": 9, "quality": 0.75, "section_id": 4799}}}, "47055283": {"Id": "47055283", "PostTypeId": "2", "Body": "<p>Just for my humble history which is just my history.</p>\n<p>g++ 4.9.2 create .o file which works well in my case without the return statement.<br/>\nclang++ 3.5 generated .o file with the warning : \"warning: control reaches end of non-void function [-Wreturn-type]\"</p>\n<p>But in my case :</p>\n<ul>\n<li><p>binary generated with clang++ crashes at run time ;</p></li>\n<li><p>binary generated with g++ does not crash at runtime ;</p></li>\n</ul>\n<p>I understand that it is an undefined behavior and you have to put return statement, but in the case of clang++, I hope they will modify this \"Warning\" to \"Error\" to help people porting their code and clean it at the same time.</p>\n<p>I have a lot of other warnings with clang++ which is fine, but this one seems to be a bit more than just a warning.<br/>\nPorting code to clang++ is, in this case, more work for people like me, I had no clue that the code generated will be broken because of this warning because basically, it works fine on many g++ compiler.</p>\n", "LastEditorUserId": "2790621", "LastActivityDate": "2017-11-01T13:34:05.047", "Score": "1", "CreationDate": "2017-11-01T12:50:12.773", "ParentId": "21870290", "CommentCount": "0", "LastEditDate": "2017-11-01T13:34:05.047", "OwnerUserId": "5028132"}, "21870347": {"Id": "21870347", "PostTypeId": "2", "Body": "<p>You can enable it using <code>-Werror=return-type</code></p>\n<blockquote>\n<p id=\"so_21870290_21870347_0\">Just wondering anyone knows WHY XCode think it is a warning instead of an error.</p>\n</blockquote>\n<p>Check your project's/target's/xcconfig's settings for \"Mismatched Return Type\" (aka <code>GCC_WARN_ABOUT_RETURN_TYPE</code>).</p>\n", "LastActivityDate": "2014-02-19T03:20:46.493", "CommentCount": "0", "CreationDate": "2014-02-19T03:20:46.493", "ParentId": "21870290", "Score": "2", "OwnerUserId": "191596"}, "21870290": {"ViewCount": "807", "Body": "<p>Here is a c++ function:</p>\n<pre><code>int FuncWithoutReturn()\n{\n  int var = 10;\n  ++var;\n  // No return value here !!!\n}\n</code></pre>\n<p>In MSVC, compiler generates error:</p>\n<blockquote>\n<p id=\"so_21870290_21870290_0\">error C4716: 'FuncWithoutReturn' : must return a value.</p>\n</blockquote>\n<p>But in XCode 5, the compiler just spits a warning:</p>\n<blockquote>\n<p id=\"so_21870290_21870290_1\">Control reaches end of non-void function</p>\n</blockquote>\n<p>In runtime if I am lucky, the app crashes. I know it is a stupid error but it would be good that the compiler yields an error in first place. </p>\n<p>Just wondering anyone knows WHY XCode think it is a warning instead of an error.</p>\n", "AcceptedAnswerId": "21870350", "Title": "When a function missing the return value, the compiler generates a warning but not an error?", "CreationDate": "2014-02-19T03:14:59.710", "Id": "21870290", "CommentCount": "1", "LastEditDate": "2014-02-19T10:29:46.267", "PostTypeId": "1", "LastEditorUserId": "1708801", "LastActivityDate": "2017-11-01T13:34:05.047", "Score": "4", "OwnerUserId": "2185248", "Tags": "<c++><function><xcode5>", "AnswerCount": "3"}, "21870350": {"Id": "21870350", "PostTypeId": "2", "Body": "<p>You can use <code>-Werror=return-type</code> to make that warning and error, in my original comment I forgot that. You can see it <a href=\"http://coliru.stacked-crooked.com/a/def6595bfbd6af3a\" rel=\"nofollow\">live</a>.</p>\n<p>This is both an option in <a href=\"http://clang.llvm.org/docs/UsersManual.html#options-to-control-error-and-warning-messages\" rel=\"nofollow\">clang</a> and <a href=\"http://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html\" rel=\"nofollow\">gcc</a>, as far as I understand <code>XCode</code> can use either one.</p>\n<p>Falling off the end of value returning function is <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow\">undefined behavior</a>, we can see this by going to the <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2012/n3485.pdf\" rel=\"nofollow\">draft C++ standard</a> section <code>6.6.3</code> <em>The return statement</em> paragraph <em>2</em> which says:</p>\n<blockquote>\n<p id=\"so_21870290_21870350_0\">[...]Flowing off the end of a function is equivalent to a return with no value; this results in undefined behavior in a value-returning function.</p>\n</blockquote>\n<p>Undefined Behavior does not require a diagnostic(<em>warning or error</em>), although in many cases compilers will provide one.</p>\n", "LastEditorUserId": "1708801", "LastActivityDate": "2014-02-19T13:41:14.530", "Score": "4", "CreationDate": "2014-02-19T03:21:00.593", "ParentId": "21870290", "CommentCount": "1", "LastEditDate": "2014-02-19T13:41:14.530", "OwnerUserId": "1708801"}});