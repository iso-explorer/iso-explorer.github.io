post_cb({"45720712": {"CommentCount": "4", "ViewCount": "48", "LastEditDate": "2017-08-16T21:30:25.323", "LastEditorUserId": "1324", "CreationDate": "2017-08-16T18:34:08.367", "LastActivityDate": "2017-08-16T21:30:25.323", "PostTypeId": "1", "Title": "I'm trying to use ffmpeg with qt but I get undefined references errors", "Id": "45720712", "OwnerUserId": "8472158", "Body": "<p>I tried to solve this problem myself but I couldn't. I installed FFmpeg with msys 3 step method:</p>\n<pre><code>configure \nmake \nmake install \n</code></pre>\n<p>and tried to link every library in the .pro. At first, I got errors like an undefined reference to <code>avcodec_register_all()</code>; but after linking all the libraries they stopped and instead of them I got 6 others:</p>\n<blockquote>\n<p id=\"so_45720712_45720712_0\">c:\\ffmpeg-3.3.3\\libavutil\\error.c:120: error: undefined reference to `strerror_r'</p>\n<p id=\"so_45720712_45720712_1\">c:\\mingw\\include\\time.h:422: error: undefined reference to `__mingw_sleep'</p>\n<p id=\"so_45720712_45720712_2\">c:\\mingw\\include\\stdlib.h:810: error: undefined reference to `__mingw_mkstemp'</p>\n<p id=\"so_45720712_45720712_3\">c:\\mingw\\include\\stdlib.h:810: error: undefined reference to `__mingw_mkstemp'</p>\n<p id=\"so_45720712_45720712_4\">localcharset.c:-1: error: undefined reference to `_imp__GetACP@0'</p>\n<p id=\"so_45720712_45720712_5\">collect2.exe:-1: error: error: ld returned 1 exit status</p>\n</blockquote>\n<p>this is main.cpp:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\n#define __STDC_CONSTANT_MACROS\n\nextern \"C\" {\n    #include &lt;libavutil/frame.h&gt;\n    #include &lt;libavutil/mem.h&gt;\n    #include &lt;libavcodec/avcodec.h&gt;\n}\n\nint main(int argc, char *argv[])\n{\n    cout &lt;&lt; \"Enter input file name.\" &lt;&lt; endl;\n    string inName, outName;\n    cin&gt;&gt;inName;\n    cout&lt;&lt;\"Enter output file name.\"&lt;&lt;endl;\n    cin&gt;&gt;outName;\n    avcodec_register_all();\n    return 0;\n}\n</code></pre>\n<p>and my .pro</p>\n<pre><code>TEMPLATE = app\nCONFIG += console c++11\nCONFIG -= app_bundle\nCONFIG -= qt\n\nSOURCES += main.cpp\n\n\nLIBS += -LC:\\ffmpeg-3.3.3\\ffmpeg\\lib\nLIBS += -lpthread\nLIBS += -lavdevice\nLIBS += -lavfilter\nLIBS += -lavformat\nLIBS += -lavcodec\nLIBS += -lz\nLIBS += -lswresample\nLIBS += -lswscale\nLIBS += -lavutil\nLIBS += -lm\nINCLUDEPATH += C:/ffmpeg-3.3.3/ffmpeg/include\n</code></pre>\n", "Tags": "<c++><qt><ffmpeg><undefined-reference>", "Score": "0", "AnswerCount": "0"}, "bq_ids": {"n4659": {"so_45720712_45720712_5": {"section_id": 3213, "quality": 0.6666666666666666, "length": 4}}}});