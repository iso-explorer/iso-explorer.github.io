post_cb({"13852761": {"CommentCount": "5", "ViewCount": "506", "PostTypeId": "1", "LastEditorUserId": "951757", "CreationDate": "2012-12-13T04:05:11.367", "LastActivityDate": "2012-12-13T04:51:26.810", "Title": "How do I implement a pure virtual destructor?", "AcceptedAnswerId": "13852794", "LastEditDate": "2012-12-13T04:29:31.523", "Id": "13852761", "Score": "0", "Body": "<p>Here's the format of the code:</p>\n<pre><code>class C\n{\npublic:\n    C();\n    virtual ~C() = 0;\n};\n\nclass D : public C\n{\npublic:\n    D();\n    ~D();\n};\n\nC::C(){\n}\n\nC::~C(){\n}\n\nD::D(){\n}\n\nD::~D(){\n}\n\nint main(){\n    C *c = new C();\n    D *d = new D();\n    return 0;\n}\n</code></pre>\n<p>When I try to instantiate <code>c</code> I get the following error:</p>\n<pre><code>1&gt;c:\\main.cpp(59): error C2259: 'C' : cannot instantiate abstract class\n</code></pre>\n<p>I know I cannot call the virtual destructor, but there is something terribly I don't know on the concepts. Can someone explain me?</p>\n", "Tags": "<c++><abstract-class><instantiation><pure-virtual>", "OwnerUserId": "815812", "AnswerCount": "3"}, "13852783": {"ParentId": "13852761", "CommentCount": "1", "Body": "<p>\u201c=0\u201d means you define this method as pure virtual. If a class contains any pure virutal method, then the class is pure virtual. You can not instantiate pure virtual class, because there is no implementation for pure virtual method.</p>\n", "OwnerUserId": "978360", "PostTypeId": "2", "Id": "13852783", "Score": "4", "CreationDate": "2012-12-13T04:07:54.523", "LastActivityDate": "2012-12-13T04:07:54.523"}, "13852825": {"ParentId": "13852761", "LastEditDate": "2012-12-13T04:51:26.810", "CommentCount": "1", "CreationDate": "2012-12-13T04:12:58.693", "OwnerUserId": "951757", "LastEditorUserId": "82320", "PostTypeId": "2", "Id": "13852825", "Score": "2", "Body": "<p>class C is called <code>abstract class</code> in C++ which can't be initialized.</p>\n<blockquote>\n<p id=\"so_13852761_13852825_0\">\u00a710.4/2 Abstract classes An abstract class is a class that can be used\n  only as a base class of some other class; no objects of an abstract\n  class can be created except as subobjects of a class derived from it.\n  A class is abstract if it has at least one pure virtual function.</p>\n</blockquote>\n<p>change <code>C *c = new C();</code> to <code>C *c = new D();</code> should work.</p>\n<p>Or you can make class C non-abstract class by removing <code>=0</code> </p>\n<pre><code>class C{\npublic:\n  C() {}\n  virtual ~C() {}\n};\n\nC* c = new C();  // this is ok\n</code></pre>\n", "LastActivityDate": "2012-12-13T04:51:26.810"}, "13852794": {"ParentId": "13852761", "CommentCount": "1", "Body": "<p>You can't instantiate <code>C</code> because you have explicitly said it's destructor is undefined.</p>\n<p>You could just do:</p>\n<pre><code>class C\n{\npublic:\n    C();\n    virtual ~C() {}\n};\n</code></pre>\n<p>instead.</p>\n<p>You can leave <code>C</code> exactly \"as is\" as long as you don't try to instantiate it (i.e. you only create <code>D</code>s, but you can pass them around as <code>C</code>s.</p>\n", "OwnerUserId": "857132", "PostTypeId": "2", "Id": "13852794", "Score": "5", "CreationDate": "2012-12-13T04:08:46.630", "LastActivityDate": "2012-12-13T04:08:46.630"}, "bq_ids": {"n4140": {"so_13852761_13852825_0": {"section_id": 7019, "quality": 0.8571428571428571, "length": 24}}, "n3337": {"so_13852761_13852825_0": {"section_id": 6765, "quality": 0.8571428571428571, "length": 24}}, "n4659": {"so_13852761_13852825_0": {"section_id": 8516, "quality": 0.8571428571428571, "length": 24}}}});