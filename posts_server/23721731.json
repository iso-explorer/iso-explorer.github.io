post_cb({"23721731": {"CommentCount": "3", "AcceptedAnswerId": "23721881", "CreationDate": "2014-05-18T12:10:40.590", "LastActivityDate": "2014-05-18T12:35:26.920", "PostTypeId": "1", "ViewCount": "93", "FavoriteCount": "1", "Title": "Name which introduced by friend declaration", "Id": "23721731", "Score": "3", "Body": "<p>I'm considering N3797 working draft. There is a quote from 3.3.1/4</p>\n<blockquote>\n<p id=\"so_23721731_23721731_0\">friend declarations (11.3) may introduce a (possibly not visible) name\n  into an enclosing namespace</p>\n</blockquote>\n<p>And further in 3.3.2/11 I found</p>\n<blockquote>\n<p id=\"so_23721731_23721731_1\">Friend declaration refer to function or classes that are member of the\n  nearest enclosing namespace, but they don't introduce new name into\n  that namespace.</p>\n</blockquote>\n<p>So the name declared by friend declaration is not visible or doesn't introduce at all?</p>\n", "Tags": "<c++><friend>", "OwnerUserId": "2786156", "AnswerCount": "1"}, "23721881": {"ParentId": "23721731", "PostTypeId": "2", "CommentCount": "7", "CreationDate": "2014-05-18T12:28:24.293", "Score": "4", "LastEditorUserId": "464581", "LastEditDate": "2014-05-18T12:35:26.920", "Id": "23721881", "OwnerUserId": "464581", "Body": "<p>It can be found by Argument Dependent Lookup, but only that way.</p>\n<p>E.g. you can implement a comparison operator that way:</p>\n<pre><code>struct Point\n{\n    int x, y;\n\n    friend\n    auto operator&lt;( Point const a, Point const b )\n        -&gt; bool\n    {\n        // compare and return true or false\n    }\n};\n</code></pre>\n<p>The name (here <code>operator&lt;</code>) is not visible in the enclosing scope, but is found when the function is invoked with arguments of type <code>Point</code>.</p>\n<hr>\n<p>The current rules are designed to be backward-compatible with the so called <strong><a href=\"http://en.wikipedia.org/wiki/Barton%E2%80%93Nackman_trick\" rel=\"nofollow\">Barton-Nackman trick</a></strong>.</p>\n<p>Quoting the Wikpedia article on that:</p>\n<blockquote>\n<p id=\"so_23721731_23721881_0\">\u201cWhen investigating the possibility of removing friend name injection from the C++ programming language, Barton and Nackman\u2019s idiom was found to be the only reasonable use of that language rule. Eventually, the rules for argument-dependent lookup were adjusted to replace friend name injection by a less drastic mechanism, described above, that maintained the validity of Barton and Nackman\u2019s technique\u201d</p>\n</blockquote>\n<p>where <strong>\u201cfriend name injection\u201d</strong> refers to earlier rules where the name did become visible in the enclosing scope.</p>\n</hr>", "LastActivityDate": "2014-05-18T12:35:26.920"}, "bq_ids": {"n4140": {"so_23721731_23721731_0": {"section_id": 7047, "quality": 0.9090909090909091, "length": 10}, "so_23721731_23721731_1": {"section_id": 7059, "quality": 0.7058823529411765, "length": 12}}, "n3337": {"so_23721731_23721731_0": {"section_id": 6792, "quality": 0.9090909090909091, "length": 10}, "so_23721731_23721731_1": {"section_id": 6803, "quality": 0.7058823529411765, "length": 12}}, "n4659": {"so_23721731_23721731_0": {"section_id": 8544, "quality": 0.9090909090909091, "length": 10}, "so_23721731_23721731_1": {"section_id": 8556, "quality": 0.7058823529411765, "length": 12}}}});