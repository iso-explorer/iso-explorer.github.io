post_cb({"8522831": {"ParentId": "8522740", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>If specified, it's under their constructor and (if assignable) assignment operator subclause. For <code>shared_ptr</code> we have:</p>\n<p><code>\u00a720.7.2.2.1 [util.smartptr.shared.const]</code></p>\n<pre><code>shared_ptr(shared_ptr&amp;&amp; r) noexcept;\ntemplate&lt;class Y&gt; shared_ptr(shared_ptr&lt;Y&gt;&amp;&amp; r) noexcept;\n</code></pre>\n<blockquote>\n<p id=\"so_8522740_8522831_0\">p20 <em>Remark:</em> The second constructor shall not participate in overload resolution unless <code>Y*</code> is convertible to <code>T*</code>.<br>\n  p21 <em>Effects:</em> Move-constructs a <code>shared_ptr</code> instance from <code>r</code>.<br>\n  p22 <em>Postconditions:</em> <code>*this</code> shall contain the old value of <code>r</code>. <code>r</code> shall be <em>empty</em>. <code>r.get() == 0</code>.</br></br></p>\n</blockquote>\n<p>The assignment operators of <code>shared_ptr</code> are basically describes by copy-and-swap with a temporary constructed from the (moved if rvalue) argument:</p>\n<p><code>\u00a720.7.2.2.3 [util.smartptr.shared.assign]</code></p>\n<pre><code>shared_ptr&amp; operator=(shared_ptr&amp;&amp; r) noexcept;\ntemplate&lt;class Y&gt; shared_ptr&amp; operator=(shared_ptr&lt;Y&gt;&amp;&amp; r) noexcept;\n</code></pre>\n<blockquote>\n<p id=\"so_8522740_8522831_1\">p4 <em>Effects:</em> Equivalent to <code>shared_ptr(std::move(r)).swap(*this)</code>.<br>\n  p5 <em>Returns:</em> <code>*this</code>.</br></p>\n</blockquote>\n<p>If not specified, <a href=\"https://stackoverflow.com/a/8522879/500104\">what @AProgrammer said</a> applies.</p>\n", "OwnerUserId": "500104", "LastEditorUserId": "-1", "LastEditDate": "2017-05-23T11:48:06.603", "Id": "8522831", "Score": "13", "CreationDate": "2011-12-15T15:53:52.850", "LastActivityDate": "2011-12-18T01:13:15.617"}, "8522740": {"CommentCount": "0", "ViewCount": "265", "CreationDate": "2011-12-15T15:46:43.040", "LastActivityDate": "2011-12-18T01:13:53.120", "Title": "Is the state of any standard class after being moved specified?", "AcceptedAnswerId": "8522879", "PostTypeId": "1", "Id": "8522740", "Score": "9", "Body": "<p>If I <code>move</code> <code>shared_ptr</code> 'a' into <code>shared_ptr</code> 'b' is 'a' guaranteed to be null?</p>\n<p>Is the state of <em>any</em> standard class after being moved specified?</p>\n", "Tags": "<c++><c++11><shared-ptr>", "OwnerUserId": "369872", "AnswerCount": "2"}, "bq_ids": {"n4140": {"so_8522740_8522879_0": {"section_id": 6365, "quality": 0.92, "length": 23}}, "n3337": {"so_8522740_8522879_0": {"section_id": 6122, "quality": 0.92, "length": 23}}, "n4659": {"so_8522740_8522879_0": {"section_id": 7876, "quality": 0.92, "length": 23}}}, "8522879": {"ParentId": "8522740", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>In general 17.6.5.15/1 applies:</p>\n<blockquote>\n<p id=\"so_8522740_8522879_0\">Objects of types defined in the C++ standard library may be moved from (12.8). Move operations may be explicitly specified or implicitly generated. Unless otherwise specified, such moved-from objects shall be placed in a valid but unspecified state.</p>\n</blockquote>\n<p>Thus you can call any functions which requires no precondition.</p>\n<p>If specified, <a href=\"https://stackoverflow.com/a/8522831/500104\">what @Xeo said</a> applies.</p>\n", "OwnerUserId": "136208", "LastEditorUserId": "-1", "LastEditDate": "2017-05-23T12:20:13.053", "Id": "8522879", "Score": "12", "CreationDate": "2011-12-15T15:56:47.557", "LastActivityDate": "2011-12-18T01:13:53.120"}});