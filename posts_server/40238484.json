post_cb({"40238583": {"ParentId": "40238484", "PostTypeId": "2", "CommentCount": "6", "Body": "<p>The standard defines <code>std::array</code> as follows (N3337 for C++11, but the quoted parts are identical in N4140):</p>\n<blockquote>\n<p id=\"so_40238484_40238583_0\">\u00a723.3.2.1 [array.overview]/2</p>\n<p id=\"so_40238484_40238583_1\">An array is an aggregate that can be initialized with the syntax</p>\n<pre><code>array&lt;T, N&gt; a = { initializer-list };\n</code></pre>\n</blockquote>\n<p>and an aggregate is defined as:</p>\n<blockquote>\n<p id=\"so_40238484_40238583_2\">\u00a78.5.1 [dcl.init.aggr]/1</p>\n<p id=\"so_40238484_40238583_3\">An aggregate is an array or a class with no user-provided\n  constructors, no private or protected non-static data members, no base\n  classes, and no virtual functions.</p>\n</blockquote>\n<p>So it cannot have a user-defined constructor, which an <code>initializer_list</code> one would be.</p>\n<hr>\n<p>Additionally, C++11 defines brace elision only for the <code>T x = { a }</code> syntax:</p>\n<blockquote>\n<p id=\"so_40238484_40238583_4\">\u00a78.5.1 [dcl.init.aggr]/11</p>\n<p id=\"so_40238484_40238583_5\">In a declaration of the form</p>\n<pre><code>T x = { a };\n</code></pre>\n<p id=\"so_40238484_40238583_6\">braces can be elided in an <em>initializer-list</em> as follows. [...]</p>\n</blockquote>\n<p>whereas C++14 (N4140) lifts this requirement:</p>\n<blockquote>\n<p id=\"so_40238484_40238583_7\">\u00a78.5.1 [dcl.init.aggr]/11</p>\n<p id=\"so_40238484_40238583_8\">Braces can be elided in an <em>initializer-list</em> as follows. [...]</p>\n</blockquote>\n<p>So the following is perfectly valid C++14 and above:</p>\n<pre><code>std::array&lt;int,3&gt; an_array{3,4,5}\n</code></pre>\n</hr>", "OwnerUserId": "2456565", "LastEditorUserId": "2456565", "LastEditDate": "2016-10-25T11:46:15.943", "Id": "40238583", "Score": "6", "CreationDate": "2016-10-25T11:20:04.903", "LastActivityDate": "2016-10-25T11:46:15.943"}, "40238484": {"CommentCount": "4", "ViewCount": "267", "PostTypeId": "1", "ClosedDate": "2016-10-25T12:21:06.253", "LastEditorUserId": "4523099", "CreationDate": "2016-10-25T11:14:50.760", "LastActivityDate": "2016-10-25T11:46:15.943", "Title": "Why std::array does not contain an initializer-list constructor", "AcceptedAnswerId": "40238583", "LastEditDate": "2016-10-25T11:28:49.800", "Id": "40238484", "Score": "7", "Body": "<p>In order to initialize a <code>std::array</code> with some values, you need to use this approach:</p>\n<pre><code>std::array&lt;int,3&gt; an_array{{3,4,5}};\n</code></pre>\n<p>I am aware of the reason that we need two curly braces (one for <code>std::array</code> and the the other for the inner <code>c-style array</code>).</p>\n<p><strong>My question:</strong> Why, by standard, <code>std::array</code> does not contain an initializer-list constructor that directly initialize the inner <code>c-style array</code>? Is not more eyes-friendly to be initialized as:</p>\n<pre><code>std::array&lt;int,3&gt; an_array{3,4,5};\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>This information is from <a href=\"http://en.cppreference.com/w/cpp/container/array\">http://en.cppreference.com/w/cpp/container/array</a>. I thought my compiler is allowing the second version directly as non-standard extension. Now, I am not even sure what is the standard exactly about this case.</p>\n<blockquote>\n<p id=\"so_40238484_40238484_0\">// construction uses aggregate initialization</p>\n<p id=\"so_40238484_40238484_1\"><code>std::array&lt;int, 3&gt; a1{ {1, 2, 3} };</code> // double-braces required in C++11 (not in C++14)</p>\n</blockquote>\n", "Tags": "<c++><arrays><c++11>", "OwnerUserId": "4523099", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_40238484_40238583_3": {"section_id": 3298, "quality": 0.9285714285714286, "length": 13}, "so_40238484_40238583_1": {"section_id": 775, "quality": 1.0, "length": 5}, "so_40238484_40238583_6": {"section_id": 3308, "quality": 0.8, "length": 4}, "so_40238484_40238583_8": {"section_id": 3308, "quality": 1.0, "length": 5}}, "n3337": {"so_40238484_40238583_3": {"section_id": 3168, "quality": 0.9285714285714286, "length": 13}, "so_40238484_40238583_1": {"section_id": 762, "quality": 1.0, "length": 5}, "so_40238484_40238583_6": {"section_id": 3178, "quality": 1.0, "length": 5}, "so_40238484_40238583_8": {"section_id": 417, "quality": 0.8, "length": 4}}, "n4659": {"so_40238484_40238583_3": {"section_id": 4063, "quality": 0.7142857142857143, "length": 10}, "so_40238484_40238583_6": {"section_id": 4074, "quality": 0.8, "length": 4}, "so_40238484_40238583_8": {"section_id": 4074, "quality": 1.0, "length": 5}}}});