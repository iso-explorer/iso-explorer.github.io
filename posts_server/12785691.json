post_cb({"12785734": {"ParentId": "12785691", "PostTypeId": "2", "CommentCount": "6", "Body": "<p>constexpr function allows the function to be evaluated at compile time, but does not require that, so your answer is \"maybe\". It depends on the compiler's optimization settings.</p>\n<blockquote>\n<h3>\u00a77.1.5[dcl.constexpr]/7</h3>\n<p id=\"so_12785691_12785734_0\">A call to a <code>constexpr</code> function produces the same result as a call to an equivalent non-<code>constexpr</code> function\n  in all respects except that a call to a <code>constexpr</code> function can appear in a constant expression.</p>\n</blockquote>\n<p>If you wish to have no runtime cost, you could force compile-time evaluation by assigning it to a constexpr variable, e.g.</p>\n<pre><code>constexpr auto foo = CompID&lt;Foo&gt;();\n</code></pre>\n<p>Also note that <code>type_info.hash_code()</code> <strong>cannot be evaluated in compile-time</strong> (it is not a constexpr function, \u00a718.7.1[type.info]/7). So your code is actually wrong.</p>\n", "OwnerUserId": "224671", "LastEditorUserId": "224671", "LastEditDate": "2012-10-08T17:02:03.523", "Id": "12785734", "Score": "6", "CreationDate": "2012-10-08T16:33:22.357", "LastActivityDate": "2012-10-08T17:02:03.523"}, "12785691": {"CommentCount": "0", "AcceptedAnswerId": "12785734", "PostTypeId": "1", "LastEditorUserId": "636019", "CreationDate": "2012-10-08T16:30:27.503", "LastActivityDate": "2012-10-09T18:11:39.047", "LastEditDate": "2012-10-09T18:11:39.047", "ViewCount": "1458", "FavoriteCount": "0", "Title": "C++ constexpr at compile time", "Id": "12785691", "Score": "5", "Body": "<p>Am I right to think that this function should only be evaluated at compile time, or is there a run-time cost to it?</p>\n<pre><code>template &lt;typename T&gt;\nsize_t constexpr CompID() {\n    return typeid(T).hash_code();\n}\n\nstruct Foo {};\n\nint main(int argc, const char * argv[]) {\n    size_t foo = CompID&lt;Foo&gt;();\n    return 0;\n}\n</code></pre>\n", "Tags": "<c++><templates><c++11><constexpr>", "OwnerUserId": "138352", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_12785691_12785734_0": {"section_id": 5423, "quality": 1.0, "length": 20}}, "n3337": {"so_12785691_12785734_0": {"section_id": 5218, "quality": 1.0, "length": 20}}, "n4659": {"so_12785691_12785734_0": {"section_id": 6845, "quality": 1.0, "length": 20}}}});