post_cb({"bq_ids": {"n4140": {"so_34434675_34434814_0": {"length": 18, "quality": 1.0, "section_id": 3244}}, "n3337": {"so_34434675_34434814_0": {"length": 18, "quality": 1.0, "section_id": 3117}}, "n4659": {"so_34434675_34434814_0": {"length": 18, "quality": 1.0, "section_id": 4002}}}, "34434675": {"ViewCount": "47", "Body": "<p>The following code fails to compile in GCC 5.2:</p>\n<pre><code>template&lt;typename FuncType, typename... ArgTypes&gt;\nresult_of_t&lt;FuncType(ArgTypes...)&gt; FuncCall(const FuncType &amp;f, ArgTypes&amp;... args)\n{\n    return f(forward&lt;ArgTypes&gt;(args)...);\n}\n\nstring SomeFunc()\n{\n    return \"SomeFunc\";\n}\n\nint main()\n{\n    cout &lt;&lt; FuncCall([](){return \"Lambda\";}) &lt;&lt; \"\\n\"; // This call works properly\n    cout &lt;&lt; FuncCall(SomeFunc) &lt;&lt; \"\\n\"; // this call fails\n}\n</code></pre>\n<p>But if I change the following line:</p>\n<pre><code>result_of_t&lt;FuncType(ArgTypes...)&gt; FuncCall(const FuncType &amp;f, ArgTypes&amp;... args)\n</code></pre>\n<p>To</p>\n<pre><code>result_of_t&lt;FuncType&amp;&amp;(ArgTypes...)&gt; FuncCall(const FuncType &amp;f, ArgTypes&amp;... args)\n</code></pre>\n<p>Then it works properly.</p>\n<p>I don't understand how making FuncType rvalue reference in this case solves the problem. Can anyone share some light on this ?</p>\n", "AcceptedAnswerId": "34434814", "Title": "result_of fails to deduce return type", "CreationDate": "2015-12-23T11:27:42.217", "Id": "34434675", "CommentCount": "0", "FavoriteCount": "0", "PostTypeId": "1", "LastEditDate": "2015-12-23T13:14:28.363", "LastEditorUserId": "596781", "LastActivityDate": "2015-12-23T13:14:28.363", "Score": "2", "OwnerUserId": "2790081", "Tags": "<c++><templates><types><typetraits>", "AnswerCount": "1"}, "34434814": {"Id": "34434814", "PostTypeId": "2", "Body": "<p>A function type in C++ may not have a return type that is a function type, by [dcl.fct]/10:</p>\n<blockquote>\n<p id=\"so_34434675_34434814_0\">Functions shall not have a return type of type array or function, although they may have a return type of type pointer or reference to such things.</p>\n</blockquote>\n<p>So when <code>FuncType</code> is deduced as a function type, the purported type <code>FuncType(Args...)</code> is ill-formed.</p>\n", "LastEditorUserId": "596781", "LastActivityDate": "2015-12-23T13:04:42.610", "Score": "3", "CreationDate": "2015-12-23T11:35:42.107", "ParentId": "34434675", "CommentCount": "0", "OwnerUserId": "596781", "LastEditDate": "2015-12-23T13:04:42.610"}});