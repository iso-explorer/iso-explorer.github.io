post_cb({"46458393": {"ParentId": "46458363", "CommentCount": "4", "Body": "<p>The whole point of <code>sizeof</code> is it includes the relevant padding. Every element of an array is exactly <code>sizeof(T)</code> bytes after the previous element. So the size of the entire array is <code>N * sizeof(T)</code>.</p>\n", "OwnerUserId": "582", "PostTypeId": "2", "Id": "46458393", "Score": "2", "CreationDate": "2017-09-27T22:52:36.430", "LastActivityDate": "2017-09-27T22:52:36.430"}, "46458404": {"ParentId": "46458363", "CommentCount": "4", "Body": "<p>Yes. <em>[expr.sizeof]</em> includes this bit about <code>sizeof</code>:</p>\n<blockquote>\n<p id=\"so_46458363_46458404_0\">When applied to an array, the result is the total number of bytes in the array. This implies that the size of an array of <em>n</em> elements is <em>n</em> times the size of an element.</p>\n</blockquote>\n", "OwnerUserId": "1848654", "PostTypeId": "2", "Id": "46458404", "Score": "11", "CreationDate": "2017-09-27T22:53:57.557", "LastActivityDate": "2017-09-27T22:53:57.557"}, "bq_ids": {"n4140": {"so_46458363_46458404_0": {"section_id": 6077, "quality": 0.9375, "length": 15}}, "n3337": {"so_46458363_46458404_0": {"section_id": 5845, "quality": 0.9375, "length": 15}}, "n4659": {"so_46458363_46458404_0": {"section_id": 7573, "quality": 0.9375, "length": 15}}}, "46458363": {"CommentCount": "7", "ViewCount": "243", "PostTypeId": "1", "LastEditorUserId": "149138", "CreationDate": "2017-09-27T22:48:36.313", "LastActivityDate": "2017-09-28T07:45:58.207", "Title": "Is it guaranteed that sizeof(T[N]) == N * sizeof(T)?", "LastEditDate": "2017-09-28T07:45:58.207", "Id": "46458363", "Score": "7", "Body": "<p>I had always assumed that the size of an array of N elements of type <code>T</code>, as returned by <code>sizeof</code> was guaranteed to be exactly N times <code>sizeof(T)</code>. </p>\n<p>The <a href=\"https://stackoverflow.com/questions/46457449/is-it-always-the-case-that-sizeoft-alignoft-for-all-types-t/46458123?noredirect=1#comment79871390_46457449\">comments on this question</a> made me doubt it though. There are claims from reputable users that arrays may contain padding, which would break the equality. Of course such platforms may not exist, but are they allowed?</p>\n<p>If allowed, this would break many common idioms, such as calculating the needed storage for an array with <code>N * sizeof(T)</code>, or calculating the number of elements in an array using <code>sizeof(a)/sizeof(a[0])</code>. </p>\n", "Tags": "<c++><arrays><language-lawyer><sizeof>", "OwnerUserId": "149138", "AnswerCount": "2"}});