post_cb({"18375767": {"ParentId": "18368801", "CommentCount": "1", "Body": "<p>Have you checked that your lines</p>\n<pre><code>#ifndef __MYLIB_X_H\n#define __MYLIB_X_H\n</code></pre>\n<p>are really different for the two files,\ne.g. _<em>MYLIB</em><strong>1</strong>_H and _<em>MYLIB</em><strong>2</strong>_H?</p>\n", "OwnerUserId": "1728219", "PostTypeId": "2", "Id": "18375767", "Score": "0", "CreationDate": "2013-08-22T08:55:51.617", "LastActivityDate": "2013-08-22T08:55:51.617"}, "18368801": {"CommentCount": "2", "ViewCount": "106", "CreationDate": "2013-08-21T22:31:15.357", "LastActivityDate": "2013-08-22T08:55:51.617", "Title": "Chain of C libraries into C++", "FavoriteCount": "1", "PostTypeId": "1", "Id": "18368801", "OwnerUserId": "2705320", "Body": "<p>I have a very trivial problem including a chain of C libraries into a C++ main project. I've experience with C but it's the first time that I'm programming in C++.</p>\n<p>The structure of the project is a single folder with inside:</p>\n<ul>\n<li>main.cpp</li>\n<li>Mylib_1.c</li>\n<li>Mylib_1.h</li>\n<li>Mylib_2.c</li>\n<li>Mylib_2.h</li>\n</ul>\n<hr>\n<p>main calls -&gt; Mylib_1.h that calls -&gt;  My_lib2.h</p>\n<pre><code>//main.cpp\n#include \"Mylib_1.h\"\n\n//Mylib_1.h\n#include \"Mylib_2.h\"\n</code></pre>\n<hr>\n<p>main contains both Mylib_1 and Mylib_2 functions and typedef structs</p>\n<p>Mylib_1 uses typedef structs and functions of Mylib_2</p>\n<hr>\n<p>Everything inside each Mylib_x.h is wrapped between extern \"C\", like this:</p>\n<pre><code>#ifndef __MYLIB_X_H\n#define __MYLIB_X_H\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif \n\nmycode         \n\n#ifdef __cplusplus\n}\n#endif \n\n#endif\n</code></pre>\n<hr>\n<p>But when I try to compile it with eclipse kepler on Ubuntu 12.04 x64, I get: </p>\n<blockquote>\n<p id=\"so_18368801_18368801_0\">Mylib_1.h error: Mylib_2_type_t does not name a type</p>\n<p id=\"so_18368801_18368801_1\">main.cpp  error: Mylib_2_function1 was not declared in this scope</p>\n<p id=\"so_18368801_18368801_2\">...</p>\n</blockquote>\n<p>Only the above sections are marked as error in eclipse, the header looks included fine.</p>\n<p>Furthermore according to eclipse, the __cplusplus flag is false into Mylib_2.h but true into Mylib_1.h</p>\n<p>Thinking of some eclipse error, I've tried to manually build the project via g++ (v4.6.3) but I got the same exact problem when I've tried to link the libraries .o with the main.cpp</p>\n<p>Seems stupid but I can't figure out what could it be. Any suggestion? </p>\n<p>Thank you</p>\n</hr></hr></hr></hr>", "Tags": "<c++><c><g++><extern>", "Score": "2", "AnswerCount": "1"}, "bq_ids": {"n4659": {"so_18368801_18368801_0": {"section_id": 180, "quality": 0.6666666666666666, "length": 4}}}});