post_cb({"39279075": {"Body": "<p>I'm quoting the <a href=\"https://stackoverflow.com/a/39278306/4987285\">comment</a> of @JoachimPileborg that seems to explain it correctly:</p>\n<blockquote>\n<p id=\"so_39279074_39279075_0\">I think I figured it out now, decltype needs an expression, and not a type. void() is not actually a type here, but an expression, a C-style cast (just like e.g. int(12.34)) void(void) is not an expression therefore it doesn't work. How the compiler parses different things depends on the context, when it expects a type it parses as a type, when it expects an expression it parses as an expression. sizeof() (with the parentheses) expects first of all a type, otherwise it's parsed as a parenthesized expression.</p>\n</blockquote>\n<p>I'm not looking for credits or reputation.<br>\nAnyway, I guess that was an interesting answer in the answer that is worth of a dedicated question for future readers.</br></p>\n", "CreationDate": "2016-09-01T19:03:21.193", "ParentId": "39279074", "CommentCount": "4", "LastEditDate": "2017-05-23T12:33:35.060", "CommunityOwnedDate": "2016-09-01T19:12:26.867", "PostTypeId": "2", "LastActivityDate": "2016-09-01T19:03:21.193", "LastEditorUserId": "-1", "Id": "39279075", "Score": "4", "OwnerUserId": "4987285"}, "bq_ids": {"n4140": {"so_39279074_39279847_0": {"length": 20, "quality": 0.9090909090909091, "section_id": 6000}}, "n3337": {"so_39279074_39279847_0": {"length": 20, "quality": 0.9090909090909091, "section_id": 5768}}}, "39279847": {"Id": "39279847", "PostTypeId": "2", "Body": "<p>Using a <a href=\"http://www.nongnu.org/hcb/#decltype-specifier\">hyperlinked C++ grammar</a>, the parsing of <code>decltype(void())</code> is:</p>\n<pre><code>decltype( expression )\ndecltype( assignment-expression )\ndecltype( conditional-expression )\n</code></pre>\n<p>... lots of steps involving order of operations go here ...</p>\n<pre><code>decltype( postfix-expression )\ndecltype( simple-type-specifier ( expression-listopt ) )\ndecltype( void() )\n</code></pre>\n<p>So <code>void()</code> is a kind of <a href=\"http://www.nongnu.org/hcb/#expression\"><code>expression</code></a> here, in particular a <a href=\"http://www.nongnu.org/hcb/#postfix-expression\"><code>postfix-expression</code></a>.</p>\n<p>Specifically, quoting section 5.2.3 [expr.type.conf] paragraph 2 of the 2011 ISO C++ standard:</p>\n<blockquote>\n<p id=\"so_39279074_39279847_0\">The expression <code>T()</code>, where <code>T</code> is a <em>simple-type-specifier</em> or\n  <em>typename-specifier</em> for a non-array complete object type or the (possibly cv-qualified) <code>void</code> type, creates a prvalue of the\n  specified type, which is value-initialized (8.5; no initialization is\n  done for the <code>void()</code> case).</p>\n</blockquote>\n<p>So <code>void()</code> is an expression of type <code>void</code>, just as <code>int()</code> is an expression of type <code>int</code> (with value <code>0</code>). Clearly a void expression has no value, but here it's the operand of <code>decltype</code>, so it's not evaluated. <code>decltype</code> refers only to its operand's type, not its value.</p>\n<p><code>decltype(void())</code> is simply a verbose way of referring to the type <code>void</code>.</p>\n", "LastEditorUserId": "3614835", "LastActivityDate": "2016-09-02T01:15:05.333", "CommentCount": "3", "CreationDate": "2016-09-01T19:52:33.507", "ParentId": "39279074", "Score": "8", "OwnerUserId": "1774667", "LastEditDate": "2016-09-02T01:15:05.333"}, "39279074": {"ViewCount": "666", "Body": "<p>This is a follow-up of <a href=\"https://stackoverflow.com/questions/39278200/is-sizeofvoid-a-legal-expression\">this</a> question, more precisely of the comments of <a href=\"https://stackoverflow.com/a/39278306/4987285\">this</a> answer.</p>\n<p>What does the <code>void()</code> in <code>decltype(void())</code> represent exactly?<br>\nDoes it represent a function type, an expression or whatever?</br></p>\n", "AcceptedAnswerId": "39279847", "Title": "What does the void() in decltype(void()) mean exactly?", "CreationDate": "2016-09-01T19:03:21.193", "Id": "39279074", "CommentCount": "0", "FavoriteCount": "4", "PostTypeId": "1", "LastEditDate": "2017-05-23T12:24:19.710", "LastEditorUserId": "-1", "LastActivityDate": "2016-09-02T01:15:05.333", "Score": "17", "OwnerUserId": "4987285", "Tags": "<c++><c++11><language-lawyer><void><decltype>", "AnswerCount": "2"}});