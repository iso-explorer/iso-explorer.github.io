post_cb({"33845965": {"CommentCount": "2", "ViewCount": "56", "PostTypeId": "1", "LastEditorUserId": "1531083", "CreationDate": "2015-11-21T16:49:39.807", "LastActivityDate": "2015-11-21T17:53:48.110", "Title": "reinterpret_cast to aggregate type in C++", "LastEditDate": "2015-11-21T17:53:48.110", "Id": "33845965", "Score": "1", "Body": "<p>Concerning the safety of accessing an object through a pointer of type <code>AliasedType*</code>, the C++11 standard states that the following is safe (\u00a73.10.10):</p>\n<blockquote>\n<p id=\"so_33845965_33845965_0\">AliasedType is an aggregate type or a union type which holds one of the aforementioned types as an element or non-static member (including, recursively, elements of subaggregates and non-static data members of the contained unions).</p>\n</blockquote>\n<p>I totally get the union part, but what exactly does that tell me about aggregate types? I (think I) know that I can convert freely between pointers to an aggregate type and pointers to its first member, but this rule seems to allow more casting.</p>\n<p>I tried the following:</p>\n<pre><code>struct bar {\n  int a;\n  float b;\n  int c;\n};\n\nint main() {\n  bar s {1,2,3};\n  cout &lt;&lt; hex &lt;&lt; ((bar*)&amp;s.b)-&gt;a &lt;&lt; endl;\n}\n</code></pre>\n<p>The result was 40000000, which means I got the representation of <code>b</code> as int, but somehow I doubt that this should be defined behaviour?</p>\n", "Tags": "<c++>", "OwnerUserId": "1531083", "AnswerCount": "1"}, "33846058": {"ParentId": "33845965", "CommentCount": "1", "Body": "<p>It's not defined behavior.  C-style casts can be anything and in this case it's a reinterpret_cast.  This cast tells the compiler, \"I know what I'm doing even though you might think otherwise and want to tell me about it.\"  But in this case the compiler is right and you are wrong...but the compiler listens and lets you shoot yourself in the temple.</p>\n", "OwnerUserId": "301883", "PostTypeId": "2", "Id": "33846058", "Score": "0", "CreationDate": "2015-11-21T16:57:32.960", "LastActivityDate": "2015-11-21T16:57:32.960"}, "bq_ids": {"n4140": {"so_33845965_33845965_0": {"section_id": 7239, "quality": 0.5714285714285714, "length": 12}}, "n3337": {"so_33845965_33845965_0": {"section_id": 6983, "quality": 0.5714285714285714, "length": 12}}, "n4659": {"so_33845965_33845965_0": {"section_id": 8748, "quality": 0.5714285714285714, "length": 12}}}});