post_cb({"32231125": {"ParentId": "32231075", "CommentCount": "2", "Body": "<p>No, from [dcl.type.simple]:</p>\n<blockquote>\n<p id=\"so_32231075_32231125_0\">The operand of the <code>decltype</code> specifier is an unevaluated operand (Clause 5).</p>\n</blockquote>\n<p>which means, from [expr]:</p>\n<blockquote>\n<p id=\"so_32231075_32231125_1\">In some contexts, unevaluated operands appear (5.2.8, 5.3.3, 5.3.7, 7.1.6.2). An unevaluated operand is not\n  evaluated. An unevaluated operand is considered a <em>full-expression</em>.</p>\n</blockquote>\n<p>So in this particular context, the purpose of <code>decltype(t.reserve(n), void())</code> is to verify that <code>t.reserve(n)</code> is a valid expression. If it is, then the function is a viable overload whose return type is void, and <code>reserve()</code> will be called exactly once (in the function body). If it is not, then we have a substitution failure and the function is not a viable overload candidate. </p>\n", "OwnerUserId": "2069064", "PostTypeId": "2", "Id": "32231125", "Score": "10", "CreationDate": "2015-08-26T15:46:50.393", "LastActivityDate": "2015-08-26T15:46:50.393"}, "32231075": {"CommentCount": "7", "ViewCount": "178", "PostTypeId": "1", "LastEditorUserId": "-1", "CreationDate": "2015-08-26T15:44:04.070", "LastActivityDate": "2015-08-26T15:50:25.213", "Title": "Is expression inside decltype executed, or just being checked for validation?", "AcceptedAnswerId": "32231125", "LastEditDate": "2017-05-23T12:06:17.890", "Id": "32231075", "Score": "2", "Body": "<p>By using <a href=\"https://stackoverflow.com/questions/12654067/what-is-expression-sfinae\">Expression SFINAE</a>, you can detect if some <a href=\"https://stackoverflow.com/questions/5839357/detect-operator-support-with-decltype-sfinae\">operator</a> or <a href=\"https://stackoverflow.com/questions/14003366/what-does-the-void-in-auto-fparams-decltype-void-do\">operation</a> is supported or not.</p>\n<p>for example, </p>\n<pre><code>template &lt;class T&gt;\nauto f(T&amp; t, size_t n) -&gt; decltype(t.reserve(n), void())\n { t.reserve(n); }\n</code></pre>\n<p>My question is that <code>t.reserve(n)</code> inside <code>decltype</code> get executed or not? </p>\n<p>If yes, does that mean <code>t.reserve(n)</code> got executed twice, one inside <code>decltype</code> and the other one inside the function body? </p>\n<p>If not, is it just checked for validation during compilation time? But why it is not executed, I thought all the expressions in the comma separated expression list will get executed.</p>\n", "Tags": "<c++><templates><c++11><sfinae>", "OwnerUserId": "2345484", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_32231075_32231125_0": {"section_id": 5440, "quality": 0.8571428571428571, "length": 6}, "so_32231075_32231125_1": {"section_id": 5941, "quality": 0.6, "length": 9}}, "n3337": {"so_32231075_32231125_0": {"section_id": 5235, "quality": 0.8571428571428571, "length": 6}, "so_32231075_32231125_1": {"section_id": 5712, "quality": 0.5333333333333333, "length": 8}}, "n4659": {"so_32231075_32231125_0": {"section_id": 6867, "quality": 0.8571428571428571, "length": 6}, "so_32231075_32231125_1": {"section_id": 7425, "quality": 0.6, "length": 9}}}});