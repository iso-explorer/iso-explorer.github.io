post_cb({"1994213": {"Id": "1994213", "PostTypeId": "2", "Body": "<p>there is more or less everything wrong with it:</p>\n<pre><code>int *p,*c;\np=(int*)10;\nc=(int*)20;\n</code></pre>\n<ul>\n<li>afterwards p is pointing to memory address 10</li>\n<li>afterwards c is pointing to memory address 20</li>\n</ul>\n<p>This doesn't look very intentional.</p>\n<p>And I suppose that the whole program will simply crash.</p>\n", "OwnerDisplayName": "anon", "LastActivityDate": "2010-01-03T06:50:34.380", "Score": "-1", "CreationDate": "2010-01-03T06:50:34.380", "ParentId": "1994186", "CommentCount": "3"}, "1994205": {"Id": "1994205", "PostTypeId": "2", "Body": "<p>You're assigning values (10 and 20) to the pointers which obviously is a potential problem if you try to read the data at those addresses. Casting the pointer to an integer is also really ugly. And your main function does not have a return statement. That is just a few things.</p>\n", "LastEditorUserId": "759866", "LastActivityDate": "2014-06-16T22:14:32.623", "Score": "0", "CreationDate": "2010-01-03T06:44:35.420", "ParentId": "1994186", "CommentCount": "2", "OwnerUserId": "83327", "LastEditDate": "2014-06-16T22:14:32.623"}, "1994207": {"Id": "1994207", "PostTypeId": "2", "Body": "<p>Assuming I'm right about what this is supposed to be, it should look like this:</p>\n<pre><code>int main()\n{\n  int *p, *c;\n  // Something that creates whatever p and c point to goes here, a trivial example would be.\n  int pValue, cValue;\n  p = &amp;pValue;\n  c = &amp;cValue;\n  // The &amp; operator retrieves the memory address of pValue and cValue. \n\n  *p = 10;\n  *c = 20;\n  cout &lt;&lt; *p &lt;&lt; *c;\n}\n</code></pre>\n<p>In order to assign or retrieve a value to a variable referenced by a pointer, you need to <a href=\"http://cplus.about.com/od/glossar1/g/dereference.htm\" rel=\"nofollow noreferrer\">dereference</a> it. </p>\n<p>What your code is doing is casting 10 into pointer to int (which is the memory address where the actual int resides).</p>\n", "LastEditorUserId": "216420", "LastActivityDate": "2010-01-03T07:59:50.247", "Score": "1", "CreationDate": "2010-01-03T06:44:56.340", "ParentId": "1994186", "CommentCount": "5", "OwnerUserId": "216420", "LastEditDate": "2010-01-03T07:59:50.247"}, "1994195": {"Id": "1994195", "PostTypeId": "2", "Body": "<p>The fact that <code>int</code> and pointer data types are not required to have the same number of bits, according to the C++ standard, is one thing - that means you could lose precision.</p>\n<p>In addition, casting an <code>int</code> to an <code>int</code> pointer then back again is silly. Why not just leave it as an <code>int</code>?</p>\n<p>I actually <em>did</em> try to compile this under gcc and it worked fine but that's probably more by accident than good design.</p>\n", "LastEditorUserId": "14860", "LastActivityDate": "2010-01-03T06:45:10.443", "Score": "9", "CreationDate": "2010-01-03T06:39:29.813", "ParentId": "1994186", "CommentCount": "6", "OwnerUserId": "14860", "LastEditDate": "2010-01-03T06:45:10.443"}, "bq_ids": {"n4140": {"so_1994186_1994384_1": {"length": 31, "quality": 0.9393939393939394, "section_id": 6044}}, "n3337": {"so_1994186_1994384_1": {"length": 31, "quality": 0.9393939393939394, "section_id": 5812}}, "n4659": {"so_1994186_1994384_1": {"length": 31, "quality": 0.9393939393939394, "section_id": 7543}}}, "2040758": {"Id": "2040758", "PostTypeId": "2", "Body": "<p>The problem on some platforms you need </p>\n<pre><code>p = (int*) (long) 10;\n</code></pre>\n<p>See GLIB documentation on <a href=\"http://library.gnome.org/devel/glib/stable/glib-Type-Conversion-Macros.html\" rel=\"nofollow noreferrer\">type conversion macros</a>.</p>\n<p>And for the people who might not find a use for this type of expressions, it is possible to return data inside pointer value returning functions. You can find real-world examples, where this case it is better to use this idiom, instead of allocating a new integer on the heap, and return it back - poor performance, memory fragmentation, just ugly.</p>\n", "LastActivityDate": "2010-01-11T09:02:38.823", "CommentCount": "0", "CreationDate": "2010-01-11T09:02:38.823", "ParentId": "1994186", "Score": "0", "OwnerUserId": "247897"}, "1994384": {"Id": "1994384", "PostTypeId": "2", "Body": "<p>Some wanted a quote from the C++ standard (I'd have put this in the comments of that answer if the format of comments wasn't so restricted), here are two from the 1999 one:</p>\n<p>5.2.10/3</p>\n<blockquote>\n<p id=\"so_1994186_1994384_0\">The mapping performed by <code>reinterpret_cast</code> is implementation defined.</p>\n</blockquote>\n<p>5.2.10/5</p>\n<blockquote>\n<p id=\"so_1994186_1994384_1\">A value of integral type or enumeration type can be explicitly converted to a pointer.\n  A pointer converted to an integer of sufficient size (if ant such exists on the implementation)\n  and back to the same pointer type will have its original value; mappings between pointers and\n  integers are otherwise implementation-defined.</p>\n</blockquote>\n<p>And I see nothing mandating that such implementation-defined mapping must give a valid representation for all input.  Otherwise said, an implementation on an architecture with address registers can very well trap when executing </p>\n<pre><code>p = (int*)10;\n</code></pre>\n<p>if the mapping does not give a representation valid at that time (yes, what is a valid representation for a pointer may depend of time.  For instance <code>delete</code> may make invalid the representation of the deleted pointer).</p>\n", "LastEditorUserId": "136208", "LastActivityDate": "2010-01-03T10:52:00.510", "Score": "8", "CreationDate": "2010-01-03T09:04:34.347", "ParentId": "1994186", "CommentCount": "6", "OwnerUserId": "136208", "LastEditDate": "2010-01-03T10:52:00.510"}, "1994186": {"ViewCount": "502", "Body": "<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n  int *p,*c;\n  p=(int*)10;\n  c=(int*)20;\n  cout&lt;&lt;(int)p&lt;&lt;(int)c;\n}\n</code></pre>\n<p>Somebody asked me \"What is wrong with the above code?\" and I couldn't figure it out. Someone please help me.</p>\n", "AcceptedAnswerId": "1994384", "Title": "Casting between integers and pointers in C++", "CreationDate": "2010-01-03T06:35:49.290", "Id": "1994186", "CommentCount": "3", "FavoriteCount": "2", "PostTypeId": "1", "LastEditDate": "2010-01-03T13:02:05.790", "LastEditorUserId": "33213", "LastActivityDate": "2014-06-16T22:14:32.623", "Score": "7", "OwnerUserId": "165520", "Tags": "<c++><pointers>", "AnswerCount": "7"}, "1994208": {"Id": "1994208", "PostTypeId": "2", "Body": "<p>addresses p and c may be larger than int.</p>\n", "LastActivityDate": "2010-01-03T06:45:55.563", "CommentCount": "3", "CreationDate": "2010-01-03T06:45:55.563", "ParentId": "1994186", "Score": "0", "OwnerUserId": "236975"}});