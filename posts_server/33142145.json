post_cb({"33142269": {"ParentId": "33142145", "CommentCount": "1", "Body": "<p>This is technically fine, if a bit unclear.</p>\n<p>The <code>bool</code> will be <em>promoted</em> to an <code>int</code>, so the result is well-defined. However, looking at that code I don't instantly get the semantics you are trying to achieve.</p>\n<p>I would simply write something like:</p>\n<pre><code>height = legendText-&gt;isEmpty() ? 0 : height;\n</code></pre>\n<p>This makes your intent far clearer.</p>\n", "OwnerUserId": "496161", "PostTypeId": "2", "Id": "33142269", "Score": "107", "CreationDate": "2015-10-15T07:20:31.550", "LastActivityDate": "2015-10-15T07:20:31.550"}, "33142145": {"CommentCount": "3", "AcceptedAnswerId": "33142269", "PostTypeId": "1", "LastEditorUserId": "63550", "CreationDate": "2015-10-15T07:14:48.910", "LastActivityDate": "2015-10-24T18:53:19.700", "LastEditDate": "2015-10-15T21:12:04.247", "ViewCount": "5302", "FavoriteCount": "3", "Title": "Can I multiply an int with a boolean in C++?", "Id": "33142145", "Score": "50", "Body": "<p>I have a widget in my GUI that displays chart(s). If I have more than one chart there will be a legend shown in a rectangle on the GUI.</p>\n<p>I have a <code>QStringlist (legendText)</code> which holds the text of the legend. If there is no legend required, <code>legendText</code> would be empty. If there will be a legend, <code>legendText</code> would hold the text.</p>\n<p>For finding the height of the rectangle around the legend I would like to do the following:</p>\n<pre><code> int height = 10;\n QStringList legendText;\n ...\n height = height * (legendText-&gt;size() &gt; 0);\n ...\n</code></pre>\n<p>Is this a good idea/ good style to multiply an <code>int</code> with a <code>boolean</code>? Will I run into problems with that?</p>\n", "Tags": "<c++><int><boolean>", "OwnerUserId": "3443063", "AnswerCount": "5"}, "33142247": {"ParentId": "33142145", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>You can use the conditional (ternary) operator:</p>\n<pre><code>height = ( legendText-&gt;size() &gt;0 ) ? height : 0 ;\n</code></pre>\n", "OwnerUserId": "4013258", "LastEditorUserId": "4013258", "LastEditDate": "2015-10-15T12:48:39.850", "Id": "33142247", "Score": "16", "CreationDate": "2015-10-15T07:19:42.283", "LastActivityDate": "2015-10-15T12:48:39.850"}, "33142227": {"ParentId": "33142145", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>It's perfectly fine according to the standard (\u00a74.5/6):</p>\n<blockquote>\n<p id=\"so_33142145_33142227_0\">A prvalue of type <code>bool</code> can be converted to a prvalue of type <code>int</code>, with\n  <code>false</code> becoming zero and <code>true</code> becoming one.</p>\n</blockquote>\n<p>However, I suggest using <code>isEmpty</code> instead of comparing <code>size</code> to zero <code>height = height * (!legendText-&gt;isEmpty());</code></p>\n<p>Or use the conditional operator as the other answers suggest (but still with <code>isEmpty</code> instead of <code>.size() &gt; 0</code>)</p>\n", "OwnerUserId": "1490355", "LastEditorUserId": "1464444", "LastEditDate": "2015-10-15T13:42:57.177", "Id": "33142227", "Score": "32", "CreationDate": "2015-10-15T07:18:49.810", "LastActivityDate": "2015-10-15T13:42:57.177"}, "33144570": {"ParentId": "33142145", "CommentCount": "1", "Body": "<p>Maybe this?</p>\n<pre><code>if(legendText-&gt;isEmpty())\n{\n   height = 0;\n}\n</code></pre>\n<p>or</p>\n<pre><code>int height = legendText-&gt;isEmpty() ? 0 : 10;\n</code></pre>\n", "OwnerUserId": "2489559", "PostTypeId": "2", "Id": "33144570", "Score": "11", "CreationDate": "2015-10-15T09:20:43.277", "LastActivityDate": "2015-10-15T09:20:43.277"}, "bq_ids": {"n4140": {"so_33142145_33142227_0": {"section_id": 26, "quality": 1.0, "length": 14}}, "n3337": {"so_33142145_33142227_0": {"section_id": 23, "quality": 1.0, "length": 14}}, "n4659": {"so_33142145_33142227_0": {"section_id": 26, "quality": 1.0, "length": 14}}}, "33312961": {"ParentId": "33142145", "PostTypeId": "2", "CommentCount": "5", "Body": "<p>Some people may find following information useful (following code should be considered in high performance programs where every clock cycle matters and it's purpose here is to show alternative techniques, I wouldn't use it in this particular situation).</p>\n<p>If you need fast code without branches you can implement int multiplication with boolean using bitwise operators.</p>\n<pre><code>bool b = true;\nint  number = 10;\nnumber = b*number;\n</code></pre>\n<p>can be optimized to:</p>\n<pre><code>number = (-b &amp; number);\n</code></pre>\n<p>If <code>b</code> is <code>true</code> then <code>-b</code> is <code>-1</code> and all bits are set to <code>1</code>. Otherwise all bits are <code>0</code>.<br>\nBoolean NOT (<code>!b</code>) can be implemented by XOR'ing <code>b</code> with <code>1</code> (<code>b^1</code>).<br>\nSo in your case we get following expression:</br></br></p>\n<pre><code>height = (-(legendText-&gt;isEmpty()^1) &amp; height);\n</code></pre>\n", "OwnerUserId": "4895229", "LastEditorUserId": "4895229", "LastEditDate": "2015-10-24T18:53:19.700", "Id": "33312961", "Score": "0", "CreationDate": "2015-10-23T23:42:15.700", "LastActivityDate": "2015-10-24T18:53:19.700"}});