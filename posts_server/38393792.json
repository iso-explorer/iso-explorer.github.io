post_cb({"38393792": {"CommentCount": "9", "ViewCount": "51", "ClosedDate": "2016-07-15T10:30:13.077", "CreationDate": "2016-07-15T10:26:20.753", "LastActivityDate": "2016-07-15T10:31:03.357", "Title": "Is it legal to have a member variable with the same name as it's type?", "PostTypeId": "1", "Id": "38393792", "Score": "2", "Body": "<p>No arguments over good style, I'm just interested here in what is legal in standard c++. This is a small example of something that came up in a much bigger bit of code.</p>\n<p>Clang and Visual Studio compile this without error and it appears to work perfectly well. I don't even get a warning from either.</p>\n<p>GCC gives the following error and refuses to even compile the code...</p>\n<blockquote>\n<p id=\"so_38393792_38393792_0\">test.cpp:1:8: error: changes meaning of 'test' from 'struct test'\n  [-fpermissive]</p>\n</blockquote>\n<p>Is this legal code, or not?\nI understand what gcc is saying, but is this code actually in error?</p>\n<pre><code>struct test\n{\n    int data;\n};\n\n\nstruct app\n{\n    test test;\n};\n\nint main()\n{\n    app myapp;\n    myapp.test.data = 123;\n}\n</code></pre>\n", "Tags": "<c++>", "OwnerUserId": "417292", "AnswerCount": "1"}, "38393880": {"ParentId": "38393792", "CommentCount": "5", "Body": "<p><strong><a href=\"http://coliru.stacked-crooked.com/a/72fee651d09349ea\" rel=\"nofollow\">It's invalid</a></strong>, because the variable and the type are in different scopes.</p>\n<p><a href=\"http://coliru.stacked-crooked.com/a/bfb1d0c11b9e18f1\" rel=\"nofollow\">Hiding kicks in only when they're in the same scope</a>:</p>\n<blockquote>\n<p id=\"so_38393792_38393880_0\"><code>[C++14: 3.3.10/2]:</code> A class name (9.1) or enumeration name (7.2) can be hidden by the name of a variable, data member, function, or enumerator declared in the same scope. If a class or enumeration name and a variable, data member, function, or enumerator are declared in the same scope (in any order) with the same name, the class or enumeration name is hidden wherever the variable, data member, function, or enumerator name is visible.</p>\n</blockquote>\n<p>Clang and Visual Studio are wrong.</p>\n", "OwnerUserId": "560648", "PostTypeId": "2", "Id": "38393880", "Score": "0", "CreationDate": "2016-07-15T10:31:03.357", "LastActivityDate": "2016-07-15T10:31:03.357"}, "bq_ids": {"n4140": {"so_38393792_38393880_0": {"section_id": 7079, "quality": 0.9534883720930233, "length": 41}}, "n3337": {"so_38393792_38393880_0": {"section_id": 6823, "quality": 0.9534883720930233, "length": 41}}, "n4659": {"so_38393792_38393880_0": {"section_id": 8580, "quality": 0.9534883720930233, "length": 41}}}});