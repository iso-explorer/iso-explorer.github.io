post_cb({"2290764": {"ParentId": "2290733", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>You <em>can't</em> initialize members of the parent class in the derived class constructor initialization list. It doesn't matter whether they are protected, public or anything else.</p>\n<p>In your example, member <code>something</code> is member of <code>Parent</code> class, which means that it can only be initialized in the constructor initializer list of <code>Parent</code> class.</p>\n", "OwnerUserId": "187690", "LastEditorUserId": "313113", "LastEditDate": "2015-04-03T08:44:02.247", "Id": "2290764", "Score": "11", "CreationDate": "2010-02-18T17:35:16.343", "LastActivityDate": "2015-04-03T08:44:02.247"}, "2290803": {"ParentId": "2290733", "PostTypeId": "2", "CommentCount": "1", "Body": "<p>When the compiler comes across the initializer list, the derived class object is yet to be formed. The base class constructor has not been called till then. Only after the base class constructor has been called, <code>something</code> comes to being. Hence the problem. When you do not call the base class constructor explicitly, the compiler does that for you (by generating the appropriate trivial constructor for the base class). This causes the <code>something</code> member to be default initialized. </p>\n<p>From C++0x draft:</p>\n<blockquote>\n<p id=\"so_2290733_2290803_0\"><strong>12.6.2 Initializing bases and members</strong></p>\n<p id=\"so_2290733_2290803_1\"><strong>2</strong> Names in a mem-initializer-id are\n  looked up in the scope of the\n  constructor\u2019s class and, if not found\n  in that scope, are looked up in the\n  scope containing the constructor\u2019s\n  definition. [ Note: if the\n  constructor\u2019s class contains a member\n  with the same name as a direct or\n  virtual base class of the class, a\n  mem-initializer-id naming the member\n  or base class and composed of a single\n  identifier refers to the class member.\n  A meminitializer- id for the hidden\n  base class may be specified using a\n  qualified name. \u2014end note ] <strong>Unless the\n  mem-initializer-id names the\n  constructor\u2019s class, a non-static data\n  member of the constructor\u2019s class or a\n  direct or virtual base of that class,\n  the mem-initializer is ill-formed.</strong></p>\n<p id=\"so_2290733_2290803_2\"><em>Note: Emphasis mine.</em></p>\n</blockquote>\n", "OwnerUserId": "66692", "LastEditorUserId": "834280", "LastEditDate": "2014-06-06T17:04:36.187", "Id": "2290803", "Score": "49", "CreationDate": "2010-02-18T17:40:10.330", "LastActivityDate": "2014-06-06T17:04:36.187"}, "2290733": {"CommentCount": "0", "AcceptedAnswerId": "2290749", "PostTypeId": "1", "LastEditorUserId": "71612", "CreationDate": "2010-02-18T17:29:30.507", "LastActivityDate": "2017-04-27T20:34:21.860", "LastEditDate": "2013-02-14T17:30:15.677", "ViewCount": "35579", "FavoriteCount": "21", "Title": "Initialize parent's protected members with initialization list (C++)", "Id": "2290733", "Score": "106", "Body": "<p>Is it possible to use the initialization list of a child class' constructor to initialize data members declared as protected in the parent class?  I can't get it to work.  I can work around it, but it would be nice if I didn't have to.</p>\n<p>Some sample code:</p>\n<pre><code>class Parent\n{\nprotected:\n    std::string something;\n};\n\nclass Child : public Parent\n{\nprivate:\n    Child() : something(\"Hello, World!\")\n    {\n    }\n};\n</code></pre>\n<p>When I try this, the compiler tells me: \"class 'Child' does not have any field named 'something'\".  Is something like this possible?  If so, what is the syntax?</p>\n<p>Many thanks!</p>\n", "Tags": "<c++><inheritance><constructor><initialization-list>", "OwnerUserId": "71612", "AnswerCount": "4"}, "2290749": {"ParentId": "2290733", "CommentCount": "1", "Body": "<p>It is not possible in the way you describe. You'll have to add a constructor (could be protected) to the base class to forward it along. Something like:</p>\n<pre><code>class Parent\n{\nprotected:\n    Parent( const std::string&amp; something ) : something( something )\n    {}\n\n    std::string something;\n}\n\nclass Child : public Parent\n{\nprivate:\n    Child() : Parent(\"Hello, World!\")\n    {\n    }\n}\n</code></pre>\n", "OwnerUserId": "32136", "PostTypeId": "2", "Id": "2290749", "Score": "100", "CreationDate": "2010-02-18T17:33:02.580", "LastActivityDate": "2010-02-18T17:33:02.580"}, "bq_ids": {"n4140": {"so_2290733_2290803_1": {"section_id": 429, "quality": 0.9047619047619048, "length": 57}}, "n3337": {"so_2290733_2290803_1": {"section_id": 421, "quality": 0.9047619047619048, "length": 57}}, "n4659": {"so_2290733_2290803_1": {"section_id": 447, "quality": 0.9047619047619048, "length": 57}}}, "43667449": {"ParentId": "2290733", "CommentCount": "0", "Body": "<p>Maybe you can try it in that way using the keyword \"using\"</p>\n<pre><code>class Parent\n{\n\nprotected:\nstd::string something;\n};\n\nclass Child : public Parent\n{\n\nprivate:\nusing Parent::something;\nChild()\n{\n    something=\"Hello, World!\";\n}\n};\n</code></pre>\n", "OwnerUserId": "7710359", "PostTypeId": "2", "Id": "43667449", "Score": "0", "CreationDate": "2017-04-27T20:34:21.860", "LastActivityDate": "2017-04-27T20:34:21.860"}});