post_cb({"1271307": {"ViewCount": "3740", "Body": "<p>Of course, warning must be treated, but <strong>why is VC++ <a href=\"http://msdn.microsoft.com/en-us/library/ba5dy3f2.aspx\" rel=\"noreferrer\">C4150</a></strong> (deletion of pointer to incomplete type) <strong>only a warning?</strong></p>\n", "AcceptedAnswerId": "1271953", "Title": "Why is VC++ C4150 (deletion of pointer to incomplete type) only a warning?", "CreationDate": "2009-08-13T11:06:53.137", "Id": "1271307", "CommentCount": "0", "LastEditDate": "2009-08-13T12:51:10.450", "CommunityOwnedDate": "2009-08-13T12:51:10.450", "PostTypeId": "1", "LastEditorUserId": "54956", "LastActivityDate": "2015-11-23T09:44:28.210", "Score": "10", "OwnerUserId": "54956", "Tags": "<c++><compiler-construction><visual-c++><compiler-warnings>", "AnswerCount": "3"}, "bq_ids": {"n4140": {"so_1271307_1271953_0": {"length": 16, "quality": 1.0, "section_id": 6109}}, "n3337": {"so_1271307_1271953_0": {"length": 16, "quality": 1.0, "section_id": 5875}}, "n4659": {"so_1271307_1271953_0": {"length": 16, "quality": 1.0, "section_id": 7606}}}, "1271953": {"Id": "1271953", "PostTypeId": "2", "Body": "<p>Because standard says it's legal, although dangerous: 5.3.5</p>\n<blockquote>\n<p id=\"so_1271307_1271953_0\">If the object being deleted has\n  incomplete class type at the point of\n  deletion and the complete class has a\n  non-trivial destructor or a\n  deallocation function, the behavior is\n  undefined.</p>\n</blockquote>\n", "LastActivityDate": "2009-08-13T13:29:29.567", "Score": "11", "CreationDate": "2009-08-13T13:29:29.567", "ParentId": "1271307", "CommentCount": "1", "OwnerUserId": "113662", "CommunityOwnedDate": "2009-08-13T13:29:29.567"}, "1271363": {"Id": "1271363", "PostTypeId": "2", "Body": "<p>You get this warning as result of forward declaration. So compiler has recognized that it is structure/class, but not sure about invocation of destructor.</p>\n<p>Sense of warning most possible is concerned with second pass of code analyze by msvc. When latter class is resolved compiler can make a decision if destructor exists.</p>\n", "LastActivityDate": "2009-08-13T11:19:56.443", "CommentCount": "0", "CreationDate": "2009-08-13T11:19:56.443", "ParentId": "1271307", "Score": "5", "OwnerUserId": "149818"}, "1271494": {"Id": "1271494", "PostTypeId": "2", "Body": "<p>It is legal in C++, even though often enough a bad idea. </p>\n<p>Roughly, Warning Level 1 are of the \"you might be surprised, but I ignored what you said there\" type, and a few selected statements where the generated code is very likely incorrect and crash-prone.  </p>\n<p>So WL 2 is appropriate, since it is legal and in many scenarios totally ok to delete an incomplete type.</p>\n<p>Of course, that reasoning is just an educated guess. Maybe Microsoft rolled the dice to assigne this warning level. </p>\n", "LastEditorUserId": "1916893", "LastActivityDate": "2015-11-23T09:44:28.210", "Score": "2", "CreationDate": "2009-08-13T11:47:54.083", "ParentId": "1271307", "CommentCount": "1", "OwnerUserId": "31317", "LastEditDate": "2015-11-23T09:44:28.210"}});