post_cb({"1271307": {"CommentCount": "0", "ViewCount": "3740", "PostTypeId": "1", "CommunityOwnedDate": "2009-08-13T12:51:10.450", "LastEditorUserId": "54956", "CreationDate": "2009-08-13T11:06:53.137", "LastActivityDate": "2015-11-23T09:44:28.210", "LastEditDate": "2009-08-13T12:51:10.450", "AcceptedAnswerId": "1271953", "Title": "Why is VC++ C4150 (deletion of pointer to incomplete type) only a warning?", "Id": "1271307", "Score": "10", "Body": "<p>Of course, warning must be treated, but <strong>why is VC++ <a href=\"http://msdn.microsoft.com/en-us/library/ba5dy3f2.aspx\" rel=\"noreferrer\">C4150</a></strong> (deletion of pointer to incomplete type) <strong>only a warning?</strong></p>\n", "Tags": "<c++><compiler-construction><visual-c++><compiler-warnings>", "OwnerUserId": "54956", "AnswerCount": "3"}, "1271953": {"ParentId": "1271307", "PostTypeId": "2", "CommentCount": "1", "CreationDate": "2009-08-13T13:29:29.567", "OwnerUserId": "113662", "CommunityOwnedDate": "2009-08-13T13:29:29.567", "Id": "1271953", "Score": "11", "Body": "<p>Because standard says it's legal, although dangerous: 5.3.5</p>\n<blockquote>\n<p id=\"so_1271307_1271953_0\">If the object being deleted has\n  incomplete class type at the point of\n  deletion and the complete class has a\n  non-trivial destructor or a\n  deallocation function, the behavior is\n  undefined.</p>\n</blockquote>\n", "LastActivityDate": "2009-08-13T13:29:29.567"}, "1271494": {"ParentId": "1271307", "PostTypeId": "2", "CommentCount": "1", "Body": "<p>It is legal in C++, even though often enough a bad idea. </p>\n<p>Roughly, Warning Level 1 are of the \"you might be surprised, but I ignored what you said there\" type, and a few selected statements where the generated code is very likely incorrect and crash-prone.  </p>\n<p>So WL 2 is appropriate, since it is legal and in many scenarios totally ok to delete an incomplete type.</p>\n<p>Of course, that reasoning is just an educated guess. Maybe Microsoft rolled the dice to assigne this warning level. </p>\n", "OwnerUserId": "31317", "LastEditorUserId": "1916893", "LastEditDate": "2015-11-23T09:44:28.210", "Id": "1271494", "Score": "2", "CreationDate": "2009-08-13T11:47:54.083", "LastActivityDate": "2015-11-23T09:44:28.210"}, "bq_ids": {"n4140": {"so_1271307_1271953_0": {"section_id": 6109, "quality": 1.0, "length": 16}}, "n3337": {"so_1271307_1271953_0": {"section_id": 5875, "quality": 1.0, "length": 16}}, "n4659": {"so_1271307_1271953_0": {"section_id": 7606, "quality": 1.0, "length": 16}}}, "1271363": {"ParentId": "1271307", "CommentCount": "0", "Body": "<p>You get this warning as result of forward declaration. So compiler has recognized that it is structure/class, but not sure about invocation of destructor.</p>\n<p>Sense of warning most possible is concerned with second pass of code analyze by msvc. When latter class is resolved compiler can make a decision if destructor exists.</p>\n", "OwnerUserId": "149818", "PostTypeId": "2", "Id": "1271363", "Score": "5", "CreationDate": "2009-08-13T11:19:56.443", "LastActivityDate": "2009-08-13T11:19:56.443"}});