post_cb({"15698609": {"ParentId": "15698432", "CommentCount": "0", "Body": "<p>You need to provide the declaration for the function before declaring it as friend.<br>\nThe declaration as friend does not qualify as actual function declaration as per the standard.</br></p>\n<p><strong>C++11 standard \u00a77.3.1.2 [namespace.memdef]:</strong><br>\n<strong>Para 3:</strong></br></p>\n<blockquote>\n<p id=\"so_15698432_15698609_0\">[...] If a <code>friend</code> declaration in a nonlocal class first declares a class or function the friend class or function is a member of the innermost enclosing namespace. <strong>The name of the friend is not found by unqualified lookup or by qualified lookup until a matching declaration is provided in that namespace scope</strong> (either before or after the class definition granting friendship). [...]</p>\n</blockquote>\n<pre><code>#include&lt;iostream.h&gt;\nclass Test\n{\n  public:\n    friend int display();  &lt;------------- Only a friend declaration not actual declaration\n};\n</code></pre>\n<p>You need:</p>\n<pre><code>#include&lt;iostream.h&gt;\nint display();            &lt;------- Actual declaration\nclass Test\n{\n  public:\n    friend int display();     &lt;------- Friend declaration \n};\n</code></pre>\n", "OwnerUserId": "452307", "PostTypeId": "2", "Id": "15698609", "Score": "3", "CreationDate": "2013-03-29T06:38:16.723", "LastActivityDate": "2013-03-29T06:38:16.723"}, "15698550": {"ParentId": "15698432", "CommentCount": "5", "Body": "<p>Interesting. It looks like the <code>friend</code> declaration for <code>display()</code> in <code>test1.h</code> counts as an actual function declaration in g++.</p>\n<p>I do not think the standard actually enforces this, so you probably want to add a proper declaration for <code>display()</code> in <code>test1.h</code>:</p>\n<pre><code>#include &lt;iostream&gt;\n\nint display();\n\nclass Test\n{\npublic:\n    friend int display();\n};\n</code></pre>\n", "OwnerUserId": "464709", "PostTypeId": "2", "Id": "15698550", "Score": "2", "CreationDate": "2013-03-29T06:34:27.623", "LastActivityDate": "2013-03-29T06:34:27.623"}, "bq_ids": {"n4140": {"so_15698432_15698609_0": {"section_id": 5485, "quality": 0.8611111111111112, "length": 31}}, "n3337": {"so_15698432_15698609_0": {"section_id": 5271, "quality": 0.9722222222222222, "length": 35}}, "n4659": {"so_15698432_15698609_0": {"section_id": 6920, "quality": 0.8611111111111112, "length": 31}}}, "15698432": {"CommentCount": "0", "ViewCount": "1774", "PostTypeId": "1", "LastEditorUserId": "55209", "CreationDate": "2013-03-29T06:26:08.130", "LastActivityDate": "2013-03-29T06:38:16.723", "Title": "Error: variable was not declared in this scope", "LastEditDate": "2013-03-29T06:32:32.183", "Id": "15698432", "Score": "2", "Body": "<p>I am getting the below error, when i am trying to compile code below.</p>\n<pre><code>Error: main.cpp: In function \"int main()\":\n       main.cpp:6: error: \"display\" was not declared in this scope\n</code></pre>\n<p><strong>test1.h</strong></p>\n<pre><code>#include&lt;iostream.h&gt;\nclass Test\n{\n  public:\n    friend int display();\n};\n</code></pre>\n<p><strong>test1.cpp:</strong></p>\n<pre><code>#include&lt;iostream.h&gt;\nint  display()\n{\n    cout&lt;&lt;\"Hello:In test.cc\"&lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n<p><strong>main.cpp</strong></p>\n<pre><code>#include&lt;iostream.h&gt;\n#include&lt;test1.h&gt;\nint main()\n{\n display();\n return 0;\n}\n</code></pre>\n<p>Strange thing is I am able to compile in unix successfully. \nI am using gcc and g++ compiler</p>\n", "Tags": "<c++><c++builder>", "OwnerUserId": "2223312", "AnswerCount": "2"}});