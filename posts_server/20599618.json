post_cb({"20599618": {"CommentCount": "1", "ViewCount": "102", "CreationDate": "2013-12-15T20:49:43.893", "LastActivityDate": "2013-12-15T21:06:48.243", "Title": "Error assigning value to a static variable", "AcceptedAnswerId": "20599758", "PostTypeId": "1", "Id": "20599618", "Score": "0", "Body": "<blockquote>\n<p id=\"so_20599618_20599618_0\">In this piece of code I don't know why the compiler doesn't let me assign the value 0 to variable x. I highlighted the line that cause the problem.</p>\n</blockquote>\n<pre><code>class List{\nprivate:\n    int p;\npublic:\n    static int x;\n    void total();\n};\n\nvoid List::total(List *a){\n    x + = a -&gt; p;\n    cout&lt;&lt;x;\n    getch();\n    x=0; // problem here\n}\n</code></pre>\n<blockquote>\n<p id=\"so_20599618_20599618_1\">I also noticed that if I write int List::sum=0 before the function body, program works just fine. I just don't understand why. \n  I appreciate any help!</p>\n</blockquote>\n", "Tags": "<visual-c++>", "OwnerUserId": "2945804", "AnswerCount": "2"}, "20599758": {"ParentId": "20599618", "PostTypeId": "2", "CommentCount": "1", "Body": "<p>You have declared the static in your class but have not defined a variable for it.</p>\n<pre><code>class List{\nprivate:\n    int p;\npublic:\n    static int x;    // this is just a declaration\n    void total();\n};\n</code></pre>\n<p>You need to define it, normally in the associated cpp file:</p>\n<pre><code>List::x = 0;        // define variable and initialise\n</code></pre>\n<p>Quoting <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/wp/html/oct97/class.html\" rel=\"nofollow\">from here</a>:</p>\n<blockquote>\n<p id=\"so_20599618_20599758_0\"><strong>9.4.2  Static data members</strong><br>\n  The declaration of a static data member in its class definition is\n  not a definition and may be of an incomplete type other than \n  cv-qualified   void.   The  definition  for  a  static  data member\n  shall appear in a   namespace scope enclosing the member's class\n  definition.  In the defi-   nition at namespace scope, the name of the\n  static data member shall be   qualified by its class name using the ::\n  operator.   The  initializer   expression  in  the definition of a\n  static data member is in the scope   of its class\n  (<em>basic.scope.class</em>).</br></p>\n</blockquote>\n", "OwnerUserId": "2065121", "LastEditorUserId": "2065121", "LastEditDate": "2013-12-15T21:06:48.243", "Id": "20599758", "Score": "0", "CreationDate": "2013-12-15T21:01:34.780", "LastActivityDate": "2013-12-15T21:06:48.243"}, "bq_ids": {"n4140": {"so_20599618_20599758_0": {"section_id": 5907, "quality": 0.8245614035087719, "length": 47}}, "n3337": {"so_20599618_20599758_0": {"section_id": 5679, "quality": 0.8245614035087719, "length": 47}}, "n4659": {"so_20599618_20599758_0": {"section_id": 7389, "quality": 0.7894736842105263, "length": 45}}}, "20599645": {"ParentId": "20599618", "CommentCount": "0", "Body": "<p>The operator <code>+=</code> tries to increase the value of <code>x</code>. You need to initialize <code>x</code> before using it.</p>\n", "OwnerUserId": "1889762", "PostTypeId": "2", "Id": "20599645", "Score": "0", "CreationDate": "2013-12-15T20:51:59.657", "LastActivityDate": "2013-12-15T20:51:59.657"}});