post_cb({"8510785": {"ParentId": "5720359", "CommentCount": "0", "Body": "<blockquote>\n<p id=\"so_5720359_8510785_0\">Ideally, I'd like it to promote the enum value e to an int and instantiate f(int).</p>\n</blockquote>\n<pre><code>f(+e);\n</code></pre>\n", "OwnerUserId": "963864", "PostTypeId": "2", "Id": "8510785", "Score": "5", "CreationDate": "2011-12-14T19:53:33.167", "LastActivityDate": "2011-12-14T19:53:33.167"}, "5720359": {"CommentCount": "0", "AcceptedAnswerId": "5720418", "CreationDate": "2011-04-19T17:36:42.533", "LastActivityDate": "2011-12-14T19:53:33.167", "PostTypeId": "1", "ViewCount": "1823", "FavoriteCount": "2", "Title": "No matching function call to <anonymous enum>", "Id": "5720359", "Score": "10", "Body": "<p>Given:</p>\n<pre><code>template&lt;typename T&gt;\nvoid f( T ) {\n}\n\nenum {    // if changed to \"enum E\" it compiles\n  e\n};\n\nint main() {\n  f( e ); // line 10\n}\n</code></pre>\n<p>I get:</p>\n<pre><code>foo.cpp: In function \u2018int main()\u2019:\nfoo.cpp:10: error: no matching function for call to \u2018f(&lt;anonymous enum&gt;)\u2019\n</code></pre>\n<p>Yet if the <code>enum</code> declaration is given a name, it compiles.  Why doesn't it work for an anonymous enum?  Ideally, I'd like it to promote the enum value <code>e</code> to an <code>int</code> and instantiate <code>f(int)</code>.</p>\n", "Tags": "<c++><templates><enums>", "OwnerUserId": "99089", "AnswerCount": "3"}, "5720423": {"ParentId": "5720359", "CommentCount": "0", "Body": "<p>You can always explicitly do the promotion to clearly show your intention:</p>\n<p><code>f(static_cast&lt;int&gt;(e));</code></p>\n", "OwnerUserId": "251738", "PostTypeId": "2", "Id": "5720423", "Score": "1", "CreationDate": "2011-04-19T17:43:40.003", "LastActivityDate": "2011-04-19T17:43:40.003"}, "bq_ids": {"n4140": {"so_5720359_5720418_0": {"section_id": 7141, "quality": 0.6666666666666666, "length": 8}}, "n3337": {"so_5720359_5720418_0": {"section_id": 6885, "quality": 0.6666666666666666, "length": 8}}, "n4659": {"so_5720359_5720418_0": {"section_id": 8642, "quality": 0.6666666666666666, "length": 8}}}, "5720418": {"ParentId": "5720359", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Unnamed type simply cannot be used as a template argument</p>\n<p>C++03 says in <code>14.3.1[temp.arg.type]/2</code></p>\n<blockquote>\n<p id=\"so_5720359_5720418_0\">A local type, a type with no linkage, an unnamed type or a type compounded from any of these types shall not be used as a template-argument for a template type-parameter.</p>\n</blockquote>\n<p>This limitation was lifted in C++0x, and your program compiles with no diagnostics with MSVC++ 2010 and gcc 4.5.2 in C++0x mode.</p>\n", "OwnerUserId": "273767", "LastEditorUserId": "273767", "LastEditDate": "2011-04-19T17:48:28.547", "Id": "5720418", "Score": "10", "CreationDate": "2011-04-19T17:42:24.847", "LastActivityDate": "2011-04-19T17:48:28.547"}});