post_cb({"28379811": {"ParentId": "28379727", "CommentCount": "4", "Body": "<p>\u00a714.1 [temp.param]/p4:</p>\n<blockquote>\n<p id=\"so_28379727_28379811_0\">A non-type <em>template-parameter</em> shall have one of the following\n  (optionally cv-qualified) types:</p>\n<ul>\n<li>integral or enumeration type,</li>\n<li>pointer to object or pointer to function,</li>\n<li>lvalue reference to object or lvalue reference to function,</li>\n<li>pointer to member,</li>\n<li><code>std::nullptr_t</code>.</li>\n</ul>\n</blockquote>\n<p>A class type is none of these.</p>\n", "OwnerUserId": "2756719", "PostTypeId": "2", "Id": "28379811", "Score": "4", "CreationDate": "2015-02-07T07:43:17.707", "LastActivityDate": "2015-02-07T07:43:17.707"}, "28379727": {"CommentCount": "1", "ViewCount": "68", "PostTypeId": "1", "OwnerDisplayName": "user2953119", "CreationDate": "2015-02-07T07:29:50.497", "LastActivityDate": "2015-02-07T07:43:22.907", "LastEditDate": "2015-02-07T07:36:10.847", "AcceptedAnswerId": "28379811", "LastEditorDisplayName": "user2953119", "Title": "How can we use a variable of the type of the template parameter?", "Id": "28379727", "Score": "2", "Body": "<p>In the code below, I passed both class type <code>R</code> and a constant expression of that type as template parameters. But clang doesn't accept that:</p>\n<pre><code>#include &lt;iostream&gt;\n\ntemplate&lt;class T, T t&gt;\nvoid foo(){ std::cout &lt;&lt; \"foo()\" &lt;&lt; std::endl; }\n\nclass R\n{\npublic:\n    int f;\n    constexpr R(): f(15){ }\n};\n\nconstexpr R r;\n\nint main(){ foo&lt;R, r&gt;(); } //note: candidate template ignored: \n                           //invalid explicitly-specified argument \n                           //for template parameter 't'\n</code></pre>\n<p><strong><a href=\"http://coliru.stacked-crooked.com/a/c5e997988d9ff673\" rel=\"nofollow\">DEMO</a></strong></p>\n<p>In <code>N4296::14.3.2 [temp.arg.nontype]</code> I can't find any restriction other than the non-type template parameter should be a constant expression.</p>\n", "Tags": "<c++><templates>", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_28379727_28379811_0": {"section_id": 57, "quality": 1.0, "length": 8}}, "n3337": {"so_28379727_28379811_0": {"section_id": 52, "quality": 1.0, "length": 8}}, "n4659": {"so_28379727_28379811_0": {"section_id": 59, "quality": 1.0, "length": 8}}}});