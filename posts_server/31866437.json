post_cb({"31866878": {"ParentId": "31866437", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>The standard says:</p>\n<blockquote>\n<p id=\"so_31866437_31866878_0\">12.8 Copying and moving class objects  [class.copy]</p>\n<p id=\"so_31866437_31866878_1\">If the class definition does not explicitly declare a copy constructor, one is declared implicitly. If the class\n  definition declares a move constructor or move assignment operator, the implicitly declared copy constructor\n  is defined as deleted; otherwise, it is defined as defaulted (8.4). The latter case is deprecated if the class has\n  a user-declared copy assignment operator or a user-declared destructor. </p>\n<p id=\"so_31866437_31866878_2\">If the class definition does not explicitly declare a copy assignment operator, one is declared implicitly. If\n  the class definition declares a move constructor or move assignment operator, the implicitly declared copy\n  assignment operator is defined as deleted; otherwise, it is defined as defaulted (8.4). The latter case is deprecated if the class has a user-declared copy constructor or a user-declared destructor. </p>\n</blockquote>\n<p>Your class has defaulted move constructor, but it is explicitly declared.\nSo according to standard implicitly declared copy constructor and copy assignment operator is defined as deleted.</p>\n<blockquote>\n<p id=\"so_31866437_31866878_3\">8.4.2  Explicitly-defaulted functions [dcl.fct.def.default]</p>\n<p id=\"so_31866437_31866878_4\">Explicitly-defaulted functions and implicitly-declared functions are collectively called defaulted functions, and the implementation shall provide implicit definitions for them (12.1 12.4, 12.8), which might mean defining them as deleted. A function is user-provided if it is user-declared and not explicitly defaulted or deleted on its first declaration. A user-provided explicitly-defaulted function  (i.e., explicitly defaulted after its first declaration) is defined at the point where it is explicitly defaulted.</p>\n</blockquote>\n<p>Using this terminology your move constructor is user-declared, but not user-provided. </p>\n", "OwnerUserId": "4712648", "LastEditorUserId": "4712648", "LastEditDate": "2015-08-06T23:14:22.937", "Id": "31866878", "Score": "1", "CreationDate": "2015-08-06T22:32:58.567", "LastActivityDate": "2015-08-06T23:14:22.937"}, "31908164": {"ParentId": "31866437", "CommentCount": "0", "Body": "<p>A defaulted special member function is user-<em>declared</em> but it is also <em>defined</em> by the user as defaulted. The standard doesn't explicitly define the term \"user-declared\" but it essentially means any special member function that has to be written out by the user. So the following declares a constructor and defines it as defaulted.</p>\n<pre><code>struct X { \n    X() = default; // declaration and definition\n};\n</code></pre>\n<p>Defining a member function as defaulted means the <em>definition</em> is equivalent to the implicit definition. It is user-declared by virtue of the fact that it had to be typed out by the user.</p>\n", "OwnerUserId": "701092", "PostTypeId": "2", "Id": "31908164", "Score": "0", "CreationDate": "2015-08-09T19:43:15.680", "LastActivityDate": "2015-08-09T19:43:15.680"}, "bq_ids": {"n4140": {"so_31866437_31866878_1": {"section_id": 456, "quality": 0.9473684210526315, "length": 36}, "so_31866437_31866437_0": {"section_id": 460, "quality": 0.5454545454545454, "length": 6}, "so_31866437_31866878_2": {"section_id": 467, "quality": 0.9487179487179487, "length": 37}, "so_31866437_31866878_4": {"section_id": 3274, "quality": 0.8863636363636364, "length": 39}}, "n3337": {"so_31866437_31866878_1": {"section_id": 447, "quality": 0.9473684210526315, "length": 36}, "so_31866437_31866437_0": {"section_id": 447, "quality": 0.5454545454545454, "length": 6}, "so_31866437_31866878_4": {"section_id": 3145, "quality": 0.8863636363636364, "length": 39}, "so_31866437_31866878_2": {"section_id": 458, "quality": 0.9487179487179487, "length": 37}}, "n4659": {"so_31866437_31866878_1": {"section_id": 479, "quality": 0.9473684210526315, "length": 36}, "so_31866437_31866437_0": {"section_id": 483, "quality": 0.5454545454545454, "length": 6}, "so_31866437_31866878_2": {"section_id": 490, "quality": 0.9487179487179487, "length": 37}, "so_31866437_31866878_4": {"section_id": 4032, "quality": 0.8863636363636364, "length": 39}}}, "31866437": {"CommentCount": "16", "AcceptedAnswerId": "31866878", "PostTypeId": "1", "LastEditorUserId": "241631", "CreationDate": "2015-08-06T21:52:24.380", "LastActivityDate": "2015-08-09T19:43:15.680", "LastEditDate": "2015-08-06T21:59:03.557", "ViewCount": "318", "FavoriteCount": "0", "Title": "Is a defaulted move constructor considered user-declared?", "Id": "31866437", "Score": "7", "Body": "<p>The question is as my title states.</p>\n<p>I'm asking because I have a class with a defaulted move constructor but code trying to perform copy assignment is failing stating that the copy assignment operator is <em>deleted</em> (according to Visual Studio 2015).</p>\n<p>So I checked the rules <a href=\"http://en.cppreference.com/w/cpp/language/as_operator\">here</a> for implicitly declared copy assignment operators:</p>\n<blockquote>\n<p id=\"so_31866437_31866437_0\">The implicitly-declared or defaulted copy assignment operator for class T is defined as deleted in any of the following is true:</p>\n<ul>\n<li>...</li>\n<li><strong>T has a user-declared move constructor</strong></li>\n<li>T has a user-declared move assignment operator</li>\n</ul>\n</blockquote>\n<p>So basically I'm not sure if a <em>defaulted</em> move constructor counts as <em>user-declared</em>. My gut tells me yes but when it comes to standardese I always like to be sure since assumptions can be costly.</p>\n", "Tags": "<c++><c++11>", "OwnerUserId": "157971", "AnswerCount": "2"}});