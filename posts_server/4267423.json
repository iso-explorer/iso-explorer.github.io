post_cb({"4267674": {"CreationDate": "2010-11-24T14:08:23.160", "LastActivityDate": "2010-11-24T14:16:54.730", "LastEditorUserId": "165520", "ParentId": "4267423", "Score": "5", "Id": "4267674", "OwnerUserId": "165520", "Body": "<blockquote>\n<p id=\"so_4267423_4267674_0\">Which portion of the Standard guides the behavior of such code?</p>\n</blockquote>\n<p>C++03 Section $8.3 says</p>\n<blockquote>\n<p id=\"so_4267423_4267674_1\">A declarator-id shall not be qualified except for the definition of a member function (9.3) or static data member (9.4) out-side of its class, the definition or explicit instantiation of a function or variable member of a namespace out-side of its namespace, or the definition of a previously declared explicit specialization outside of its name-space, or the declaration of a friend function that is a member of another class or namespace (11.4).</p>\n</blockquote>\n<p>So your code is ill-formed. </p>\n<p>However in discussing <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_closed.html#548\" rel=\"nofollow\">issue 548</a>  the CWG agreed that the prohibition of qualified declarators inside their namespace should be lifted<sup>1</sup>.</p>\n<p><sub>1 : Active Issue <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#482\" rel=\"nofollow\">482</a></sub></p>\n", "CommentCount": "0", "PostTypeId": "2", "LastEditDate": "2010-11-24T14:16:54.730"}, "4267423": {"CreationDate": "2010-11-24T13:45:22.023", "AcceptedAnswerId": "4267674", "Tags": "<c++><namespaces><definition><member>", "AnswerCount": "2", "OwnerUserId": "418110", "Body": "<pre><code>namespace M{\n   void f();\n   void M::f(){}\n}\n\nint main(){}\n</code></pre>\n<p>The above code gives error like so:</p>\n<blockquote>\n<p id=\"so_4267423_4267423_0\">\"ComeauTest.c\", line 3: error:\n  qualified name is not allowed in\n  namespace member\n            declaration\n       void M::f(){}</p>\n</blockquote>\n<p>And</p>\n<blockquote>\n<p id=\"so_4267423_4267423_1\">G++ also gives error.</p>\n</blockquote>\n<p>But</p>\n<blockquote>\n<p id=\"so_4267423_4267423_2\">VS2010 compiles fine.</p>\n</blockquote>\n<p>My questions are:</p>\n<p>a) What is the expected behavior?</p>\n<p>b) $7.3.1.2 does not seem to talk about this restriction. Which portion of the Standard guides the behavior of such code?</p>\n", "CommentCount": "1", "PostTypeId": "1", "ViewCount": "3891", "FavoriteCount": "1", "LastActivityDate": "2010-11-24T14:16:54.730", "Id": "4267423", "LastEditorUserId": "459640", "Title": "Namespace member definition", "Score": "6", "LastEditDate": "2010-11-24T13:49:51.350"}, "bq_ids": {"n3337": {"so_4267423_4267674_1": {"section_id": 3082, "quality": 0.9210526315789473, "length": 35}}}, "4267693": {"LastActivityDate": "2010-11-24T14:11:02.403", "ParentId": "4267423", "Id": "4267693", "Score": "0", "Body": "<p><code>7.3.1.2-2</code> talks specifically about this:</p>\n<p><code>Members of a named namespace can also be defined outside that namespace by explicit qualification (3.4.3.2) of the name being defined, provided that the entity being defined was already declared in the namespace and the definition appears after the point of declaration in a namespace that encloses the declaration\u2019s namespace.</code></p>\n<p><code>M::f</code> is considered a outside of namespace definition.</p>\n", "CommentCount": "0", "PostTypeId": "2", "OwnerUserId": "211659", "CreationDate": "2010-11-24T14:11:02.403"}});