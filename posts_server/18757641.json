post_cb({"bq_ids": {"n4140": {"so_18757641_18758653_0": {"length": 48, "quality": 0.8571428571428571, "section_id": 5485}}, "n3337": {"so_18757641_18758653_0": {"length": 52, "quality": 0.9285714285714286, "section_id": 5271}}, "n4659": {"so_18757641_18758653_0": {"length": 48, "quality": 0.8571428571428571, "section_id": 6920}}}, "18757735": {"Id": "18757735", "PostTypeId": "2", "Body": "<p>Have you tried adding the output operator to namespace std to help ADL?</p>\n<pre><code>namespace std{\nostream &amp;operator&lt;&lt;(ostream &amp;os,const Feature::tKeyboard &amp;k)\n{\n  os &lt;&lt;\" Keyboard &gt;\\n\";\n  for (Feature::cKeysIter i=k.begin() ; i!= k.end() ; i++)\n  {\n    os &lt;&lt; \"key name:\"&lt;&lt;(*i).first &lt;&lt; \" =\"&lt;&lt; (*i).second ;\n  }\n  return os;\n}\n}\n</code></pre>\n", "LastActivityDate": "2013-09-12T07:12:10.260", "CommentCount": "4", "CreationDate": "2013-09-12T07:12:10.260", "ParentId": "18757641", "Score": "-2", "OwnerUserId": "1790748"}, "18757641": {"ViewCount": "547", "Body": "<p>I am getting a very strange error even when the &lt;&lt; operator is overloaded for the below map, Feature.h is used by a class named Session.C and I am trying to print the values of the map tKeyboard using &lt;&lt;. I am new to all this and this being a very old code I am baffled about the issue, can you folks suggest some thing. \nAppreciate it thanks.</p>\n<p>Feature.h</p>\n<pre><code>class Feature {\n..\npublic:\n\n typedef map&lt;string,KeyStroke,std::less&lt;string&gt;,std::allocator&lt;std::pair&lt;const string, KeyStroke&gt; &gt; &gt; tKeyboard;\n                               // It is a map of keys\n                               // key is the name of the keystroke\n      typedef  tKeyboard::const_iterator cKeysIter;\n      typedef  tKeyboard::iterator KeysIter;\n..\n  private:\n  friend ostream &amp;operator&lt;&lt;(ostream &amp;os,const tKeyboard &amp;);\n..\n};\n</code></pre>\n<p>Feature.C</p>\n<pre><code>ostream &amp;operator&lt;&lt;(ostream &amp;os,const Feature::tKeyboard &amp;k)\n{\n    os &lt;&lt;\" Keyboard &gt;\\n\";\n    for (Feature::cKeysIter i=k.begin() ; i!= k.end() ; i++)\n    {\n        os &lt;&lt; \"key name:\"&lt;&lt;(*i).first &lt;&lt; \" =\"&lt;&lt; (*i).second ;\n    }\n    return os;\n}\n</code></pre>\n<p>Session.C</p>\n<pre><code> if (keyStrokeVal.empty()){\n       Traced(3)&lt;&lt;\"sendKey:Error, key \"&lt;&lt;keyname&lt;&lt;\" not defined or empty\\n\";\n       Traced(7)&lt;&lt;\"Printing Feature \"&lt;&lt;mCurrentFeature-&gt;get_mName() &lt;&lt;\" 's keyboard \\n\" &lt;&lt; mCurrentFeature-&gt;get_mKeyboard();\n       Traced(7)&lt;&lt;\"\\n\";\n       return(-1);\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code>Session.C:541: error: no match for \u00e2operator&lt;&lt;\u00e2 in \u00e2std::operator&lt;&lt; [with _Traits = std::char_traits&lt;char&gt;](((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;)((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;*)std::operator&lt;&lt; [with _CharT = char, _Traits = std::char_traits&lt;char&gt;, _Alloc = std::allocator&lt;char&gt;](((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;)((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;*)std::operator&lt;&lt; [with _Traits = std::char_traits&lt;char&gt;](((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;)((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;*)((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;*)std::operator&lt;&lt; [with _Traits = std::char_traits&lt;char&gt;](((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;)((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;*)((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;*)std::operator&lt;&lt; [with _Traits = std::char_traits&lt;char&gt;](((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;)((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;*)std::operator&lt;&lt; [with _Traits = std::char_traits&lt;char&gt;](((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;)((std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;*)((std::ostream*)LogMgr::traceRovr())-&gt;std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt; [with _CharT = char, _Traits = std::char_traits&lt;char&gt;](std::endl [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]))), ((const char*)\"Session.C\")))), ((const char*)\" \")))-&gt;std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt; [with _CharT = char, _Traits = std::char_traits&lt;char&gt;](541))), ((const char*)\" - \")))-&gt;std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt; [with _CharT = char, _Traits = std::char_traits&lt;char&gt;](out_time))), ((const char*)\"Printing Feature \")))), ((const std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt;&amp;)((const std::string*)((Session*)this)-&gt;Session::mCurrentFeature-&gt;Feature::get_mName()))))), ((const char*)\" \\'s keyboard \\012\")) &lt;&lt; ((Session*)this)-&gt;Session::mCurrentFeature-&gt;Feature::get_mKeyboard()\u00e2\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:108: note: candidates are: std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(std::basic_ostream&lt;_CharT, _Traits&gt;&amp; (*)(std::basic_ostream&lt;_CharT, _Traits&gt;&amp;)) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:117: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(std::basic_ios&lt;_CharT, _Traits&gt;&amp; (*)(std::basic_ios&lt;_CharT, _Traits&gt;&amp;)) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:127: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(std::ios_base&amp; (*)(std::ios_base&amp;)) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:165: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(long int) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:169: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(long unsigned int) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:173: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(bool) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/bits/ostream.tcc:91: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(short int) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:180: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(short unsigned int) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/bits/ostream.tcc:105: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(int) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:191: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(unsigned int) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:200: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(long long int) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:204: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(long long unsigned int) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:209: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(double) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:213: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(float) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:221: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(long double) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/ostream:225: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(const void*) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n/usr/lib/gcc/x86_64-redhat-linux/4.4.6/../../../../include/c++/4.4.6/bits/ostream.tcc:119: note:                 std::basic_ostream&lt;_CharT, _Traits&gt;&amp; std::basic_ostream&lt;_CharT, _Traits&gt;::operator&lt;&lt;(std::basic_streambuf&lt;_CharT, _Traits&gt;*) [with _CharT = char, _Traits = std::char_traits&lt;char&gt;]\n</code></pre>\n", "AcceptedAnswerId": "18758653", "Title": "Overloaded << operator for a map", "CreationDate": "2013-09-12T07:08:00.627", "Id": "18757641", "CommentCount": "11", "PostTypeId": "1", "LastActivityDate": "2013-09-12T08:18:21.743", "Score": "1", "OwnerUserId": "1663533", "Tags": "<c++><map><g++><overloading>", "AnswerCount": "3"}, "18758285": {"Id": "18758285", "PostTypeId": "2", "Body": "<p>A possible reason is that your <code>::operator&lt;&lt;</code> is not found because the global namespace isn't searched. And you're not allowed to add your <code>operator&lt;&lt;</code> to <code>::std::</code>. If this is the case, it can be fixed with a local <code>using ::operator&lt;&lt;</code>.</p>\n", "LastActivityDate": "2013-09-12T07:39:05.717", "CommentCount": "2", "CreationDate": "2013-09-12T07:39:05.717", "ParentId": "18757641", "Score": "0", "OwnerUserId": "15416"}, "18758653": {"Id": "18758653", "PostTypeId": "2", "Body": "<p>The problem is that if a <code>friend</code> declaration first declares (but does not define) a function, that function's name is not introduced into the surrounding scope. Quoting C++11, [namespace.memdef]\u00a73:</p>\n<blockquote>\n<p id=\"so_18757641_18758653_0\">If a <code>friend</code> declaration in a nonlocal class first declares a class or function the friend class or function is a member of the innermost enclosing namespace. <strong>The name of the friend is not found by unqualified lookup (3.4.1) or by qualified lookup (3.4.3) until a matching declaration is provided in that namespace scope</strong> (either before or after the class definition granting friendship). If a friend function is called, its name may be found by the name lookup that considers functions from namespaces and classes associated with the types of the function arguments (3.4.2).</p>\n</blockquote>\n<p>(Emphasis mine)</p>\n<p>The solution is therefore a separate out-of-class declaration:</p>\n<pre><code>std::ostream &amp;operator&lt;&lt;(std::ostream &amp;os,const Feature::tKeyboard &amp;);\n</code></pre>\n", "LastEditorUserId": "15416", "LastActivityDate": "2013-09-12T08:18:21.743", "Score": "1", "CreationDate": "2013-09-12T07:58:40.970", "ParentId": "18757641", "CommentCount": "5", "OwnerUserId": "1782465", "LastEditDate": "2013-09-12T08:18:21.743"}});