post_cb({"24865850": {"ParentId": "24865741", "CommentCount": "0", "Body": "<p>Simple answer is that <code>one</code> and <code>tow</code> are different classes with different sizes.</p>\n<p><code>tow</code> contains int which I assume is 4 bytes on your compiler. I think you understand that part.</p>\n<p>A static member is not present in every instance of a class, but it is a global variable shared between all classes. As such, it is not included in the class size. This is because <code>sizeof</code> is commonly used to allocate memory for an object, and there is no need to allocate memory for a variable which isn't in the class instance. This is why <code>one</code> isn't 4 bytes.</p>\n<p>The reason why it is 1 byte is because the C++ standard doesn't allow a class to have a size of 0 bytes, so the compiler has padded it up to a non-0 size.</p>\n", "OwnerUserId": "2068573", "PostTypeId": "2", "Id": "24865850", "Score": "1", "CreationDate": "2014-07-21T13:04:41.507", "LastActivityDate": "2014-07-21T13:04:41.507"}, "24865822": {"ParentId": "24865741", "PostTypeId": "2", "CommentCount": "0", "Body": "<p><code>one</code> has no non-static members, so an instance of it is empty. The static member is not contained in any object of that type, but exists independently of any objects. It has size 1, rather than zero, because C++ doesn't allow types to have size zero (in order to ensure that different objects have different addresses).</p>\n<p><code>two</code> does have a non-static member, so an instance has to be large enough to contain that member. In your case, its size is 4, the same as the size of its <code>int</code> member.</p>\n", "OwnerUserId": "204847", "LastEditorUserId": "204847", "LastEditDate": "2014-09-01T10:08:36.997", "Id": "24865822", "Score": "6", "CreationDate": "2014-07-21T13:03:21.313", "LastActivityDate": "2014-09-01T10:08:36.997"}, "24865832": {"ParentId": "24865741", "PostTypeId": "2", "CommentCount": "3", "Body": "<p>Static data members are not stored in the class itself and therefore will not contribute to the <code>sizeof</code> the class. We can see this by going to the draft C++ standard section 9.4.2 Static data members which says:</p>\n<blockquote>\n<p id=\"so_24865741_24865832_0\">A static data member is not part of the subobjects of a class.</p>\n</blockquote>\n<p>Class <code>one</code> has a size of <code>1</code> since complete objects shall have non-zero size, from section <code>9</code> <em>Classes</em>  which says:</p>\n<blockquote>\n<p id=\"so_24865741_24865832_1\">Complete objects and member subobjects of class type shall have nonzero size.<sup>106</sup></p>\n</blockquote>\n<p>Note, that <code>sizeof</code> is an operator not a function. </p>\n", "OwnerUserId": "1708801", "LastEditorUserId": "1708801", "LastEditDate": "2014-07-21T15:15:25.663", "Id": "24865832", "Score": "3", "CreationDate": "2014-07-21T13:03:48.877", "LastActivityDate": "2014-07-21T15:15:25.663"}, "24865835": {"ParentId": "24865741", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>In <code>one</code> the static variable <code>a</code> would not be considered in the calculation of the size of the class/object.</p>\n<p>In <code>two</code>, the <code>a</code> would be considered, in this case equivalent to the <code>sizeof(int)</code>.</p>\n<p>Notes:</p>\n<ul>\n<li><code>sizeof</code> is an operator, not a function.</li>\n<li>The size of a class may not be 0, hence, the size of <code>one</code> must be something, hence it has a size of 1.</li>\n</ul>\n<p>Useful reference on the <code>sizeof</code> operator; <a href=\"http://en.cppreference.com/w/cpp/language/sizeof\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/sizeof</a></p>\n<p>Note: original question the variable was <code>tow</code> not <code>two</code>.</p>\n", "OwnerUserId": "3747990", "LastEditorUserId": "3747990", "LastEditDate": "2014-07-21T14:15:19.930", "Id": "24865835", "Score": "1", "CreationDate": "2014-07-21T13:03:52.687", "LastActivityDate": "2014-07-21T14:15:19.930"}, "24865811": {"ParentId": "24865741", "CommentCount": "1", "Body": "<p>The first thing you should learn is that <code>sizeof</code> is not a function, it's an operator just like <code>+</code> or <code>||</code>.</p>\n<p>Then as for your question. Static member variables are not actually <em>in</em> the class the same way non-static member variables are, so a class with only static members will have zero size. But at the same time all objects needs to be addressable, and therefore have, which is why <code>sizeof</code> give you <code>1</code> for the first class.</p>\n", "OwnerUserId": "440558", "PostTypeId": "2", "Id": "24865811", "Score": "11", "CreationDate": "2014-07-21T13:02:54.413", "LastActivityDate": "2014-07-21T13:02:54.413"}, "bq_ids": {"n4140": {"so_24865741_24865832_1": {"section_id": 5848, "quality": 0.8888888888888888, "length": 8}, "so_24865741_24865832_0": {"section_id": 5906, "quality": 1.0, "length": 6}}, "n3337": {"so_24865741_24865832_1": {"section_id": 5618, "quality": 0.8888888888888888, "length": 8}, "so_24865741_24865832_0": {"section_id": 5678, "quality": 1.0, "length": 6}}, "n4659": {"so_24865741_24865832_1": {"section_id": 7327, "quality": 0.8888888888888888, "length": 8}, "so_24865741_24865832_0": {"section_id": 7388, "quality": 1.0, "length": 6}}}, "24865741": {"CommentCount": "1", "ViewCount": "283", "PostTypeId": "1", "LastEditorUserId": "1476941", "CreationDate": "2014-07-21T12:59:30.190", "LastActivityDate": "2014-09-01T10:08:36.997", "Title": "Can anyone explain to me why the sizeof function returns different values in below code?", "AcceptedAnswerId": "24865811", "LastEditDate": "2014-07-21T13:25:50.530", "Id": "24865741", "Score": "4", "Body": "<p>Can anyone explain me why the <code>sizeof</code> function returns different values in the code below?</p>\n<pre><code>//static member\nclass one\n{\n  public :\n  static const int a = 10;\n};\n//non static member\nclass two\n{\n  public :\n  int a;\n};\nint main()\n{\n  cout &lt;&lt; sizeof(one);       //print 1 to lcd\n  cout &lt;&lt; sizeof(two);       //print 4 to lcd,differ from size of one class\n}\n</code></pre>\n", "Tags": "<c++><static><const>", "OwnerUserId": "3576334", "AnswerCount": "5"}});