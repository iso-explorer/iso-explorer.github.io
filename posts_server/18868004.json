post_cb({"18868004": {"CommentCount": "4", "ViewCount": "491", "PostTypeId": "1", "LastEditorUserId": "2583876", "CreationDate": "2013-09-18T09:04:43.723", "LastActivityDate": "2013-09-18T09:30:16.180", "Title": "C++ object reference", "AcceptedAnswerId": "18868236", "LastEditDate": "2013-09-18T09:30:16.180", "Id": "18868004", "Score": "0", "Body": "<p>I have this piece of code:</p>\n<pre><code>Wmmbid02 wmmbid02;\nwmmbid02.Omplir(this);\nreturn wmmbid02;\n</code></pre>\n<p>and Wmmbid02.h:</p>\n<pre><code>class Wmmbid02: public Idoc {\n\npublic:\n    Wmmbid02();\n    //void EscriureFitxer();\n    void Omplir(Edi);\n\nprivate:\n    Segment crearSegment(string a[], string b[]);\n    Info crearInfo(string);\n    //virtual void LlegirFormat(string);\n};\n</code></pre>\n<p>Visual Studio, returns and error because can't convert 'Edi *const ' to 'Edi'.</p>\n<p>What is the correct answer???</p>\n<p>Thanks</p>\n", "Tags": "<c++><object>", "OwnerUserId": "2790768", "AnswerCount": "3"}, "18868089": {"ParentId": "18868004", "CommentCount": "0", "Body": "<p>Without seeing the definition for <code>this</code> I'd say you'll probably want to replace <code>void Omplir(Edi);</code> by <code>void Omplir(Edi* const);</code> and adapt the definition of <code>Omplir</code> accordingly.</p>\n", "OwnerUserId": "1945549", "PostTypeId": "2", "Id": "18868089", "Score": "0", "CreationDate": "2013-09-18T09:09:14.913", "LastActivityDate": "2013-09-18T09:09:14.913"}, "18868256": {"ParentId": "18868004", "CommentCount": "0", "Body": "<p>Either define the parameter <code>void Omplir(Edi)</code> to a pointer:</p>\n<pre><code>void Omplir(Edi*);\n</code></pre>\n<p>Or pass <code>this</code> as reference:</p>\n<pre><code>Wmmbid02 wmmbid02;\nwmmbid02.Omplir( *this );\nreturn wmmbid02;\n</code></pre>\n<p>But it really depends on what you exactly want to do. Usually i prefer passing by references whenever possible.</p>\n", "OwnerUserId": "880009", "PostTypeId": "2", "Id": "18868256", "Score": "0", "CreationDate": "2013-09-18T09:16:08.190", "LastActivityDate": "2013-09-18T09:16:08.190"}, "18868236": {"ParentId": "18868004", "CommentCount": "0", "Body": "<p>Your declaration of <code>Omplir</code></p>\n<pre><code>void Omplir(Edi);\n</code></pre>\n<p>says that this method take an <code>Edi</code> object.</p>\n<p>In C++ <code>this</code> is a pointer. You should use it inside a class.</p>\n<p>If you want it to work, you should dereference it:</p>\n<pre><code>wmmbid02.Omplir(*this);\n</code></pre>\n<hr>\n<p>The standard says about the <code>this</code> pointer:</p>\n<blockquote>\n<p id=\"so_18868004_18868236_0\"><strong>9.3.2 The this pointer [class.this]</strong></p>\n<p id=\"so_18868004_18868236_1\">In the body of a non-static (9.3) member function, the keyword this is a prvalue expression whose value is the address of the object for which the function is called. <strong>The type of this in a member function of a class X is X*. If the member function is declared const, the type of this is const X*</strong>, <strong>[...]</strong></p>\n</blockquote>\n<p>So in your case, you seem to be in a member function of the class <code>Edi</code>, <code>this</code> should be of the type <code>Edi*</code>.</p>\n</hr>", "OwnerUserId": "1394283", "PostTypeId": "2", "Id": "18868236", "Score": "1", "CreationDate": "2013-09-18T09:14:58.390", "LastActivityDate": "2013-09-18T09:14:58.390"}, "bq_ids": {"n4140": {"so_18868004_18868236_1": {"section_id": 5895, "quality": 0.9583333333333334, "length": 23}}, "n3337": {"so_18868004_18868236_1": {"section_id": 5666, "quality": 0.9583333333333334, "length": 23}}, "n4659": {"so_18868004_18868236_1": {"section_id": 7378, "quality": 0.9583333333333334, "length": 23}}}});