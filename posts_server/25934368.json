post_cb({"bq_ids": {"n4140": {"so_25934368_25934438_1": {"length": 14, "quality": 0.7777777777777778, "section_id": 5968}}, "n3337": {"so_25934368_25934438_1": {"length": 15, "quality": 0.8333333333333334, "section_id": 5737}}, "n4659": {"so_25934368_25934438_1": {"length": 14, "quality": 0.7777777777777778, "section_id": 7466}}}, "25934438": {"Id": "25934438", "PostTypeId": "2", "Body": "<blockquote>\n<p id=\"so_25934368_25934438_0\">Is it valid c++11 code?</p>\n</blockquote>\n<p>No. Only lambdas in block scope can have capture lists:</p>\n<blockquote>\n<p id=\"so_25934368_25934438_1\">C++11 5.1.2/9 A <em>lambda-expression</em> whose smallest enclosing scope is a block scope is a <em>local lambda expression</em>; any other <em>lambda-expression</em> shall not have a <em>capture-list</em> in its <em>lambda-introducer</em>.</p>\n</blockquote>\n<p>So it seems this is a GCC extension. (As noted in the comments, this is an <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#1632\">open issue</a>, so might well become standard one day.)</p>\n<blockquote>\n<p id=\"so_25934368_25934438_2\">why I have to use <code>this-&gt;</code> while referring to member a?</p>\n</blockquote>\n<p>You don't, at least with the version of GCC I'm using: <a href=\"http://ideone.com/K857VC\">http://ideone.com/K857VC</a>.</p>\n", "LastEditorUserId": "204847", "LastActivityDate": "2014-09-19T13:19:28.540", "Score": "16", "CreationDate": "2014-09-19T12:55:27.580", "ParentId": "25934368", "CommentCount": "5", "OwnerUserId": "204847", "LastEditDate": "2014-09-19T13:19:28.540"}, "25934368": {"ViewCount": "670", "Body": "<p>Can inline member initialization lambda capture and use <code>this</code> pointer?</p>\n<pre><code>struct A{\n  int a = 42;\n  int b = [this](){\n    return this-&gt;a * 4;\n  }();\n};\n</code></pre>\n<p>Is it valid C++11 code (according to specification) or is it just a GCC extension? </p>\n<p>If it is valid, why do I have to use <code>this-&gt;</code> when referring to member <code>a</code>?</p>\n", "AcceptedAnswerId": "25934438", "Title": "Can inline lambda initializer capture 'this' pointer?", "CreationDate": "2014-09-19T12:51:30.213", "Id": "25934368", "CommentCount": "3", "FavoriteCount": "1", "PostTypeId": "1", "LastEditDate": "2014-09-19T16:53:16.057", "LastEditorUserId": "209139", "LastActivityDate": "2014-09-19T16:53:16.057", "Score": "20", "OwnerUserId": "3791773", "Tags": "<c++><c++11><lambda>", "AnswerCount": "1"}});