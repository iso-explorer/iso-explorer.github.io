post_cb({"bq_ids": {"n4140": {"so_33267529_33267641_1": {"length": 7, "quality": 0.875, "section_id": 7070}, "so_33267529_33267641_3": {"length": 15, "quality": 1.0, "section_id": 7070}}, "n3337": {"so_33267529_33267641_1": {"length": 7, "quality": 0.875, "section_id": 6814}, "so_33267529_33267641_3": {"length": 15, "quality": 1.0, "section_id": 6814}}, "n4659": {"so_33267529_33267641_3": {"length": 15, "quality": 1.0, "section_id": 8568}}}, "33267641": {"Id": "33267641", "PostTypeId": "2", "Body": "<p>Your declarations violate the following rule</p>\n<blockquote>\n<p id=\"so_33267529_33267641_0\">3.3.7 Class scope [basic.scope.class] </p>\n<p id=\"so_33267529_33267641_1\">1 The following rules describe the scope of names declared in classes.</p>\n<p id=\"so_33267529_33267641_2\">... </p>\n<p id=\"so_33267529_33267641_3\">2) A name N used in a\n  class S shall refer to the same declaration in its context and when\n  re-evaluated in the completed scope of S. No diagnostic is required\n  for a violation of this rule.</p>\n</blockquote>\n<p>At the point of vector declaration name <code>rv</code> refers to a type <code>struct rv</code>. But when reevaluated in the scope of complete class <code>rvs</code> it, refers to class member <code>rvs::rv</code>. Such inconsistency is an error in C++.</p>\n<p>A similar error is illustrated by an example in the standard</p>\n<pre><code>enum { i = 1 };\n\nclass X {\n  char v[i]; // error: i refers to ::i\n             // but when reevaluated is X::i\n  ...\n  enum { i = 2 };\n};\n</code></pre>\n<p>As @Ben Voigt stated in the comment, if you explicitly resolve the conflict between <code>rv</code> as <code>struct rv</code> and <code>rv</code> as <code>rvs::rv</code>, the error will go away. You can do it by either using elaborate type specifier <code>struct rv</code> or by specifying scope explicitly <code>::rv</code>.</p>\n<p>Note that this is one of those errors which are not guaranteed/required to be caught by the compiler.</p>\n", "LastEditorUserId": "187690", "LastActivityDate": "2015-10-21T19:53:28.740", "Score": "3", "CreationDate": "2015-10-21T19:28:39.700", "ParentId": "33267529", "CommentCount": "2", "OwnerUserId": "187690", "LastEditDate": "2015-10-21T19:53:28.740"}, "33267616": {"Id": "33267616", "PostTypeId": "2", "Body": "<p>You have a type called <code>rv</code> and a member variable called <code>rv</code>. How is the compiler supposed to know which one you mean when you write <code>rv</code>?</p>\n<p>Strictly this is invalid code, but Visual Studio seems to be willing to try to let you shoot yourself in the foot.</p>\n", "LastEditorUserId": "212870", "LastActivityDate": "2015-10-21T19:30:11.017", "Score": "0", "CreationDate": "2015-10-21T19:27:20.523", "ParentId": "33267529", "CommentCount": "2", "OwnerUserId": "212870", "LastEditDate": "2015-10-21T19:30:11.017"}, "33267529": {"ViewCount": "62", "Body": "<p>I am doing a project for my class where the instructor had given us some code snippets and we were asked to modify it. The code compiles correctly in my class computer in Visual Studio but when I try to compile it with gcc it gives me an error.\nThe error I am getting is:</p>\n<pre><code>||=== Build: Debug in Project (compiler: GNU GCC Compiler) ===|\n/home/nitin/Read.h|45|error: declaration of \u2018std::vector&lt;rv&gt; rvs::rv\u2019 [-fpermissive]|\n/home/nitin/Read.h|35|error: changes meaning of \u2018rv\u2019 from \u2018struct rv\u2019 [-fpermissive]|\n||=== Build failed: 2 error(s), 0 warning(s) (0 minute(s), 0 second(s)) ===|\n</code></pre>\n<p>The code from the error is snippet for this is: </p>\n<pre><code>struct rv\n{\n    double val, prob;\n    rv(const double v, const double p): val(v), prob(p) {};\n};\n\n\nstruct rvs\n{\n    int row_n, col_n;\n    vector&lt;rv&gt; rv;\n    rvs(const int r=-2, const int c=-2): row_n(r), col_n(c) {};\n};\n</code></pre>\n<p>Could you please let me know what the problem could be?</p>\n", "AcceptedAnswerId": "33267641", "Title": "Error while compiling in gcc", "CreationDate": "2015-10-21T19:21:50.610", "Id": "33267529", "CommentCount": "1", "FavoriteCount": "1", "PostTypeId": "1", "LastEditDate": "2015-10-21T19:25:46.810", "LastEditorUserId": "4342498", "LastActivityDate": "2015-10-21T19:53:28.740", "Score": "0", "OwnerUserId": "4518186", "Tags": "<c++><visual-studio-2012><gcc>", "AnswerCount": "2"}});