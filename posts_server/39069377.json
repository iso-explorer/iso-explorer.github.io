post_cb({"bq_ids": {"n4140": {"so_39069377_39069417_0": {"length": 14, "quality": 0.7777777777777778, "section_id": 1566}}, "n3337": {"so_39069377_39069417_0": {"length": 14, "quality": 0.7777777777777778, "section_id": 1561}}}, "39069417": {"PostTypeId": "2", "Body": "<p>Because the memory used for a <code>std::string</code> has to be contiguous, there can't be a way to steal the memory of two independent strings.</p>\n<p>From C++14, section 21.4.1/4:</p>\n<blockquote>\n<p id=\"so_39069377_39069417_0\">The char-like objects in a basic_string object shall be stored contiguously. That is, for any <code>basic_string</code>\n  object s, the identity <code>&amp;*(s.begin() + n) == &amp;*s.begin() + n</code> shall hold for all values of n such that 0\n  &lt;= n &lt; s.size().</p>\n</blockquote>\n", "LastActivityDate": "2016-08-21T22:48:44.570", "LastEditorUserId": "951890", "Id": "39069417", "CommentCount": "7", "CreationDate": "2016-08-21T22:30:49.827", "ParentId": "39069377", "Score": "1", "OwnerUserId": "951890", "LastEditDate": "2016-08-21T22:48:44.570"}, "39069377": {"ViewCount": "31", "Body": "<pre><code>int main() {\n   std::string str;\n   str.reserve(9999);\n\n   {\n      std::string s1(\"aaa\");\n      std::string s2(\"bbb\");\n      // can both strings s1, s2 be moved to str?\n      // for example str should be \"aaabbb\"\n    }\n\n}\n</code></pre>\n<p>My question: is it possible to steal the memory of <code>s1</code> and <code>s2</code> to form a concatenated string of <code>s1</code> and <code>s2</code> (since it already has enough space for both)?</p>\n", "AcceptedAnswerId": "39069417", "Title": "Move strings into another string with enough capacity", "CreationDate": "2016-08-21T22:24:47.030", "Id": "39069377", "CommentCount": "5", "LastEditDate": "2016-08-22T00:32:00.827", "PostTypeId": "1", "LastEditorUserId": "3563841", "LastActivityDate": "2016-08-22T00:32:00.827", "Score": "1", "OwnerUserId": "4558644", "Tags": "<c++11>", "AnswerCount": "1"}});