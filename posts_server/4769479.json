post_cb({"bq_ids": {"n4140": {"so_4769479_4769571_1": {"length": 16, "quality": 1.0, "section_id": 5404}, "so_4769479_4769571_0": {"length": 6, "quality": 1.0, "section_id": 5404}}, "n3337": {"so_4769479_4769571_1": {"length": 16, "quality": 1.0, "section_id": 5199}, "so_4769479_4769571_0": {"length": 6, "quality": 1.0, "section_id": 5199}}, "n4659": {"so_4769479_4769571_1": {"length": 16, "quality": 1.0, "section_id": 6853}, "so_4769479_4769571_0": {"length": 6, "quality": 1.0, "section_id": 6853}}}, "4769479": {"ViewCount": "16312", "Body": "<p>I'm getting a compiler error when I try to inline a method of one of my classes. It works when I take away the \"inline\" keyword. </p>\n<p>Here's a simplified example:</p>\n<p><strong>main.cpp:</strong></p>\n<pre><code>#include \"my_class.h\"\n\nint main() {\n  MyClass c;\n  c.TestMethod();\n\n  return 0;\n}\n</code></pre>\n<p><strong>my_class.h:</strong></p>\n<pre><code>class MyClass {\n public:\n  void TestMethod();\n};\n</code></pre>\n<p><strong>my_class.cpp:</strong></p>\n<pre><code>#include \"my_class.h\"\n\ninline void MyClass::TestMethod() {\n}\n</code></pre>\n<p>I try compiling with:</p>\n<pre><code>g++ main.cpp my_class.cpp\n</code></pre>\n<p>I get the error:</p>\n<pre><code>main.cpp:(.text+0xd): undefined reference to `MyClass::TestMethod()'\n</code></pre>\n<p>Everything is fine if I take away the \"inline\". What's causing this problem? (and how should I inline class methods? Is it possible?)</p>\n<p>Thanks.</p>\n", "AcceptedAnswerId": "4769508", "Title": "C++ inlining class methods causes undefined reference", "CreationDate": "2011-01-22T17:48:46.937", "Id": "4769479", "CommentCount": "0", "FavoriteCount": "11", "PostTypeId": "1", "LastActivityDate": "2012-12-20T05:09:46.390", "Score": "38", "OwnerUserId": "514827", "Tags": "<c++><inline>", "AnswerCount": "3"}, "4769571": {"Id": "4769571", "PostTypeId": "2", "Body": "<p>7.1.2/4 of the Standard:</p>\n<blockquote>\n<p id=\"so_4769479_4769571_0\">An inline function shall be defined in\n  every translation unit in which it is\n  used...</p>\n</blockquote>\n<p>You use TestMethod in main.cpp, but it's not defined there.</p>\n<blockquote>\n<p id=\"so_4769479_4769571_1\">... If a function with external linkage is\n  declared inline in one translation\n  unit, it shall be declared inline in\n  all translation units in which it\n  appears; no diagnostic is required.</p>\n</blockquote>\n<p>You define (and hence also declare) TestMethod inline in my_class.cpp, but not in main.cpp.</p>\n<p>The fix in this case is to move the function definition to the header file, either like this:</p>\n<pre><code>class MyClass {\n public:\n  void TestMethod() {}\n};\n</code></pre>\n<p>or like this:</p>\n<pre><code>class MyClass {\n public:\n  inline void TestMethod();\n};\n\ninline void MyClass::TestMethod() {}\n</code></pre>\n", "LastEditorUserId": "13005", "LastActivityDate": "2011-01-22T18:12:20.960", "Score": "15", "CreationDate": "2011-01-22T18:04:00.587", "ParentId": "4769479", "CommentCount": "0", "OwnerUserId": "13005", "LastEditDate": "2011-01-22T18:12:20.960"}, "4769508": {"Id": "4769508", "PostTypeId": "2", "Body": "<p>The body of an inline function needs to be in the header so that the compiler can actually substitute it wherever required. See this: <a href=\"http://www.parashift.com/c++-faq-lite/inline-functions.html#faq-9.7\" rel=\"noreferrer\">How do you tell the compiler to make a member function inline?</a></p>\n", "LastActivityDate": "2011-01-22T17:52:21.250", "CommentCount": "1", "CreationDate": "2011-01-22T17:52:21.250", "ParentId": "4769479", "Score": "32", "OwnerUserId": "381345"}, "4769495": {"Id": "4769495", "PostTypeId": "2", "Body": "<p>You've defined it as not inlined in the header file, while in the cpp file you're trying to define it as inline.  That's a conflicted definition and it won't be able to find one from the other.  Your header is where you really place the inline keyword.</p>\n<p>However, I'd remove the inline keyword as it's really more of a suggestion to the compiler anyways.  You really only need it when there's a free-floating function in the header and you don't want multiple definitions popping up in your code base.</p>\n", "LastActivityDate": "2011-01-22T17:50:45.067", "CommentCount": "2", "CreationDate": "2011-01-22T17:50:45.067", "ParentId": "4769479", "Score": "3", "OwnerUserId": "178060"}});