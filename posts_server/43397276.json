post_cb({"43397342": {"ParentId": "43397276", "CommentCount": "0", "Body": "<p>It's \"legal\" only because it's an extension of gcc and clang. If you compile with <code>-pedantic</code> then you'll see that what you're doing is not working with the ISO C++ Standard</p>\n", "OwnerUserId": "4709300", "PostTypeId": "2", "Id": "43397342", "Score": "2", "CreationDate": "2017-04-13T16:25:41.120", "LastActivityDate": "2017-04-13T16:25:41.120"}, "43397453": {"ParentId": "43397276", "CommentCount": "0", "Body": "<blockquote>\n<p id=\"so_43397276_43397453_0\">Is it legal to declare an array of size 0 as per the C++17 standard?</p>\n</blockquote>\n<p>No, nothing has changed in C++17 to allow zero sized arrays.  Per the C++17 draft <a href=\"http://eel.is/c++draft/dcl.array#1\" rel=\"noreferrer\">[dcl.array]/1</a></p>\n<blockquote>\n<p id=\"so_43397276_43397453_1\">In a declaration T D where D has the form</p>\n<p id=\"so_43397276_43397453_2\">D1 [ constant-expression<sub>opt</sub>] attribute-specifier-seq<sub>opt</sub></p>\n<p id=\"so_43397276_43397453_3\">[...]If the constant-expression is present, it shall be a converted constant expression of type std\u200b::\u200bsize_\u00adt and its <strong>value shall be greater than zero</strong>.[...]</p>\n</blockquote>\n<p><sup>emphasis mine</sup></p>\n<p>What you are seeing here is a non standard compiler extension that is allowing you to compile the code.</p>\n<p>You can disable these extensions by using the <code>-pedantic</code> compiler flag.</p>\n", "OwnerUserId": "4342498", "PostTypeId": "2", "Id": "43397453", "Score": "9", "CreationDate": "2017-04-13T16:33:19.780", "LastActivityDate": "2017-04-13T16:33:19.780"}, "bq_ids": {"n4140": {"so_43397276_43397453_3": {"section_id": 3228, "quality": 0.9166666666666666, "length": 11}, "so_43397276_43397276_0": {"section_id": 3228, "quality": 0.625, "length": 5}}, "n3337": {"so_43397276_43397453_3": {"section_id": 3101, "quality": 0.75, "length": 9}, "so_43397276_43397276_0": {"section_id": 3101, "quality": 0.625, "length": 5}}, "n4659": {"so_43397276_43397453_3": {"section_id": 3985, "quality": 1.0, "length": 12}, "so_43397276_43397276_0": {"section_id": 3985, "quality": 0.625, "length": 5}}}, "43397276": {"CommentCount": "2", "AcceptedAnswerId": "43397453", "PostTypeId": "1", "LastEditorUserId": "560648", "CreationDate": "2017-04-13T16:21:15.583", "LastActivityDate": "2017-05-04T14:47:17.763", "LastEditDate": "2017-05-04T14:47:17.763", "ViewCount": "174", "FavoriteCount": "2", "Title": "Is it legal in C++17 to declare an array of size 0?", "Id": "43397276", "Score": "1", "Body": "<pre><code>int main()\n{\n    int n[0];   \n}\n</code></pre>\n<p>The code above is ok with Clang 4.0.</p>\n<p>However, <a href=\"http://en.cppreference.com/w/cpp/language/array\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/language/array</a> says:</p>\n<blockquote>\n<p id=\"so_43397276_43397276_0\">The size of an array must be <strong>a value greater than zero.</strong></p>\n</blockquote>\n<p>Is it legal to declare an array of size 0 as per the C++17 standard?</p>\n", "Tags": "<c++><arrays><standards><c++1z>", "OwnerUserId": "508343", "AnswerCount": "2"}});