post_cb({"bq_ids": {"n4140": {"so_46412754_46412864_1": {"length": 5, "quality": 1.0, "section_id": 7114}, "so_46412754_46412864_0": {"length": 7, "quality": 1.0, "section_id": 7114}}, "n3337": {"so_46412754_46412864_1": {"length": 5, "quality": 1.0, "section_id": 6858}, "so_46412754_46412864_0": {"length": 4, "quality": 0.5714285714285714, "section_id": 574}}, "n4659": {"so_46412754_46412864_1": {"length": 5, "quality": 1.0, "section_id": 8615}, "so_46412754_46412864_0": {"length": 7, "quality": 1.0, "section_id": 8615}}}, "46412864": {"Id": "46412864", "PostTypeId": "2", "Body": "<p>Clang-5 is very much correct. Over at <a href=\"https://timsong-cpp.github.io/cppwp/n4659/class.qual#2\" rel=\"noreferrer\">[class.qual]/2</a>:</p>\n<blockquote>\n<p id=\"so_46412754_46412864_0\">In a lookup in which function names are not ignored and the\n  <strong>nested-name-specifier</strong> <strong>nominates a class C</strong>:</p>\n<ul>\n<li>if the name specified after the nested-name-specifier, <strong>when looked up in C, is the injected-class-name of C</strong> </li>\n<li>...</li>\n</ul>\n<p id=\"so_46412754_46412864_1\"><strong>the name is instead considered to name the constructor of class C</strong>.</p>\n</blockquote>\n<p>As for the other part of the question. Yes, it's definitely worth it to submit bug reports. Standard compliance (or at least more diagnostics towards it) are to be encouraged IMO.</p>\n", "LastEditorUserId": "4131059", "LastActivityDate": "2017-09-25T19:41:19.163", "Score": "11", "CreationDate": "2017-09-25T19:34:05.107", "ParentId": "46412754", "CommentCount": "0", "OwnerUserId": "817643", "LastEditDate": "2017-09-25T19:41:19.163"}, "46412754": {"ViewCount": "192", "Body": "<p>Recently, upon updating a library to Clang 5.x, I noticed a bug in my code that had compiled previously on Clang 4.x, GCC 5.x-6.x, and MSVC 2015 and 2017.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;typeinfo&gt;\n#include &lt;vector&gt;\n\nint main()\n{\n    using a = typename std::vector&lt;int&gt;::vector;\n    std::cout &lt;&lt; typeid(a).name() &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n<p>Clang-5.x produces the following warning message, while all other compilers silently compile the above code:</p>\n<pre><code>a.cpp:7:42: warning: ISO C++ specifies that qualified reference to 'vector' is a\n  constructor name rather than a type in this context, despite preceding\n  'typename' keyword [-Winjected-class-name]\nusing a = typename std::vector&lt;int&gt;::vector;\n</code></pre>\n<p>Which compiler is buggy? Am I correct in assuming that Clang5.x has the correct behavior here, and all the other compilers (and versions) are incorrect. If so, is this worth submitting bug reports to MSVC and GCC?</p>\n", "AcceptedAnswerId": "46412864", "Title": "Class Name Injection and Constructors", "CreationDate": "2017-09-25T19:27:03.110", "Id": "46412754", "CommentCount": "1", "FavoriteCount": "0", "PostTypeId": "1", "LastEditDate": "2017-09-26T00:03:14.103", "LastEditorUserId": "4131059", "LastActivityDate": "2017-09-26T00:03:14.103", "Score": "12", "OwnerUserId": "4131059", "Tags": "<c++><clang><language-lawyer>", "AnswerCount": "1"}});