post_cb({"32851509": {"ParentId": "19808749", "CommentCount": "0", "Body": "<p>Better will be</p>\n<pre><code>void doStuff( std::string const &amp; s1, std::string const &amp; s2 = std::string());\n</code></pre>\n<p>To avoid extra temporary <code>const char *</code>. (Your variant has 2 temporaries: a <code>const char *</code> and empty <code>std::string</code>).</p>\n<p>Or, using user-defined literals (C++14):</p>\n<pre><code>void doStuff( std::string const &amp; s1, std::string const &amp; s2 = \"\"s);\n</code></pre>\n", "OwnerUserId": "1555823", "PostTypeId": "2", "Id": "32851509", "Score": "0", "CreationDate": "2015-09-29T18:43:22.027", "LastActivityDate": "2015-09-29T18:43:22.027"}, "bq_ids": {"n4140": {"so_19808749_19808808_0": {"section_id": 382, "quality": 0.9230769230769231, "length": 12}}, "n3337": {"so_19808749_19808808_0": {"section_id": 373, "quality": 0.9230769230769231, "length": 12}}, "n4659": {"so_19808749_19808808_0": {"section_id": 397, "quality": 0.9230769230769231, "length": 12}}}, "19808808": {"ParentId": "19808749", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Yes this is legal. <code>const</code> will ensure temporary be lasting till function <code>doStuff</code> finishes.</p>\n<p>\u00a7 12.2.5</p>\n<blockquote>\n<p id=\"so_19808749_19808808_0\">A temporary bound to a reference parameter in a function call (5.2.2) persists until the completion of the full-expression containing the call.</p>\n</blockquote>\n", "OwnerUserId": "951757", "LastEditorUserId": "951757", "LastEditDate": "2013-11-06T10:02:11.307", "Id": "19808808", "Score": "8", "CreationDate": "2013-11-06T09:53:20.913", "LastActivityDate": "2013-11-06T10:02:11.307"}, "19808749": {"CommentCount": "0", "ViewCount": "1556", "CreationDate": "2013-11-06T09:50:39.370", "LastActivityDate": "2015-09-29T18:43:22.027", "Title": "Can I pass a default value to a reference for a std::string ?", "AcceptedAnswerId": "19808808", "PostTypeId": "1", "Id": "19808749", "Score": "4", "Body": "<pre><code>void doStuff( std::string const &amp; s1, std::string const &amp; s2=\"\");\n</code></pre>\n<p>I was wondering if this code is legal in C++, for the s2 string.\nI want to have a default argument, but passing a reference and having an empty string as default. Will a temporary be created, and the reference will point to that temporary, or is it illegal C++?</p>\n", "Tags": "<c++>", "OwnerUserId": "78374", "AnswerCount": "3"}, "19809000": {"ParentId": "19808749", "CommentCount": "1", "Body": "<p>That to understand the semantic it is better to split the original statemenet .</p>\n<pre><code>void doStuff( std::string const &amp; s1, std::string const &amp; s2=\"\");\n</code></pre>\n<p>into two statements</p>\n<pre><code>void doStuff( std::string const &amp; s1, std::string const &amp; s2);\ndoStuff( SomeString, \"\" );\n</code></pre>\n<p>In the call of the function the second argument is implicitly converted to an object of type std::string:</p>\n<pre><code>s2 = std::string( \"\" );\n</code></pre>\n<p>So in fact in the body of the function you will have</p>\n<p>std::string const &amp;s2 = std::string( \"\" );</p>\n<p>That is constant reference s2 will refer temporary object std::string( \"\" ).</p>\n", "OwnerUserId": "2877241", "PostTypeId": "2", "Id": "19809000", "Score": "0", "CreationDate": "2013-11-06T10:00:40.413", "LastActivityDate": "2013-11-06T10:00:40.413"}});