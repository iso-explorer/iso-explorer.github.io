post_cb({"bq_ids": {"n4140": {"so_11918814_11918879_0": {"length": 31, "quality": 0.9393939393939394, "section_id": 175}}, "n3337": {"so_11918814_11918879_0": {"length": 33, "quality": 1.0, "section_id": 169}}, "n4659": {"so_11918814_11918879_0": {"length": 22, "quality": 0.6666666666666666, "section_id": 180}}}, "11918879": {"Id": "11918879", "PostTypeId": "2", "Body": "<p>The compiler is right in rejecting the code, even though other compilers will gladly accept it. In particular the quote would be within \u00a714.6[temp.res]/8</p>\n<blockquote>\n<p id=\"so_11918814_11918879_0\">[...] If no valid specialization can be generated for a template definition, and that template is not instantiated, the template definition is ill-formed, no diagnostic required. [...] If a type used in a non-dependent name is incomplete at the point at which a template is defined but is complete at the point at which an instantiation is done, and if the completeness of that type affects whether or not the program is well-formed or affects the semantics of the program, the program is ill-formed; [...]</p>\n</blockquote>\n<p>That is, the template is <em>ill-formed</em> although the compiler is not required to diagnose it.</p>\n", "LastActivityDate": "2012-08-12T00:46:58.547", "CommentCount": "2", "CreationDate": "2012-08-12T00:46:58.547", "ParentId": "11918814", "Score": "7", "OwnerUserId": "36565"}, "11918814": {"ViewCount": "97", "Body": "<p>Consider the following code:</p>\n<pre><code>struct Undefined;\n\ntemplate &lt;typename T&gt;\nvoid TemplateFunction()\n{\n  Undefined obj;\n}\n\nint main()\n{\n  return 0;\n}\n</code></pre>\n<p>I was always under the impression that template functions and template methods (or methods part of a template class) will only be checked for syntax (unless they are instantiated) in which case the above code <em>should</em> compile. </p>\n<p>Problem is, it does not compile with Xcode (ver: 4.3.2, using the LLVM compiler) and now I am wondering whether the above code is non-standard i.e. it should <em>not</em> compile on a compiler conforming to the C++03 standard? The error from Xcode is:</p>\n<blockquote>\n<p id=\"so_11918814_11918814_0\">Variable has incomplete type \"Undefined\"</p>\n</blockquote>\n<p>Note that in the original code, the undefined object is part of the static assertion.</p>\n", "AcceptedAnswerId": "11918879", "Title": "Is the compilation of this code standard behaviour?", "CreationDate": "2012-08-12T00:30:39.260", "Id": "11918814", "CommentCount": "3", "PostTypeId": "1", "LastActivityDate": "2012-08-12T00:46:58.547", "Score": "6", "OwnerUserId": "368599", "Tags": "<c++><templates>", "AnswerCount": "1"}});