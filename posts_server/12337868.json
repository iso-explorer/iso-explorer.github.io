post_cb({"12337868": {"CommentCount": "0", "ViewCount": "145", "CreationDate": "2012-09-09T09:10:24.690", "LastActivityDate": "2012-09-09T09:31:41.810", "Title": "throw-expressions in ternary operator", "PostTypeId": "1", "Id": "12337868", "Score": "0", "Body": "<p>According to ISO/IEC 14882:2011, we can't use throw-expressions both in second and third operands of ternary operator:</p>\n<blockquote>\n<p id=\"so_12337868_12337868_0\">5.16 Conditional operator [expr.cond]</p>\n<p id=\"so_12337868_12337868_1\">2 If either the second or the third operand has type void, then the\n  lvalue-to-rvalue (4.1), array-to-pointer (4.2), and\n  function-to-pointer (4.3) standard conversions are performed on the\n  second and third operands, and one of the following shall hold: \u2014 The\n  second or the third operand (but not both) is a throw-expression\n  (15.1); the result is of the type of the other and is a prvalue. \u2014\n  Both the second and the third operands have type void; the result is\n  of type void and is a prvalue. [ Note: This includes the case where\n  both operands are throw-expressions. \u2014end note ]</p>\n</blockquote>\n<p>Why both Comeau compiler and gcc allows this code?</p>\n<pre><code>int main()\n{\n   true ? throw 0 : throw 1;\n}\n</code></pre>\n", "Tags": "<c++>", "OwnerUserId": "1608835", "AnswerCount": "1"}, "12337889": {"ParentId": "12337868", "CommentCount": "2", "Body": "<p>Read carefully, the standard doesn't prohibit it, it even refers to it in the note.</p>\n", "OwnerUserId": "817643", "PostTypeId": "2", "Id": "12337889", "Score": "2", "CreationDate": "2012-09-09T09:13:34.423", "LastActivityDate": "2012-09-09T09:13:34.423"}, "bq_ids": {"n4140": {"so_12337868_12337868_1": {"section_id": 6168, "quality": 0.6862745098039216, "length": 35}}, "n3337": {"so_12337868_12337868_1": {"section_id": 5929, "quality": 0.8823529411764706, "length": 45}}, "n4659": {"so_12337868_12337868_1": {"section_id": 7665, "quality": 0.6862745098039216, "length": 35}}}});