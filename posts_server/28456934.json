post_cb({"28457001": {"ParentId": "28456934", "CommentCount": "2", "Body": "<p>If we use <a href=\"http://en.cppreference.com/w/cpp/container/vector/erase\">this reference page for erase()</a> :</p>\n<blockquote>\n<p id=\"so_28456934_28457001_0\">The iterator pos must be valid and dereferenceable. Thus the end() iterator (which is valid, but is not dereferencable) cannot be used as a value for pos. </p>\n</blockquote>\n<p>So, no - it is not valid.</p>\n", "OwnerUserId": "476681", "PostTypeId": "2", "Id": "28457001", "Score": "5", "CreationDate": "2015-02-11T14:39:00.157", "LastActivityDate": "2015-02-11T14:39:00.157"}, "28456934": {"CommentCount": "0", "ViewCount": "89", "CreationDate": "2015-02-11T14:35:57.730", "LastActivityDate": "2015-02-11T14:44:05.307", "Title": "vec.erase(vec.end()); Legal?", "AcceptedAnswerId": "28457111", "PostTypeId": "1", "Id": "28456934", "Score": "2", "Body": "<p>Can sequential containers erase end?</p>\n<p>In the standard it says:</p>\n<pre><code>a.erase(q) \nRequires: For vector and deque, T shall be\nMoveAssignable.\nEffects: Erases the element pointed to by q\n</code></pre>\n<p>It is not clear if <code>a.erase(a.end())</code> is a no-op or UB for sequential containers. Ideas?</p>\n", "Tags": "<c++><stl><erase>", "OwnerUserId": "469935", "AnswerCount": "3"}, "28456986": {"ParentId": "28456934", "CommentCount": "0", "Body": "<p>From cplusplus.com: \"An invalid position or range causes undefined behavior.\"</p>\n", "OwnerUserId": "4342498", "PostTypeId": "2", "Id": "28456986", "Score": "0", "CreationDate": "2015-02-11T14:38:24.713", "LastActivityDate": "2015-02-11T14:38:24.713"}, "bq_ids": {"n4140": {"so_28456934_28457111_0": {"section_id": 722, "quality": 0.8823529411764706, "length": 15}}, "n3337": {"so_28456934_28457111_0": {"section_id": 711, "quality": 0.8823529411764706, "length": 15}}, "n4659": {"so_28456934_28457111_0": {"section_id": 753, "quality": 0.8235294117647058, "length": 14}}}, "28457111": {"ParentId": "28456934", "CommentCount": "1", "Body": "<p>\u00a723.2.3 [sequence.reqmts]/p3 (emphasis mine):</p>\n<blockquote>\n<p id=\"so_28456934_28457111_0\">In Tables 100 and 101, <code>X</code> denotes a sequence container class, a\n  denotes <code>a</code> value of <code>X</code> containing elements of type <code>T</code>, [...], <strong><code>q</code>\n  denotes a valid dereferenceable const iterator to <code>a</code></strong>.</p>\n</blockquote>\n<p>Table 100 is the sequence container requirements table containing <code>a.erase(q)</code>.</p>\n<p>In other words, <code>a.erase(a.end())</code> is UB.</p>\n", "OwnerUserId": "2756719", "PostTypeId": "2", "Id": "28457111", "Score": "9", "CreationDate": "2015-02-11T14:43:56.947", "LastActivityDate": "2015-02-11T14:43:56.947"}});