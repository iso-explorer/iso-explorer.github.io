post_cb({"37619231": {"ParentId": "37619078", "PostTypeId": "2", "CommentCount": "5", "Body": "<p><code>enum</code> is a C/C++ keyword, not a pre-processor directive.<br>\nPre-processor directives are clearly denoted by a leading <code>#</code> symbol. </br></p>\n<p>The pre-processor doesn't have/know a symbol called <code>TT_LAST_PARM</code> etc, and according to the C++ standard (\u00a716.1 \u00b64):</p>\n<blockquote>\n<p id=\"so_37619078_37619231_0\">After all replacements due to macro expansion and the defined unary operator have been performed, all remaining identifiers and keywords, except for true and false, are replaced with the pp-number 0</p>\n</blockquote>\n<p>So your expression evaluates to <code>(0 - 0) &gt;= 32</code></p>\n", "OwnerUserId": "257645", "LastEditorUserId": "257645", "LastEditDate": "2016-06-03T19:10:31.450", "Id": "37619231", "Score": "7", "CreationDate": "2016-06-03T16:21:29.400", "LastActivityDate": "2016-06-03T19:10:31.450"}, "bq_ids": {"n4140": {"so_37619078_37619231_0": {"section_id": 500, "quality": 1.0, "length": 21}}, "n3337": {"so_37619078_37619231_0": {"section_id": 491, "quality": 1.0, "length": 21}}, "n4659": {"so_37619078_37619231_0": {"section_id": 520, "quality": 0.8571428571428571, "length": 18}}}, "37619078": {"CommentCount": "7", "ViewCount": "73", "CreationDate": "2016-06-03T16:13:26.647", "LastActivityDate": "2016-06-03T19:10:31.450", "Title": "Why is the C++ preprocessor not doing arithmetic properly on enum values?", "AcceptedAnswerId": "37619231", "PostTypeId": "1", "Id": "37619078", "Score": "2", "Body": "<p>The following code does NOT generate the <code>#error</code>, but instead compiles, runs, and output the trace value 37 (TT_LAST_PARM equals 53 and TT_FIRST_PARM equals 16):</p>\n<pre><code>#if ((TT_LAST_PARM - TT_FIRST_PARM) &gt;= 32)\n#error More than 32 parm tokens\n#else\nHTRACE(\"%d\", TT_LAST_PARM - TT_FIRST_PARM);\n#endif\n</code></pre>\n<p>If I hard code the values,</p>\n<pre><code>#if ((53 - 16) &gt;= 32)\n#error More than 32 parm tokens\n#else\n    HTRACE(\"%d\", 53 - 16);\n#endif\n</code></pre>\n<p>the pre-processor DOES generate the error:</p>\n<p>Error   1   fatal error C1189: #error :  More than 32 parm tokens   d:\\codeMTX\\Knowbase\\KBMatL\\PrintParser.CPP  2663</p>\n", "Tags": "<c++><visual-studio-2008><enums><c-preprocessor>", "OwnerUserId": "346104", "AnswerCount": "1"}});