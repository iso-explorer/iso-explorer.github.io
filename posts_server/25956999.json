post_cb({"bq_ids": {"n4140": {"so_25956999_25957112_1": {"section_id": 3235, "quality": 0.7894736842105263, "length": 30}, "so_25956999_25956999_2": {"section_id": 3235, "quality": 1.0, "length": 32}, "so_25956999_25957112_0": {"section_id": 3235, "quality": 1.0, "length": 10}}, "n3337": {"so_25956999_25957112_1": {"section_id": 3108, "quality": 0.7894736842105263, "length": 30}, "so_25956999_25956999_2": {"section_id": 3108, "quality": 1.0, "length": 32}, "so_25956999_25957112_0": {"section_id": 3108, "quality": 1.0, "length": 10}}, "n4659": {"so_25956999_25957112_1": {"section_id": 3991, "quality": 0.7894736842105263, "length": 30}, "so_25956999_25956999_2": {"section_id": 3991, "quality": 1.0, "length": 32}, "so_25956999_25957112_0": {"section_id": 3991, "quality": 1.0, "length": 10}}}, "25956999": {"CommentCount": "6", "ViewCount": "72", "PostTypeId": "1", "OwnerDisplayName": "user2953119", "CreationDate": "2014-09-21T07:44:21.137", "LastActivityDate": "2014-09-21T08:21:07.017", "LastEditDate": "2014-09-21T08:04:18.733", "AcceptedAnswerId": "25957112", "LastEditorDisplayName": "user2953119", "Title": "Pointer to array convertion", "Id": "25956999", "Score": "1", "Body": "<p>8.3.4/8 N3797:</p>\n<blockquote>\n<p id=\"so_25956999_25956999_0\">[Example:</p>\n<p id=\"so_25956999_25956999_1\">consider <code>int x[3][5]</code>;</p>\n<p id=\"so_25956999_25956999_2\">Here <code>x</code> is a 3 \u00d7 5 array of integers.\n  When <code>x</code> appears in an expression, it is converted to a pointer to (the\n  first of three) five-membered arrays of integers. In the expression\n  <code>x[i]</code> which is equivalent to <code>*(x+i)</code>, <code>x</code> is first converted to a pointer\n  as described; <strong>then <code>x+i</code> is converted to the type of <code>x</code></strong>, which involves\n  multiplying <code>i</code> by the length of the object to which the pointer points,\n  namely five integer objects [...]</p>\n</blockquote>\n<p>Since the type of <code>x</code> is an \"array of 3 arrays of 5 integers\" we have that x+i too. Assume that <code>i = 2;</code></p>\n<p>What is the value of the <code>x + i</code> (Call him <code>arr</code>) elements after convertion to array of 3 arrays of 5 integers? I mean what <code>arr[3]</code> equals to?</p>\n", "Tags": "<c++><arrays><pointers>", "AnswerCount": "1"}, "25957112": {"ParentId": "25956999", "PostTypeId": "2", "CommentCount": "5", "Body": "<p><code>arr[3]</code> is an array of five integers. The reason is the following:</p>\n<blockquote>\n<p id=\"so_25956999_25957112_0\">When x appears in an expression, it is converted to a pointer to (the\n  first of three) five-membered arrays of integers</p>\n</blockquote>\n<p>this means any use of <code>arr</code> in an expression would result in having type <code>int(*)[5]</code> (decayed).</p>\n<p>For <code>x[3]</code>, which is equivalent to <code>*(x+i)</code>, you first get x translated into a <code>int(*)[5]</code> type and advance it, then you <strong>dereference</strong> (remember the *) that pointer and thus get type <code>int[5]</code>.</p>\n<p>Unfortunately the pointer pointed to an invalid memory spot and therefore any operation on this array of five integers is undefined behavior / access violation.</p>\n<p>I agree that the passage really isn't clear about this, it almost seems the two sentences are one before the other (kinda obscure too).</p>\n<p>I would have rephrased it as:</p>\n<blockquote>\n<p id=\"so_25956999_25957112_1\">Here x is a 3 \u00d7 5 array of integers. When x appears in an expression,\n  it is converted to a pointer to (the first of three) five-membered\n  arrays of integers. In the expression  x[i] which is equivalent to\n  *(x+i), x is first converted to a pointer as described; after the pointer increment x+i (which in a byte-wise fashion involves multiplying i by the length\n  of the object to which the pointer points, namely five integer objects), x+1 gets converted <strong>to the type pointed by x</strong>\n  [...]</p>\n</blockquote>\n", "OwnerUserId": "1938163", "LastEditorUserId": "1938163", "LastEditDate": "2014-09-21T08:21:07.017", "Id": "25957112", "Score": "0", "CreationDate": "2014-09-21T07:59:18.853", "LastActivityDate": "2014-09-21T08:21:07.017"}});