post_cb({"25257307": {"ParentId": "25256969", "CommentCount": "0", "Body": "<p>The overload of <code>std::splice::list</code> that you are using invalidates iterators to the spliced element in C++03. From <strong>23.2.2.4 list operations</strong> <strong>[lib.list.ops]</strong>:</p>\n<blockquote>\n<p id=\"so_25256969_25257307_0\"><code>void splice(iterator position, list&lt;T,Allocator&gt;&amp; x, iterator i);</code></p>\n<p id=\"so_25256969_25257307_1\"><strong>Effects</strong>: Inserts an element pointed to by i from list x before position and removes the element from x. The result is unchanged if\n  position == i or position == ++i. <em>Invalidates only the iterators and\n  references to the spliced element</em>.</p>\n</blockquote>\n<p>(emphasis mine)</p>\n<p>So in your case, <code>location</code>, which you initialized with <code>A.begin()</code> before splicing it, becomes invalidated. This behaviour appears to have changed in C++11, where iterator validity is maintained (see <a href=\"http://ideone.com/RJkred\" rel=\"nofollow\"><strong>working example</strong></a>.)</p>\n", "OwnerUserId": "661519", "PostTypeId": "2", "Id": "25257307", "Score": "3", "CreationDate": "2014-08-12T06:11:38.623", "LastActivityDate": "2014-08-12T06:11:38.623"}, "25256969": {"CommentCount": "10", "ViewCount": "134", "PostTypeId": "1", "LastEditorUserId": "661519", "CreationDate": "2014-08-12T05:45:49.840", "LastActivityDate": "2014-08-12T07:44:36.593", "Title": "Iterator stores the wrong value after splicing list", "AcceptedAnswerId": "25257307", "LastEditDate": "2014-08-12T07:44:36.593", "Id": "25256969", "Score": "2", "Body": "<p>I have some simple code.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;list&gt;\n\nstd::list&lt;int&gt; A;\nstd::list&lt;int&gt; B;\nstd::list&lt;int&gt;::iterator location;\n\nint main()\n{\n    A.push_back( 1 );\n    location = A.begin();\n    B.splice( B.end(), A, A.begin() );\n    std::cout&lt;&lt; (*location) &lt;&lt;std::endl;\n}\n</code></pre>\n<p>After compilation I get the runtime error: List iterator not dereferenceable. How can I solve this problem? </p>\n", "Tags": "<c++><visual-studio-2008><iterator>", "OwnerUserId": "3706947", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_25256969_25257307_1": {"section_id": 929, "quality": 0.7368421052631579, "length": 14}}, "n3337": {"so_25256969_25257307_1": {"section_id": 917, "quality": 0.7368421052631579, "length": 14}}, "n4659": {"so_25256969_25257307_1": {"section_id": 991, "quality": 0.7368421052631579, "length": 14}}}});