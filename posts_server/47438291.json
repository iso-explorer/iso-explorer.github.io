post_cb({"47438333": {"ParentId": "47438291", "CommentCount": "0", "Body": "<p><a href=\"http://en.cppreference.com/w/cpp/container/vector/resize\" rel=\"noreferrer\"><code>std::vector::resize</code></a> is exception safe.</p>\n<blockquote>\n<p id=\"so_47438291_47438333_0\">If an exception is thrown, this function has no effect (strong exception guarantee).</p>\n</blockquote>\n<p><a href=\"http://en.cppreference.com/w/cpp/container/vector/resize#Exceptions\" rel=\"noreferrer\">Link to the exception specification.</a> The specification doesn't mention any particular requirement on the allocator and must hold regardless of the allocator you provide.</p>\n", "OwnerUserId": "7359094", "PostTypeId": "2", "Id": "47438333", "Score": "5", "CreationDate": "2017-11-22T15:25:15.317", "LastActivityDate": "2017-11-22T15:25:15.317"}, "47438449": {"ParentId": "47438291", "PostTypeId": "2", "CommentCount": "0", "Body": "<blockquote>\n<p id=\"so_47438291_47438449_0\">is the original data still valid and accessible in the <code>std::vector</code> object?</p>\n</blockquote>\n<p>Yes, <code>std::vector::resize</code> has strong exception guarantee (except for the case mentioned as follows). <a href=\"http://eel.is/c++draft/vector.capacity#15\" rel=\"nofollow noreferrer\">\u00a726.3.11.3/15 vector capacity [vector.capacity]</a>:</p>\n<blockquote>\n<p id=\"so_47438291_47438449_1\">If an exception is thrown other than by the move constructor of a non-CopyInsertable T there are no effects.</p>\n</blockquote>\n<p>The guarantee has nothing to do with what kind of allocator is specified; so it's always true.</p>\n", "OwnerUserId": "3309790", "LastEditorUserId": "3309790", "LastEditDate": "2017-11-22T15:37:08.727", "Id": "47438449", "Score": "3", "CreationDate": "2017-11-22T15:31:25.077", "LastActivityDate": "2017-11-22T15:37:08.727"}, "47438291": {"CommentCount": "2", "ViewCount": "64", "CreationDate": "2017-11-22T15:23:10.067", "LastActivityDate": "2017-11-22T15:37:08.727", "Title": "Does vector resize throwing bad_alloc invalidate the original data?", "AcceptedAnswerId": "47438333", "PostTypeId": "1", "Id": "47438291", "Score": "2", "Body": "<p>After <code>std::vector::resize()</code> throws a <code>std::bad_alloc</code> exception, is the original data still valid and accessible in the <code>std::vector</code> object?</p>\n<p>Does the answer hold for other allocators, e.g. if <code>boost::interprocess::allocator</code> is used as the allocator, and <code>boost::interprocess::bad_alloc</code> is thrown?</p>\n", "Tags": "<c++><vector><stl><containers><boost-interprocess>", "OwnerUserId": "249810", "AnswerCount": "2"}, "bq_ids": {"n4140": {"so_47438291_47438449_1": {"section_id": 969, "quality": 1.0, "length": 9}, "so_47438291_47438333_0": {"section_id": 712, "quality": 0.5714285714285714, "length": 4}}, "n3337": {"so_47438291_47438449_1": {"section_id": 958, "quality": 1.0, "length": 9}, "so_47438291_47438333_0": {"section_id": 701, "quality": 0.5714285714285714, "length": 4}}, "n4659": {"so_47438291_47438449_1": {"section_id": 873, "quality": 1.0, "length": 9}, "so_47438291_47438333_0": {"section_id": 5058, "quality": 0.7142857142857143, "length": 5}}}});