post_cb({"15209067": {"ParentId": "15209006", "CommentCount": "6", "Body": "<p>From Paragraph 25.2.12/1 of the C++11 Standard:</p>\n<pre><code>template&lt;class ForwardIterator1, class ForwardIterator2&gt;\nbool is_permutation(ForwardIterator1 first1, ForwardIterator1 last1,\n                    ForwardIterator2 first2);\n\ntemplate&lt;class ForwardIterator1, class ForwardIterator2, class BinaryPredicate&gt;\nbool is_permutation(ForwardIterator1 first1, ForwardIterator1 last1,\n                    ForwardIterator2 first2, BinaryPredicate pred);\n</code></pre>\n<blockquote>\n<p id=\"so_15209006_15209067_0\">1 <em>Requires</em>: <code>ForwardIterator1</code> and <code>ForwardIterator2</code> <strong>shall have the same value type</strong>. The comparison\n  function shall be an equivalence relation.</p>\n</blockquote>\n<p>In your last call to <code>is_permutation()</code>, the first argument (from which type <code>ForwardIterator1</code> is deduced) is an iterator of <code>int</code> values, while the third argument (from which type <code>ForwardIterator2</code> is deduced) is an iterator of <code>X</code> values. You are therefore violating the pre-conditions stated by the above paragraph.</p>\n", "OwnerUserId": "1932150", "PostTypeId": "2", "Id": "15209067", "Score": "3", "CreationDate": "2013-03-04T19:03:33.177", "LastActivityDate": "2013-03-04T19:03:33.177"}, "15209006": {"CommentCount": "2", "ViewCount": "249", "CreationDate": "2013-03-04T18:59:28.237", "LastActivityDate": "2013-03-04T19:03:33.177", "Title": "Compiler error with is_permutation and predicate for struct", "AcceptedAnswerId": "15209067", "PostTypeId": "1", "Id": "15209006", "Score": "1", "Body": "<p>I don't understand the compiler error I'm getting in the last line of:</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\n\nstruct X{\n  int number;\n};\nbool same_number_X(const int &amp; a, const X &amp; b)\n{ return a == b.number; }\n\n\nbool same_number_int(const int &amp; a, const int &amp; b)\n{ return a == b; }\n\n\nint main(){\n\n   std::vector&lt;int&gt; vec1{1,2,3};\n   std::vector&lt;int&gt; vec2{2,3,1};\n   std::vector&lt;X&gt; vec3{{2},{3},{1}};\n\n   std::cout &lt;&lt; std::is_permutation(vec1.begin(), vec1.end(), vec2.begin(), same_number_int);\n   std::cout &lt;&lt; std::is_permutation(vec1.begin(), vec1.end(), vec3.begin(), same_number_X);\n}\n</code></pre>\n<p>You can see the error <a href=\"http://liveworkspace.org/code/1ncIoI%240\" rel=\"nofollow\">HERE</a>\nIt says </p>\n<pre><code>In instantiation of 'typename std::iterator_traits&lt;_InputIterator&gt;::difference_type std::count_if(_IIter, _IIter, _Predicate) [with _IIter = __gnu_cxx::__normal_iterator&lt;X*, std::vector&lt;X&gt; &gt;; _Predicate = std::_Bind&lt;bool (*(std::_Placeholder&lt;1&gt;, int))(const int&amp;, const X&amp;)&gt;; typename std::iterator_traits&lt;_InputIterator&gt;::difference_type = long int]':\nc++/4.7/bits/stl_algo.h:4367:37: required from 'bool std::is_permutation(_FIter1, _FIter1, _FIter2, _BinaryPredicate) [with _FIter1 = __gnu_cxx::__normal_iterator&lt;int*, std::vector&lt;int&gt; &gt;; _FIter2 = __gnu_cxx::__normal_iterator&lt;X*, std::vector&lt;X&gt; &gt;; _BinaryPredicate = bool (*)(const int&amp;, const X&amp;)]'\nsource.cpp:23:90: required from here\nc++/4.7/bits/stl_algo.h:4681:2: error: no match for call to '(std::_Bind&lt;bool (*(std::_Placeholder&lt;1&gt;, int))(const int&amp;, const X&amp;)&gt;) (X&amp;)'\n</code></pre>\n<p>Can anybody explain/solve it in non-compiler words? :-)</p>\n", "Tags": "<c++><algorithm><struct><compiler-errors><predicate>", "OwnerUserId": "2081073", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_15209006_15209067_0": {"section_id": 1275, "quality": 0.8333333333333334, "length": 10}}, "n3337": {"so_15209006_15209067_0": {"section_id": 1271, "quality": 0.8333333333333334, "length": 10}}, "n4659": {"so_15209006_15209067_0": {"section_id": 1395, "quality": 0.8333333333333334, "length": 10}}}});