post_cb({"24147696": {"ParentId": "24147653", "PostTypeId": "2", "CommentCount": "0", "Body": "<blockquote>\n<p id=\"so_24147653_24147696_0\">Which of the above is correct according to the standard?  </p>\n</blockquote>\n<p>Neither is correct according to C and C++ standard. C standard says that:    </p>\n<h3>6.8.6.4 The return statement:</h3>\n<blockquote>\n<p id=\"so_24147653_24147696_1\">A <code>return</code> statement with an expression shall not appear in a function whose return type\n  is <code>void</code>. A <code>return</code> statement without an expression shall only appear in a function\n  whose return type is <code>void</code>.  </p>\n</blockquote>\n<p>Also read this <a href=\"https://stackoverflow.com/a/22509182/2455888\">answer</a> for more detailed explanation.  </p>\n<blockquote>\n<p id=\"so_24147653_24147696_2\">Second, why does it compile?  </p>\n</blockquote>\n<p>Compilation doesn't guarantee that your code can't produce errors. It can. Better to compile your code with maximum warning flags.  I compiled the second code with following options and got the following warnings: </p>\n<pre><code>In function 'main':\n    [Warning] implicit declaration of function 'a' [-Wimplicit-function-declaration]\nAt top level:\n    [Warning] conflicting types for 'a' [enabled by default]\n    [Note] previous implicit declaration of 'a' was here\nIn function 'a':\n    [Warning] 'return' with a value, in function returning void [enabled by default]  \n</code></pre>\n<p>Although code compiled but there are some errors and violation of C standard.</p>\n", "OwnerUserId": "2455888", "LastEditorUserId": "-1", "LastEditDate": "2017-05-23T12:05:32.633", "Id": "24147696", "Score": "3", "CreationDate": "2014-06-10T17:50:14.573", "LastActivityDate": "2014-06-10T22:36:53.243"}, "24147695": {"ParentId": "24147653", "CommentCount": "0", "Body": "<p>Both programs are <strong>invalid</strong>. You failed to provide a function definition or declaration of <code>b()</code> in the first program before calling it in <code>a()</code>, and you failed to provide a function definition of <code>a()</code> before calling it in <code>main()</code> in the second program.</p>\n<p>Your compiler is providing a \"default\" prototype for an undeclared function:</p>\n<pre><code>int func();\n</code></pre>\n<p>which is a function taking <strong>any arguments</strong> and returning <code>int</code>. This is probably not what you want. Your compiler should have issued a warning saying that it was supplying a default function declaration.</p>\n<p>If you forward-declare the functions correctly (<code>void b();</code> and <code>void a();</code>), the compiler will correctly reject both programs.</p>\n", "OwnerUserId": "1204143", "PostTypeId": "2", "Id": "24147695", "Score": "1", "CreationDate": "2014-06-10T17:50:09.767", "LastActivityDate": "2014-06-10T17:50:09.767"}, "24147653": {"CommentCount": "3", "ViewCount": "111", "PostTypeId": "1", "LastEditorUserId": "28169", "CreationDate": "2014-06-10T17:47:40.223", "LastActivityDate": "2014-06-10T22:36:53.243", "Title": "Void Function Returns Int and Void", "LastEditDate": "2014-06-10T17:48:47.950", "Id": "24147653", "Score": "-2", "Body": "<p>I tried to write a void function with a return type and for some reason that works fine.\nHere is the some code I tried to compile:</p>\n<pre><code>void a(){\n  return b();\n}\nvoid b()\n{\n   printf(\"%s\",\"void:)\");\n}\n</code></pre>\n<p>And the next code also works correctly:</p>\n<pre><code> int main()\n {\n  a();\n  return 0;\n }\n\n void a(){\n  return 5;\n }\n</code></pre>\n<p>Which of the above is correct according to the standard?</p>\n<p>Second, why does it compile?</p>\n", "Tags": "<c++><c>", "OwnerUserId": "3576470", "AnswerCount": "2"}, "bq_ids": {"n4140": {"so_24147653_24147696_1": {"section_id": 3913, "quality": 0.7222222222222222, "length": 13}}, "n3337": {"so_24147653_24147696_1": {"section_id": 3773, "quality": 0.7222222222222222, "length": 13}}, "n4659": {"so_24147653_24147696_1": {"section_id": 4799, "quality": 0.6666666666666666, "length": 12}}}});