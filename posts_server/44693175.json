post_cb({"44693346": {"ParentId": "44693175", "Score": "16", "CreationDate": "2017-06-22T07:50:48.040", "Id": "44693346", "OwnerUserId": "817643", "LastActivityDate": "2017-06-22T07:50:48.040", "Body": "<p>If you look at the revision summary of the latest C++1z draft, you'd see this in <a href=\"http://eel.is/c++draft/diff.cpp14.dcl.dcl#:register_storage_class\" rel=\"noreferrer\">[diff.cpp14.dcl.dcl]</a></p>\n<blockquote>\n<p id=\"so_44693175_44693346_0\">[dcl.stc]<br>\n<strong>Change:</strong> Removal of register storage-class-specifier.<br>\n<strong>Rationale:</strong> Enable repurposing of deprecated keyword in future\n  revisions of this International Standard.<br>\n<strong>Effect on original feature:</strong> A valid C++ 2014 declaration utilizing the register\n  storage-class-specifier is ill-formed in this International Standard.\n  The specifier can simply be removed to retain the original meaning.</br></br></br></p>\n</blockquote>\n<p>The warning may be due to that.</p>\n", "PostTypeId": "2", "CommentCount": "2"}, "44693175": {"Tags": "<c++><c++11><c++14><c++1z>", "ViewCount": "3435", "LastEditDate": "2017-06-25T14:53:06.030", "CreationDate": "2017-06-22T07:41:50.183", "LastEditorUserId": "452775", "Title": "(v) is actually (*&v) since when?", "CommentCount": "11", "AnswerCount": "3", "Score": "17", "OwnerUserId": "690051", "Id": "44693175", "LastActivityDate": "2017-06-25T14:53:06.030", "Body": "<p>Could C++ standards gurus please enlighten me:</p>\n<p>Since which C++ standard version has this statement failed because <code>(v)</code> seems to be equivalent to <code>(*&amp;v)</code>?  </p>\n<p>I.e. for example the code:</p>\n<pre><code> #define DEC(V) ( ((V)&gt;0)? ((V)-=1) : 0 )\n ...{...\n        register int v=1;\n        int r = DEC(v) ;\n ...}...\n</code></pre>\n<p>This now produces warnings under <code>-std=c++17</code> like:</p>\n<blockquote>\n<p id=\"so_44693175_44693175_0\">cannot take address of register variable</p>\n<p id=\"so_44693175_44693175_1\">left hand side of operand must be lvalue</p>\n</blockquote>\n<p>Many C macros enclose ALL macro parameters in parentheses, of which the above is meant only to be a representative example.</p>\n<p>The actual macros that produce warnings are for instance\nthe <code>RTA_*</code> macros in<code>/usr/include/linux/rtnetlink.h</code>.</p>\n<p>Short of not using/redefining these macros in C++, is there any workaround?</p>\n", "PostTypeId": "1", "FavoriteCount": "3"}, "44693406": {"ParentId": "44693175", "Score": "6", "CreationDate": "2017-06-22T07:53:55.037", "Id": "44693406", "OwnerUserId": "8198467", "LastActivityDate": "2017-06-22T07:53:55.037", "Body": "<p>Your worry is unwarranted since the file in question does not actually contain the <code>register</code> keyword:</p>\n<pre><code>grep \"register\" /usr/include/linux/rtnetlink.h\n</code></pre>\n<p>outputs nothing. Either way, you shouldn't be receiving the warning since:</p>\n<ul>\n<li><p>System headers don't emit warnings by default, at least in GCC</p></li>\n<li><p>It isn't wise to try to compile a file that belongs to a systems project like the linux kernel in C++ mode, as there may be subtle and nasty breaking changes</p></li>\n</ul>\n<p>Just include the file normally or link the C code to your C++ binary. Report a bug if you really are getting a warning that should normally be suppressed to your compiler vendor.</p>\n", "PostTypeId": "2", "CommentCount": "3"}, "44693431": {"ParentId": "44693175", "Score": "13", "CreationDate": "2017-06-22T07:54:44.853", "LastActivityDate": "2017-06-22T09:18:32.883", "LastEditDate": "2017-06-22T09:18:32.883", "OwnerUserId": "5501675", "LastEditorUserId": "5501675", "Body": "<p><code>register</code> is no longer a storage class specifier, you should remove it.  Compilers may not be issuing the right error or warnings but your code should not have <code>register</code> to begin with </p>\n<p>The following is a quote from the standard informing people about what they should do with regards to <code>register</code> in their code (relevant part emphasized), you probably have an old version of that file</p>\n<p><strong>C.1.6 Clause 10: declarations [diff.dcl]</strong></p>\n<blockquote>\n<p id=\"so_44693175_44693431_0\">Change: In C++, register is not a storage class specifier. </p>\n<p id=\"so_44693175_44693431_1\">Rationale: The storage class specifier had no effect in C++. \n  Effect on original feature: Deletion of semantically well-defined feature. </p>\n<p id=\"so_44693175_44693431_2\"><strong>Difficulty of converting</strong>: Syntactic transformation. </p>\n<p id=\"so_44693175_44693431_3\">How widely used: Common.</p>\n</blockquote>\n", "Id": "44693431", "PostTypeId": "2", "CommentCount": "4"}, "bq_ids": {"n4659": {"so_44693175_44693175_1": {"length": 4, "section_id": 8741, "quality": 0.6666666666666666}}}});