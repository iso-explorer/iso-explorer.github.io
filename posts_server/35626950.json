post_cb({"bq_ids": {"n4140": {"so_35626950_35627300_0": {"length": 15, "quality": 0.8823529411764706, "section_id": 3}}, "n3337": {"so_35626950_35627300_0": {"length": 15, "quality": 0.8823529411764706, "section_id": 2}}, "n4659": {"so_35626950_35627300_0": {"length": 15, "quality": 0.8823529411764706, "section_id": 3}}}, "35627300": {"Id": "35627300", "PostTypeId": "2", "Body": "<p>The first operand to the conditional operator is <em>contextually converted</em> to <code>bool</code> (<code>[expr.cond]/1</code>). This is defined as follows (quote from N3337):</p>\n<blockquote>\n<p id=\"so_35626950_35627300_0\"><code>[conv]/3:</code> An expression <code>e</code> appearing in such a context is said to be <em>contextually converted to <code>bool</code></em> and is well-formed if and only if the declaration <code>bool t(e);</code> is well-formed, for some\n  invented temporary variable <code>t</code>. </p>\n</blockquote>\n<p>So contextual conversion uses direct-initialization rules, which allow for <code>explicit</code> user-defined conversions.</p>\n", "LastActivityDate": "2016-02-25T12:27:37.913", "CommentCount": "0", "CreationDate": "2016-02-25T12:27:37.913", "ParentId": "35626950", "Score": "3", "OwnerUserId": "496161"}, "35626950": {"ViewCount": "60", "Body": "<p>I define a user-defined conversion operator to <code>bool</code> and use it in a conditional:</p>\n<pre><code>struct T {\n  explicit operator bool() { return true; }\n};\n\nint main() {\n   T t;\n   return t ? 0 : 1;\n}\n</code></pre>\n<p>To my surprise this compiles (on gcc) despite the <code>explicit</code>.  Is this allowed by the C++11 standard? I searched the standard but couldn't find it.</p>\n", "AcceptedAnswerId": "35627300", "Title": "User defined explicit conversion in conditionals in C++11", "CreationDate": "2016-02-25T12:12:02.407", "Id": "35626950", "CommentCount": "0", "LastEditDate": "2017-04-19T13:32:37.450", "PostTypeId": "1", "LastEditorUserId": "82570", "LastActivityDate": "2017-04-19T13:32:37.450", "Score": "2", "OwnerUserId": "82570", "Tags": "<c++11><type-conversion>", "AnswerCount": "1"}});