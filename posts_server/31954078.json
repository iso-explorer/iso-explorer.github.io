post_cb({"31954078": {"CommentCount": "1", "AcceptedAnswerId": "31956369", "PostTypeId": "1", "LastEditorUserId": "2069064", "CreationDate": "2015-08-12T00:17:43.053", "LastActivityDate": "2015-08-13T19:14:31.147", "LastEditDate": "2015-08-13T19:14:31.147", "ViewCount": "88", "FavoriteCount": "2", "Title": "Partial template specialization depending on a variadic pack of integral constants of mixed type", "Id": "31954078", "Score": "3", "Body": "<p>Suppose one needs to partially specialize a template type that expects a variadic list of types for the case where all of its arguments are specializations of, say, <code>std::integral_constant</code>.</p>\n<p>The following straightforward approach is accepted by various versions of clang and GCC, but rejected by VS 14 (2015) with the error:</p>\n<blockquote>\n<p id=\"so_31954078_31954078_0\">error C3522: 't': parameter pack cannot be expanded in this context</p>\n</blockquote>\n<pre><code>template&lt;typename...&gt;\nstruct foo;\n\ntemplate&lt;typename... t, t... v&gt;\nstruct foo&lt;std::integral_constant&lt;t, v&gt;...&gt;\n{\n    /* ... */\n};\n\nfoo&lt;std::integral_constant&lt;int, -1&gt;, std::true_type&gt; bar; \n</code></pre>\n<p>I can't seem to find anything in the C++ standard drafts (n4296) that definitively either allows or disallows such types of pattern matching, so before I file a bug report against VS 14, I should better consult the gurus out there: </p>\n<p><strong>Is the above example really valid C++?</strong></p>\n", "Tags": "<c++><templates><c++11>", "OwnerUserId": "801438", "AnswerCount": "1"}, "31956369": {"ParentId": "31954078", "PostTypeId": "2", "CommentCount": "2", "CreationDate": "2015-08-12T05:00:03.807", "Score": "4", "LastEditorUserId": "2756719", "LastEditDate": "2015-08-12T05:06:53.093", "Id": "31956369", "OwnerUserId": "2756719", "Body": "<p>This is ill-formed. [temp.param]/p15:</p>\n<blockquote>\n<p id=\"so_31954078_31956369_0\">A template parameter pack that is a pack expansion shall not expand a\n  parameter pack declared in the same <em>template-parameter-list</em>.</p>\n</blockquote>\n<p><code>v</code> is both a pack and a pack expansion, and it expands <code>t</code>, which is declared in the same <em>template-parameter-list</em>.</p>\n", "LastActivityDate": "2015-08-12T05:06:53.093"}, "bq_ids": {"n4140": {"so_31954078_31956369_0": {"section_id": 68, "quality": 1.0, "length": 11}}, "n3337": {"so_31954078_31956369_0": {"section_id": 63, "quality": 1.0, "length": 11}}, "n4659": {"so_31954078_31956369_0": {"section_id": 70, "quality": 1.0, "length": 11}}}});