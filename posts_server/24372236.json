post_cb({"24372236": {"CommentCount": "1", "ViewCount": "93", "CreationDate": "2014-06-23T17:51:43.350", "LastActivityDate": "2014-06-23T18:12:20.070", "Title": "Does initialization list work for base classes?", "AcceptedAnswerId": "24372309", "PostTypeId": "1", "Id": "24372236", "Score": "5", "Body": "<p>Does initialization list work for base classes? If so, how? For example</p>\n<pre><code>struct A\n{\n    int i;\n};\n\nstruct B : public A\n{\n    double d;\n};\n\n\nint main()\n{\n    B b{ A(10), 3.4 };\n    return 0;\n}\n</code></pre>\n", "Tags": "<c++><initializer-list>", "OwnerUserId": "1899020", "AnswerCount": "2"}, "24372296": {"ParentId": "24372236", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Structure B is not an aggregate type. So you may not use a braced-init list such a way. </p>\n<p>However if you would define a constructor in class B then you could write for example</p>\n<pre><code>struct A\n{\n    int i;\n};\n\nstruct B : public A\n{\n    B( int x, double d ) : A { x }, d( d ) {}\n    double d;\n};\n\nB b { 1, 2.0 };\n</code></pre>\n", "OwnerUserId": "2877241", "LastEditorUserId": "2877241", "LastEditDate": "2014-06-23T18:01:29.100", "Id": "24372296", "Score": "2", "CreationDate": "2014-06-23T17:55:02.457", "LastActivityDate": "2014-06-23T18:01:29.100"}, "bq_ids": {"n4140": {"so_24372236_24372309_0": {"section_id": 3298, "quality": 0.6956521739130435, "length": 16}}, "n3337": {"so_24372236_24372309_0": {"section_id": 3168, "quality": 0.8695652173913043, "length": 20}}, "n4659": {"so_24372236_24372309_0": {"section_id": 4063, "quality": 0.5217391304347826, "length": 12}}}, "24372309": {"ParentId": "24372236", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Section \u00a7 8.5.1 of the standard defines an aggregate :</p>\n<blockquote>\n<p id=\"so_24372236_24372309_0\">An aggregate is an array or a class (Clause 9) with no user-provided\n  constructors (12.1), no brace-or-equal-initializers for non-static\n  data members (9.2), no private or protected non-static data members\n  (Clause 11), <strong>no base classes</strong> (Clause 10), and no virtual functions\n  (10.3).</p>\n</blockquote>\n<p>Since <code>B</code> has a base class, is not an aggregate : you cannot use aggregate brace-initialization here.</p>\n<p><strong>EDIT :</strong></p>\n<p>You could however provide a constructor to make brace-initialization work (but it is still <strong>not</strong> an aggregate initialization) :</p>\n<pre><code>struct A\n{\n    int i;\n};\n\nstruct B : public A\n{\n    B(int i, double d) : A {i}, d(d) {}\n    double d;\n};\n\n\nint main()\n{\n    B b { 10, 3.6 };\n    return 0;\n}\n</code></pre>\n", "OwnerUserId": "3510483", "LastEditorUserId": "3510483", "LastEditDate": "2014-06-23T18:12:20.070", "Id": "24372309", "Score": "4", "CreationDate": "2014-06-23T17:56:03.260", "LastActivityDate": "2014-06-23T18:12:20.070"}});