post_cb({"bq_ids": {"n4140": {"so_19186793_19186884_0": {"length": 14, "quality": 0.8235294117647058, "section_id": 5361}}, "n3337": {"so_19186793_19186884_0": {"length": 14, "quality": 0.8235294117647058, "section_id": 5157}}, "n4659": {"so_19186793_19186884_0": {"length": 14, "quality": 0.8235294117647058, "section_id": 6789}}}, "19186793": {"ViewCount": "88", "Body": "<p>In the following program to rotate a string run time error occurs .Please help</p>\n<p>there are no compilation errors in the code</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nvoid reverseString(char* str, int start, int end)\n{\n    int front = start;\n    int back = end;\n    while (front &lt; back)\n    {\n        /* swap two variables without\n        using a temporary one.*/\n        str[front] ^= str[back];\n        str[back]  ^= str[front];\n        str[front] ^= str[back];\n        ++front;\n        --back;\n    }\n    return;\n}\n</code></pre>\n<p>This part is for rotating the string</p>\n<pre><code>void rotateString(char* str, int k)\n{\n    if (!str || !*str)\n        return;\n    int len = strlen(str);\n    /*Rotating a string by it's length is string itself.*/\n    k %= len;\n    reverseString(str, 0, len-1);\n    reverseString(str, 0, k-1);\n    reverseString(str, k, len-1);\n    cout&lt;&lt;str;\n    return;\n}\n\nint main() {\n    rotateString(\"abcde\",2);\n    return 0;\n}\n</code></pre>\n", "AcceptedAnswerId": "19186809", "Title": "Runtime error in the code", "CreationDate": "2013-10-04T16:56:14.950", "LastActivityDate": "2013-10-04T17:25:14.847", "CommentCount": "2", "LastEditDate": "2013-10-04T17:25:14.847", "PostTypeId": "1", "Tags": "<c++>", "Id": "19186793", "AnswerCount": "3", "Score": "0", "OwnerUserId": "2673037", "ClosedDate": "2014-04-04T11:54:22.193", "LastEditorUserId": "2673037"}, "19186884": {"Id": "19186884", "PostTypeId": "2", "Body": "<p>You are passing a string literal here:</p>\n<pre><code>rotateString(\"abcde\",2);\n</code></pre>\n<p>and subsequently trying to modify it, this is <a href=\"https://en.wikipedia.org/wiki/Undefined_behavior\" rel=\"nofollow\">undefined behavior</a>. The C++ draft standard in section <code>2.14.5</code> <em>String literals</em> says(<em>emphasis mine</em>):</p>\n<blockquote>\n<p id=\"so_19186793_19186884_0\">Whether all string literals are distinct (that is, are stored in nonoverlapping objects) is implementation defined. <strong>The effect of attempting to modify a string literal is undefined.</strong></p>\n</blockquote>\n<p>this code on the other hand will work with invoking undefined behavior:</p>\n<pre><code>char arr[] = \"abcde\" ;\nrotateString(arr,2);\n</code></pre>\n", "LastEditorUserId": "1708801", "LastActivityDate": "2013-10-04T17:21:10.540", "Score": "1", "CreationDate": "2013-10-04T17:01:35.777", "ParentId": "19186793", "CommentCount": "5", "LastEditDate": "2013-10-04T17:21:10.540", "OwnerUserId": "1708801"}, "19186856": {"Id": "19186856", "PostTypeId": "2", "Body": "<pre><code> rotateString(\"abcde\",2);\n</code></pre>\n<p><em>You are passing a String Literal (which is a const) to rotateString(). Actually Compiler makes a constant temprory string variable/ char[] and stores \"abcde\" in it &amp; passes it to the function rotateString().</em></p>\n<p>As you <strong>can't edit/modify a const,</strong> that why you are getting an error.</p>\n<p><em><strong>Solution:</strong></em></p>\n<pre><code>Store \"abcde\" in a char[] and passing it to rotateString()\n</code></pre>\n", "LastActivityDate": "2013-10-04T17:00:09.580", "Score": "0", "CreationDate": "2013-10-04T17:00:09.580", "ParentId": "19186793", "CommentCount": "0", "OwnerUserId": "1250107"}, "19186809": {"Id": "19186809", "PostTypeId": "2", "Body": "<p>It's because you try to modify a literal string. All literal strings are constant and read-only. Trying to modify one leads to <em>undefined behavior</em>, which can some times seem to work and some time crash.</p>\n<p>Try instead e.g.</p>\n<pre><code>char str[] = \"abcde\";\nrotateString(str, 2);\n</code></pre>\n", "LastActivityDate": "2013-10-04T16:57:26.833", "Score": "8", "CreationDate": "2013-10-04T16:57:26.833", "ParentId": "19186793", "CommentCount": "0", "OwnerUserId": "440558"}});