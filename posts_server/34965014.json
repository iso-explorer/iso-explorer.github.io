post_cb({"bq_ids": {"n4140": {"so_34965014_34965134_0": {"length": 9, "quality": 1.0, "section_id": 6700}}, "n3337": {"so_34965014_34965134_0": {"length": 9, "quality": 1.0, "section_id": 6455}}, "n4659": {"so_34965014_34965134_0": {"length": 9, "quality": 1.0, "section_id": 8174}}}, "34965014": {"ViewCount": "106", "Body": "<p>I have the following code:</p>\n<pre><code>class Base\n{\n  private:\n    class NestedBase\n    {\n      public:\n        void Do() {}\n    };\n\n  public:\n    NestedBase nested;\n};\n\nint main()\n{\n  Base b;\n  b.nested.Do(); // line A compiles\n  Base::NestedBase instance; // line B doesn't compile\n}\n</code></pre>\n<p><code>NestedBase</code> class is a private nested class of <code>Base</code>, so it seems natural  that line B doesn't compile. But, on the other hand, variable <code>b</code> has the public member <code>nested</code>, and I can call its method <code>Do()</code> from outside of <code>Base</code> (as in line A). What are the precise rules that regulate access to the private nested class (or its members) in such case? What does the standard say on this?</p>\n", "Title": "C++: Public member of a private nested class type", "CreationDate": "2016-01-23T15:06:05.400", "LastActivityDate": "2016-09-16T10:26:23.980", "CommentCount": "0", "FavoriteCount": "3", "PostTypeId": "1", "LastEditDate": "2016-01-23T16:40:26.033", "LastEditorUserId": "198374", "Id": "34965014", "Score": "8", "OwnerUserId": "3133604", "Tags": "<c++><inner-classes><class-visibility>", "AnswerCount": "2"}, "34965312": {"Id": "34965312", "PostTypeId": "2", "Body": "<p>Type name <code>NestedBase</code> is a private member of the class.</p>\n<pre><code>class Base\n{\nprivate:\n    class NestedBase\n    {\n    public:\n        void Do() {}\n    };\n    //...\n</code></pre>\n<p>So you can not explicitly access it outside the class where the name is declared.</p>\n<p>But you can access the name implicitly the following way:)</p>\n<pre><code>decltype( Base::nested) instance;\n</code></pre>\n", "LastEditorUserId": "2877241", "LastActivityDate": "2016-01-23T15:37:36.980", "Score": "2", "CreationDate": "2016-01-23T15:32:27.113", "ParentId": "34965014", "CommentCount": "1", "OwnerUserId": "2877241", "LastEditDate": "2016-01-23T15:37:36.980"}, "34965134": {"Id": "34965134", "PostTypeId": "2", "Body": "<p>According to the standard, <a href=\"http://eel.is/c++draft/class.access.nest#1\" rel=\"nofollow\">$11.7/1 Nested classes [class.access.nest]</a>:</p>\n<blockquote>\n<p id=\"so_34965014_34965134_0\">A nested class is a member and as such has the same access rights as any other member.</p>\n</blockquote>\n<p>So, it's quite simple. <code>NestedBase</code> is a <code>private</code> member of class <code>Base</code>, so <code>Base::NestedBase</code> can't be accessed in <code>main()</code>. </p>\n<p><code>b.nested.Do();</code> is fine because <code>nested</code> and <code>Do()</code> are both <code>public</code> members. The fact that <code>NestedBase</code> is a <code>private</code> nested class of <code>Base</code> doesn't matter, it's irrelevant here.</p>\n", "LastEditorUserId": "3309790", "LastActivityDate": "2016-09-16T10:26:23.980", "Score": "6", "CreationDate": "2016-01-23T15:14:00.047", "ParentId": "34965014", "CommentCount": "0", "OwnerUserId": "3309790", "LastEditDate": "2016-09-16T10:26:23.980"}});