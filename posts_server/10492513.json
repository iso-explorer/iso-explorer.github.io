post_cb({"10492537": {"ParentId": "10492513", "CommentCount": "0", "Body": "<p>The fact that that memory address is popped from the top of the stack when it goes out of scope only means that it is freed, not overwritten. That is why you are getting the output \"5\".</p>\n", "OwnerUserId": "953105", "PostTypeId": "2", "Id": "10492537", "Score": "1", "CreationDate": "2012-05-08T04:26:08.243", "LastActivityDate": "2012-05-08T04:26:08.243"}, "10492513": {"CommentCount": "1", "ViewCount": "156", "CreationDate": "2012-05-08T04:22:52.570", "LastActivityDate": "2012-05-08T04:26:08.243", "Title": "This pointer assignment should produce a segfault?", "AcceptedAnswerId": "10492522", "PostTypeId": "1", "Id": "10492513", "Score": "0", "Body": "<p>Isn't this supposed to produce a segfault?\nWhen I run the code the output is 5. Example: <a href=\"http://ideone.com/gV2Nv\" rel=\"nofollow\">http://ideone.com/gV2Nv</a></p>\n<pre><code>#include &lt;iostream&gt;\nusing std::cout;\nusing std::endl;\n\nint* foo(int a) {\n  int b = a;\n  int* c = &amp;b; \n  return c;\n}\n\nint main() {\n  int* a = foo(5);\n  cout &lt;&lt; *a &lt;&lt; endl; \n  return 0;\n}\n</code></pre>\n", "Tags": "<c++><pointers><segmentation-fault>", "OwnerUserId": "710805", "AnswerCount": "3"}, "10492522": {"ParentId": "10492513", "CommentCount": "0", "Body": "<p>Returning an pointer to an local variable in the function is an <strong>Undefined Behavior</strong>.     </p>\n<p>Undefined Behavior does not warranty a segmentation fault. It merely means that any behavior is possible and the program can behave in any way.   </p>\n<p>It is a common misconception that Undefined Behavior means the code should produce a segmentation fault, the truth is that standard does not require any specific behavior in cases where the code invokes an Undefined Behavior and hence the name.   </p>\n<p><strong>C++ Standard section 1.3.24 states:</strong></p>\n<blockquote>\n<p id=\"so_10492513_10492522_0\">Permissible undefined behavior ranges from ignoring the situation completely with unpredictable results, to behaving during translation or program execution in a documented manner characteristic of the environment (with or without the issuance of a diagnostic message), to terminating a translation or execution (with the issuance of a diagnostic message). </p>\n</blockquote>\n", "OwnerUserId": "452307", "PostTypeId": "2", "Id": "10492522", "Score": "3", "CreationDate": "2012-05-08T04:24:23.073", "LastActivityDate": "2012-05-08T04:24:23.073"}, "bq_ids": {"n4140": {"so_10492513_10492522_0": {"section_id": 5768, "quality": 1.0, "length": 26}}, "n3337": {"so_10492513_10492522_0": {"section_id": 5541, "quality": 1.0, "length": 26}}, "n4659": {"so_10492513_10492522_0": {"section_id": 7225, "quality": 1.0, "length": 26}}}, "10492518": {"ParentId": "10492513", "CommentCount": "0", "Body": "<p>No, it's supposed to result in undefined behavior.</p>\n", "OwnerUserId": "541686", "PostTypeId": "2", "Id": "10492518", "Score": "2", "CreationDate": "2012-05-08T04:23:45.710", "LastActivityDate": "2012-05-08T04:23:45.710"}});