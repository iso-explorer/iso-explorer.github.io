post_cb({"19356589": {"ParentId": "19356232", "CommentCount": "1", "Body": "<p>Looks like a bug, since the following quotes prove that they are indeed compatible, and I couldn't find anything to disallow it.</p>\n<h3>12.3.2 Conversion functions [class.conv.fct]</h3>\n<blockquote>\n<p id=\"so_19356232_19356589_0\">2) A conversion function may be <code>explicit</code> [...] <br/>\n  [...] <br/>\n  5) Conversion functions can be <code>virtual</code>.</p>\n</blockquote>\n<p>and</p>\n<h3>7.1.2 Function specifiers [dcl.fct.spec]</h3>\n<blockquote>\n<p id=\"so_19356232_19356589_1\">5) The <code>virtual</code> specifier shall be used only in the initial declaration of a non-static class member function;\n  see 10.3.<br/>\n  6) The <code>explicit</code> specifier shall be used only in the declaration of a constructor or conversion function within\n  its class definition; see 12.3.1 and 12.3.2.</p>\n</blockquote>\n", "OwnerUserId": "673730", "PostTypeId": "2", "Id": "19356589", "Score": "18", "CreationDate": "2013-10-14T08:52:00.207", "LastActivityDate": "2013-10-14T08:52:00.207"}, "bq_ids": {"n4140": {"so_19356232_19356589_0": {"section_id": 391, "quality": 0.625, "length": 5}}, "n3337": {"so_19356232_19356589_0": {"section_id": 382, "quality": 0.625, "length": 5}}, "n4659": {"so_19356232_19356589_0": {"section_id": 408, "quality": 0.75, "length": 6}}}, "19356232": {"CommentCount": "5", "AcceptedAnswerId": "19356589", "CreationDate": "2013-10-14T08:30:38.053", "LastActivityDate": "2013-10-14T08:52:00.207", "PostTypeId": "1", "ViewCount": "1300", "FavoriteCount": "1", "Title": "Why is `explicit` not compatible with `virtual`?", "Id": "19356232", "Score": "13", "Body": "<pre><code>struct A\n{\n    // error C2216: 'explicit' cannot be used with 'virtual'\n    virtual explicit operator bool() const \n    {\n        return true;\n    }\n};\n\nstruct B : A\n{\n    // error C2216: 'explicit' cannot be used with 'override'\n    explicit operator bool() const override \n    {\n        return false;\n    }\n};\n\nint main()\n{\n    if (A())\n    {}\n\n    if (B())\n    {}\n}\n</code></pre>\n<p>My compiler is VC++ 2013 RC.</p>\n<p>Why is <code>explicit</code> not compatible with <code>virtual</code>?</p>\n<p>What's the rationale?</p>\n", "Tags": "<c++><function><c++11><virtual><explicit>", "OwnerUserId": "508343", "AnswerCount": "1"}});