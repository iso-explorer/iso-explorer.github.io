post_cb({"15783380": {"CommentCount": "3", "ViewCount": "999", "PostTypeId": "1", "LastEditorUserId": "-1", "CreationDate": "2013-04-03T09:19:41.500", "LastActivityDate": "2015-08-30T14:44:41.540", "Title": "c++ program to convert number into words not working", "AcceptedAnswerId": "15783419", "LastEditDate": "2017-05-23T10:26:37.750", "Id": "15783380", "Score": "1", "Body": "<p>Here is a program written in c++ from this <a href=\"https://stackoverflow.com/questions/12284768/write-code-to-convert-given-number-into-words-eg-1234-as-input-should-output-on\">Write code to convert given number into words (eg 1234 as input should output one thousand two hundred and thirty four)</a> question I modified to convert number into words.</p>\n<p>In my program, instead of repeated using cout, I created an ostream object out and placed the return value in out.</p>\n<p>Here is the program</p>\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\nostream &amp; expand(int);\nint main()\n{\n    int num;\n    cin&gt;&gt;num;\n\n   cout&lt;&lt;expand(num);\n}\nostream &amp; expand(int value)\n{\nostream   &amp;out;\nout&lt;&lt;\"\";\n    const char * const ones[21] = {\"zero\", \"one\", \"two\", \"three\",\"four\",\"five\",\"six\",\"seven\",\n    \"eight\",\"nine\",\"ten\", \"eleven\",\"twelve\",\"thirteen\",\"fourteen\",\"fifteen\",\"sixteen\",\"seventeen\",\n    \"eighteen\",\"nineteen\"};\n    const char * const tens[10] = {\"\", \"ten\", \"twenty\", \"thirty\",\"forty\",\"fifty\",\"sixty\",\"seventy\",\n    \"eighty\",\"ninety\"};\n\n    if(value&lt;0)\n    {\n        out&lt;&lt;\"minus \"&lt;&lt;expand(-value);\n\n    }\nelse if(value&gt;=1000000){\nout&lt;&lt;expand(value/1000000)&lt;&lt;\" million\";\nif(value % 1000000)\n{\nout&lt;&lt;\" \"&lt;&lt;expand(value % 1000000);\n}\n\n}\n    else if(value&gt;=1000)\n    {\n        out&lt;&lt;expand(value/1000)&lt;&lt;\" thousand\";\n\n        if(value % 1000)\n        {\n            if(value % 1000 &lt; 100)\n            {\n                out &lt;&lt; \" and\";\n            }\n            out &lt;&lt; \"  \" &lt;&lt;expand(value % 1000);\n        }\n    }\n    else if(value &gt;= 100)\n    {\n        out&lt;&lt;expand(value / 100)&lt;&lt;\" hundred\";\n\n        if(value % 100)\n        {\n            out &lt;&lt; \" and \"&lt;&lt;expand (value % 100);\n        }\n    }\n    else if(value &gt;= 20)\n    {\n        out &lt;&lt; tens[value / 10];\n        if(value % 10)\n        {\n            out &lt;&lt; \" \" &lt;&lt; expand(value % 10);\n        }\n    }\n    else\n    {\n        out &lt;&lt; ones[value];\n    }\n    return &amp;out;\n}\n</code></pre>\n<p>However, I get the following error while compiling. </p>\n<pre><code>In function 'std::ostream&amp; expand(int)':\nLine 13: error: 'out' declared as reference but not initialized\ncompilation terminated due to -Wfatal-errors.\n</code></pre>\n<p>Please help me.</p>\n<p>I tried setting <code>ostream &amp;out=cout;</code> and at the end <code>return out</code>. But I get the following result for <code>cout&lt;&lt;expand(111234)</code>.   </p>\n<p><code>one0x8050884 hundredeleven and 0x80508840x8050884 thousandtwo0x8050884 hundredthirtyfour 0x8050884 and 0x8050884 0x80508840x8050884</code></p>\n", "Tags": "<c++><ostream>", "OwnerUserId": "2206401", "AnswerCount": "4"}, "32297752": {"ParentId": "15783380", "CommentCount": "1", "Body": "<pre><code>#include&lt;stdio.h&gt;\n#include&lt;conio.h&gt;\n\nvoid two_dgt(int);\nvoid three_dgt(int);   //Function Declarations\nvoid four_dgt(int);\nlong int num,hd_place,th_place;\nchar single[10][6] = {\"\",\"one\",\"two\",\"three\",\"four\",\n        \"five\",\"six\",\"seven\",\"eight\",\"nine\"};\n\nchar tens_multi[10][8] = {\"\",\"ten\",\"twenty\",\"thirty\",\"forty\",\n        \"fifty\",\"sixty\",\"seventy\",\"eighty\",\"ninety\"};\n\nchar dual[10][10] = {\"ten\",\"eleven\",\"twelve\",\"thirteen\",\"fourteen\",\n         \"fifteen\",\"sixteen\",\"seventeen\",\"eighteen\",\"nineteen\"};\n\nvoid main()\n{\n   clrscr();\n   printf(\"Enter the number upto 5 digits: \");\n   scanf(\"%ld\",&amp;num);\n   if(num == 0)\n     printf(\"Zero\");\n   else\n   {\n       clrscr();\n       printf(\"\\n\\nEntered number: %ld\",num);\n       printf(\"\\nIn words:       \");\n       if(num &lt; 10)\n          printf(\"%s\",single[num]); //use to print single digit number\n       else if(num &lt; 100)\n          two_dgt(num);          //call a function to print two digits\n       else if(num &lt; 1000)\n          three_dgt(num);      //call a function to print three digits\n       else if(num &lt; 10000)\n          four_dgt(num);        //call a function to print four digits\n       else if(num &lt; 100000)\n       {\n          th_place = num/1000;\n          two_dgt(th_place);\n          printf(\" thousand \");\n          num = num - (th_place*1000);\n          hd_place = num/100;\n          if(hd_place == 0)\n              two_dgt(num);\n          else\n              three_dgt(num);\n       }\n       else if(num &gt; 99999)\n       {\n          clrscr();\n          printf(\"\\nError: number range should be upto 5 digits\");\n        }     \n    }\n    getch();\n</code></pre>\n<p>}</p>\n<pre><code>void two_dgt(int num)\n{\nif(num%10 == 0)\n  printf(\"%s\",tens_multi[num/10]);\nelse\n{\n  if(num/10 == 1)\n     printf(\"%s\",dual[num%10]);\n  else\n     printf(\"%s %s\",tens_multi[num/10],single[num%10]);\n}\n}\n\nvoid three_dgt(int num)\n{\n hd_place = num/100;\n printf(\"%s hundred \",single[hd_place]);\n num = num - (hd_place*100);\n two_dgt(num);\n}\n\nvoid four_dgt(int num)\n{\n  th_place = num/1000;\n  printf(\"%s thousand \",single[th_place]);\n  num = num - (th_place*1000);\n  hd_place = num/100;\n  if(hd_place == 0)\n     two_dgt(num);\n  else\n     three_dgt(num);\n }\n</code></pre>\n", "OwnerUserId": "5282023", "PostTypeId": "2", "Id": "32297752", "Score": "0", "CreationDate": "2015-08-30T14:44:41.540", "LastActivityDate": "2015-08-30T14:44:41.540"}, "15784772": {"ParentId": "15783380", "CommentCount": "0", "Body": "<p>If you want to chain output like that, you should use the method given in Andy's answer. Currently, the system is trying to output your ostream pointer as a value, it's not able to chain properly as you don't supply the stream as an input parameter.</p>\n", "OwnerUserId": "1182921", "PostTypeId": "2", "Id": "15784772", "Score": "0", "CreationDate": "2013-04-03T10:22:37.800", "LastActivityDate": "2013-04-03T10:22:37.800"}, "15783431": {"ParentId": "15783380", "CommentCount": "0", "Body": "<p>The problem is here:</p>\n<pre><code>ostream   &amp;out;\n</code></pre>\n<p>As the compiler is telling you, <strong>references must be initialized</strong>. They cannot be default-constructed. Per Paragraph 8.3.5/1 of the C++11 Standard:</p>\n<blockquote>\n<p id=\"so_15783380_15783431_0\">A variable declared to be a T&amp; or T&amp;&amp;, that is, \u201creference to type T\u201d (8.3.2), <strong>shall be initialized by an object,\n  or function, of type T or by an object that can be converted into a T</strong>.</p>\n</blockquote>\n<p>If you meant to bind <code>out</code> to the standard output, then you could do this:</p>\n<pre><code>ostream&amp; out = std::cout;\n</code></pre>\n<p>Alternatively, you could make <code>out</code> a parameter of your function, binding to <code>std::cout</code> by default:</p>\n<pre><code>ostream&amp; expand(int value, ostream&amp; out = std::cout)\n{\n    out &lt;&lt; \"\";\n    // ...\n}\n</code></pre>\n<p>This way, clients can call <code>expand()</code> and let it output to a specified stream (e.g. an <code>std::ostringstream</code> or an <code>std::ofstream</code>), or to the standard output if no stream is specified.</p>\n", "OwnerUserId": "1932150", "PostTypeId": "2", "Id": "15783431", "Score": "8", "CreationDate": "2013-04-03T09:21:48.940", "LastActivityDate": "2013-04-03T09:21:48.940"}, "15783419": {"ParentId": "15783380", "CommentCount": "0", "Body": "<pre><code>ostream   &amp;out; // Error\n</code></pre>\n<p>You must initialize <code>out</code> by an object. Because references always must refer to something.</p>\n<pre><code>ostream   &amp;out = cout;\n</code></pre>\n", "OwnerUserId": "952747", "PostTypeId": "2", "Id": "15783419", "Score": "2", "CreationDate": "2013-04-03T09:21:23.240", "LastActivityDate": "2013-04-03T09:21:23.240"}, "bq_ids": {"n4140": {"so_15783380_15783431_0": {"section_id": 3317, "quality": 0.9230769230769231, "length": 12}}, "n3337": {"so_15783380_15783431_0": {"section_id": 3187, "quality": 0.9230769230769231, "length": 12}}, "n4659": {"so_15783380_15783431_0": {"section_id": 502, "quality": 0.5384615384615384, "length": 7}}}});