post_cb({"15647220": {"CommentCount": "4", "ViewCount": "600", "PostTypeId": "1", "LastEditorUserId": "2211796", "CreationDate": "2013-03-26T20:55:37.930", "LastActivityDate": "2013-03-26T21:28:45.527", "Title": "Bad input C vs C++ cin vs scanf", "LastEditDate": "2013-03-26T21:28:45.527", "Id": "15647220", "Score": "0", "Body": "<p>Im a total beginner in C and here is my problem. In C++ I would look for bad input(not unsigned int) this way:</p>\n<pre><code>long double c;\ncin &gt;&gt; c;\n\nif (c == (unsigned int) c) {\ncout&lt;&lt;\"OK\";    \n}\nelse\ncout&lt;&lt;\"NOT OK\";\n</code></pre>\n<p>However when now learning C I'm trying to do it the same way, but it does not work:</p>\n<pre><code>long double c;\nscanf(\"%lf\", &amp;c);\n\nif (c == (unsigned int) c) {\nprintf(\"OK\\n\");    \n}\nelse\nprintf(\"NOT OK\\n\");    \n</code></pre>\n<p>Any advice on how to fix it? My task is to do this by just using scanf and no strings. I don't want negative and float numbers to be inputted. Why doesnt this work?</p>\n", "Tags": "<c++><c><scanf><cin>", "OwnerUserId": "2211796", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_15647220_15647278_1": {"section_id": 6549, "quality": 0.6, "length": 6}}, "n3337": {"so_15647220_15647278_1": {"section_id": 6304, "quality": 0.6, "length": 6}}, "n4659": {"so_15647220_15647278_1": {"section_id": 8031, "quality": 0.6, "length": 6}}}, "15647278": {"ParentId": "15647220", "CommentCount": "12", "Body": "<p>The conversion directive <code>%lf</code> is for scanning <code>double</code>s.</p>\n<p>To scan <code>long double</code>s, use <code>%Lf</code>, with an upper case <code>L</code>.</p>\n<p>From the specification of <code>fscanf</code> (7.21.6.2)</p>\n<blockquote>\n<p id=\"so_15647220_15647278_0\"><strong>l</strong> (ell)  Specifies that a following d, i, o, u, x, X, or n conversion specifier applies\n  to an argument with type pointer to <code>long int</code> or <code>unsigned long int</code>; <strong>that a following a, A, e, E, f, F, g, or G conversion specifier applies to an argument with type pointer to <code>double</code></strong>; or that a following c, s, or [ conversion specifier applies to an argument with type pointer to <code>wchar_t</code>.</p>\n<p id=\"so_15647220_15647278_1\"><strong>L</strong> Specifies that a following a, A, e, E, f, F, g, or G conversion specifier applies to an argument with type pointer to <code>long double</code>.</p>\n</blockquote>\n", "OwnerUserId": "1011995", "PostTypeId": "2", "Id": "15647278", "Score": "4", "CreationDate": "2013-03-26T20:59:00.680", "LastActivityDate": "2013-03-26T20:59:00.680"}});