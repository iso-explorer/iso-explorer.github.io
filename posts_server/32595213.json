post_cb({"32595306": {"ParentId": "32595213", "PostTypeId": "2", "CommentCount": "2", "Body": "<p><code>ProductInfo</code> is a nested class in <code>TestClass</code> so you must keep the namespace here.</p>\n<pre><code>TestClass::ProductInfo TestClass::GetProdInfo()\n</code></pre>\n<p>The standard says:</p>\n<blockquote>\n<p id=\"so_32595213_32595306_0\"><strong>9.7 Nested class declarations</strong></p>\n<p id=\"so_32595213_32595306_1\">If class <em>X</em> is defined in a namespace scope, a nested class <em>Y</em> may be\n  declared in class X and later defined in the definition of class X or\n  be later defined in a namespace scope enclosing the definition of\n  class X.</p>\n<p id=\"so_32595213_32595306_2\"><strong>7.3.1 Namespace definition</strong></p>\n<p id=\"so_32595213_32595306_3\">The enclosing namespaces of a declaration are those namespaces in which the declaration lexically appears,\n  except for a redeclaration of a namespace member outside its original namespace (e.g., a definition as\n  specified in 7.3.1.2). Such a redeclaration has the same enclosing namespaces as the original declaration.</p>\n</blockquote>\n", "OwnerUserId": "1385931", "LastEditorUserId": "1385931", "LastEditDate": "2015-09-15T21:01:56.087", "Id": "32595306", "Score": "2", "CreationDate": "2015-09-15T20:45:57.937", "LastActivityDate": "2015-09-15T21:01:56.087"}, "32595213": {"CommentCount": "0", "ViewCount": "93", "CreationDate": "2015-09-15T20:39:20.473", "LastActivityDate": "2015-09-15T21:01:56.087", "Title": "Struct Causing Compile Error in C++ Class", "AcceptedAnswerId": "32595306", "PostTypeId": "1", "Id": "32595213", "Score": "0", "Body": "<p>I am getting errors compiling a C++ class, it relates to a Struct which is to be returned from a method. I have striped the code down to the minimum and still get the errors. I am using Visual Studio 6.0.</p>\n<p>Code </p>\n<pre><code>// TestClass.cpp: implementation of the TestClass class.\n//\n//////////////////////////////////////////////////////////////////////\n\n#include \"stdafx.h\"\n#include \"TestClass.h\"\n\n//////////////////////////////////////////////////////////////////////\n// Construction/Destruction\n//////////////////////////////////////////////////////////////////////\n\nTestClass::TestClass()\n{\n\n}\n\nTestClass::~TestClass()\n{\n\n}\n\nProductInfo TestClass::GetProdInfo()\n{\n    ProductInfo PI;\n\n    return PI;\n}\n\n// TestClass.h: interface for the TestClass class.\n//\n//////////////////////////////////////////////////////////////////////\n\n#if !defined(AFX_TestClass_H__081E411D_44F9_4E0B_9FE7_CF6F708BE769__INCLUDED_)\n#define AFX_TestClass_H__081E411D_44F9_4E0B_9FE7_CF6F708BE769__INCLUDED_\n\n#if _MSC_VER &gt; 1000\n#pragma once\n#endif // _MSC_VER &gt; 1000\n\nclass TestClass  \n{\npublic:\n    struct ProductInfo\n    {\n        char    cCode;\n        char    cItem[20];\n        long    lValue;\n    };\n\npublic:\n    TestClass();\n    virtual ~TestClass();\n\nprivate:\n    ProductInfo GetProdInfo();\n};\n\n#endif // !defined(AFX_TestClass_H__081E411D_44F9_4E0B_9FE7_CF6F708BE769__INCLUDED_)\n</code></pre>\n<p>Errors received</p>\n<pre><code>Compiling...\nTestClass.cpp\nC:\\Work\\TestStruct\\TestClass.cpp(22) : error C2143: syntax error : missing ';' before 'tag::id'\nC:\\Work\\TestStruct\\TestClass.cpp(22) : error C2501: 'ProductInfo' : missing storage-class or type specifiers\nC:\\Work\\TestStruct\\TestClass.cpp(22) : fatal error C1004: unexpected end of file found\nError executing cl.exe.\n\nTestStruct.exe - 3 error(s), 0 warning(s)\n</code></pre>\n<p>Any ideas why i am getting these errors?</p>\n<p>Thanks</p>\n", "Tags": "<c++><visual-c++><struct>", "OwnerUserId": "2637327", "AnswerCount": "2"}, "32595474": {"ParentId": "32595213", "CommentCount": "0", "Body": "<p>You must either un-nest your struct or change the return type of <code>GetProdInfo</code></p>\n<pre><code>TestClass::ProductInfo TestClass::GetProdInfo()\n{\n    ProductInfo PI;\n\n    return PI;\n}\n</code></pre>\n", "OwnerUserId": "4953079", "PostTypeId": "2", "Id": "32595474", "Score": "0", "CreationDate": "2015-09-15T20:56:28.630", "LastActivityDate": "2015-09-15T20:56:28.630"}, "bq_ids": {"n4140": {"so_32595213_32595306_1": {"section_id": 5927, "quality": 1.0, "length": 20}, "so_32595213_32595306_3": {"section_id": 5478, "quality": 0.8888888888888888, "length": 24}}, "n3337": {"so_32595213_32595306_1": {"section_id": 5699, "quality": 1.0, "length": 20}, "so_32595213_32595306_3": {"section_id": 5264, "quality": 0.8888888888888888, "length": 24}}, "n4659": {"so_32595213_32595306_1": {"section_id": 7401, "quality": 1.0, "length": 20}, "so_32595213_32595306_3": {"section_id": 6911, "quality": 0.8888888888888888, "length": 24}}}});