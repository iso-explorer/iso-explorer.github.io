post_cb({"40570715": {"Id": "40570715", "PostTypeId": "2", "Body": "<p>Change all the \n( Int X =X) to (X) \nIt is creating new variables and possibly returning old data stored in that location.</p>\n", "LastActivityDate": "2016-11-13T04:53:26.657", "Score": "-1", "CreationDate": "2016-11-13T04:53:26.657", "ParentId": "40570626", "CommentCount": "1", "OwnerUserId": "5087911"}, "40570731": {"Id": "40570731", "PostTypeId": "2", "Body": "<p>When you say <code>int X = X</code>, both X's refer to the same <code>int</code>. That is, the one you are declaring right there in that line. So you are initializing <code>X</code> with itself, which is undefined behavior, since it was (of course) not already initialized. The <code>X</code> that you initialized with 1 is never printed in your code, since it is declared in a parent scope and shadowed by the ones in the inner scopes.</p>\n", "LastActivityDate": "2016-11-13T04:57:10.293", "Score": "4", "CreationDate": "2016-11-13T04:57:10.293", "ParentId": "40570626", "CommentCount": "8", "OwnerUserId": "440119"}, "40570626": {"ViewCount": "65", "Body": "<p>I have following code:</p>\n<pre><code>int X = 1;\nif (int X = X)\n{\n    printf(\"%d\\n\", X);\n    if (int X = X)\n    {\n       printf(\"%d\\n\", X);\n    }\n}\n</code></pre>\n<p>My expectation is X should be 1, 1. However, the output is:</p>\n<pre><code>1818935350\n32767\n</code></pre>\n<p>Anyone know what's going on here? Compiled with clang-800.0.42.1</p>\n<p><strong>Edit:</strong> I tried the following code with a bit tweak, and now it behaves as I expected.</p>\n<pre><code>int X = 1;\nif (int Y = X)\n{\n    printf(\"%d\\n\", Y);\n    if (int Z = X)\n    {\n        printf(\"%d\\n\", Z);\n    }\n}\n</code></pre>\n<p>One guess is when you use variable on RHS of a declaration inside if statement, it might not refer to the variable with the same name declared at parent scope, instead it's referring to the variable that's being defined...</p>\n", "AcceptedAnswerId": "40570731", "Title": "Declaration in if statement weird behaviour (C++)", "CreationDate": "2016-11-13T04:38:07.467", "LastActivityDate": "2016-11-13T05:20:35.310", "CommentCount": "5", "LastEditDate": "2016-11-13T05:20:35.310", "PostTypeId": "1", "Tags": "<c++><clang++>", "Id": "40570626", "AnswerCount": "4", "Score": "0", "OwnerUserId": "7141285", "ClosedDate": "2016-11-13T09:08:15.927", "LastEditorUserId": "7141285"}, "bq_ids": {"n4140": {"so_40570626_40570691_1": {"length": 5, "quality": 0.7142857142857143, "section_id": 500}}, "n3337": {"so_40570626_40570691_1": {"length": 5, "quality": 0.7142857142857143, "section_id": 491}}, "n4659": {"so_40570626_40570691_1": {"length": 5, "quality": 0.7142857142857143, "section_id": 521}}}, "40570787": {"Id": "40570787", "PostTypeId": "2", "Body": "<p>what you're trying to do is a comparison, what you're doing is an assignment the code should be <code>if(x == y){ ... }</code> this will compare x and y. <code>if (int x = y)</code> assigns x to y.</p>\n", "LastActivityDate": "2016-11-13T05:07:14.910", "Score": "-1", "CreationDate": "2016-11-13T05:07:14.910", "ParentId": "40570626", "CommentCount": "0", "OwnerUserId": "1620438"}, "40570691": {"Id": "40570691", "PostTypeId": "2", "Body": "<p>In C, this <code>if (int X = X)</code> is plain wrong because the <code>if</code> statement expects a control expression - but NOT a declaration.</p>\n<blockquote>\n<p id=\"so_40570626_40570691_0\">6.8.4.1 The if statement</p>\n<p id=\"so_40570626_40570691_1\">The controlling expression of an if statement shall have scalar type.</p>\n</blockquote>\n<p>I'm not sure about <code>clang</code>, but <code>gcc</code> gives this code an obvious error (not a warning) even without any compiler flag (ie without <code>-Wall -Wextra</code>)</p>\n<blockquote>\n<p id=\"so_40570626_40570691_2\">error: expected expression before \u2018int\u2019</p>\n</blockquote>\n", "LastEditorUserId": "4975822", "LastActivityDate": "2016-11-13T04:49:32.727", "Score": "0", "CreationDate": "2016-11-13T04:48:19.883", "ParentId": "40570626", "CommentCount": "6", "LastEditDate": "2016-11-13T04:49:32.727", "OwnerUserId": "4975822"}});