post_cb({"44308216": {"CommentCount": "1", "ViewCount": "145", "CreationDate": "2017-06-01T12:59:02.323", "LastActivityDate": "2017-06-01T13:10:10.793", "Title": "Why am I getting redefinition of \u2018template<class T> if I use inline function in C++?", "AcceptedAnswerId": "44308332", "PostTypeId": "1", "Id": "44308216", "Score": "0", "Body": "<p>I have 2 header files that have identical content:</p>\n<pre><code>template&lt;typename T&gt; inline void func(){\n\n}\n</code></pre>\n<p>I include these 2 headers in a main.cpp file then I compile:</p>\n<pre><code>g++ main.cpp -o run\n</code></pre>\n<p>But I get:</p>\n<pre><code>In file included from main.cpp:2:0:\ntest2.cpp:1:34: error: redefinition of \u2018template&lt;class T&gt; void func()\u2019\n template&lt;typename T&gt; inline void func(){\n                                  ^\nIn file included from main.cpp:1:0:\ntest.cpp:1:34: error: \u2018template&lt;class T&gt; void func()\u2019 previously declared here\n template&lt;typename T&gt; inline void func(){\n</code></pre>\n<p>What am I getting this error if use inline function which can be redefined?</p>\n", "Tags": "<c++><templates><inline>", "OwnerUserId": "2671102", "AnswerCount": "3"}, "44308485": {"ParentId": "44308216", "CommentCount": "0", "Body": "<p>You're only allowed to define a function once in a translation unit. There's no exception for inline functions (they do get an exception for being defined in separate TUs that are linked together).</p>\n<p>What you should do is move the function definition to its own header file, which then gets included by the original 2 headers. Then you can put a header guard in the new file, so the function only gets defined the first time it's included.</p>\n", "OwnerUserId": "1491895", "PostTypeId": "2", "Id": "44308485", "Score": "0", "CreationDate": "2017-06-01T13:10:10.793", "LastActivityDate": "2017-06-01T13:10:10.793"}, "44308332": {"ParentId": "44308216", "CommentCount": "6", "Body": "<p>You missing a key piece.  The standard says in [basic.def.odr]/6 that</p>\n<blockquote>\n<p id=\"so_44308216_44308332_0\">There can be more than one definition of a class type (Clause 9), enumeration type (7.2), inline function with external linkage (7.1.2), class template (Clause 14), non-static function template (14.5.6), static data member of a class template (14.5.1.3), member function of a class template (14.5.1.1), or template specialization for which some template parameters are not specified (14.7, 14.5.5) in a program <strong>provided that each definition appears in a different translation unit</strong>[...]</p>\n</blockquote>\n<p><sup>emphasis mine</sup></p>\n<p>So, you're allowed to have have multiple definitions of the inline function, but those definitions need to be in separate translation units(basically source files).  Since they are in the same translation unit, they are violating that and you get an error.</p>\n", "OwnerUserId": "4342498", "PostTypeId": "2", "Id": "44308332", "Score": "5", "CreationDate": "2017-06-01T13:03:37.930", "LastActivityDate": "2017-06-01T13:03:37.930"}, "44308328": {"ParentId": "44308216", "CommentCount": "0", "Body": "<p>Because of <a href=\"https://en.wikipedia.org/wiki/One_Definition_Rule\" rel=\"nofollow noreferrer\">One Definition Rule (ODR)</a>.</p>\n<blockquote>\n<p id=\"so_44308216_44308328_0\">In any translation unit, a template, type, function, or object can\n  have no more than one definition. Some of these can have any number of\n  declarations. A definition provides an instance.</p>\n</blockquote>\n", "OwnerUserId": "312896", "PostTypeId": "2", "Id": "44308328", "Score": "0", "CreationDate": "2017-06-01T13:03:28.023", "LastActivityDate": "2017-06-01T13:03:28.023"}, "bq_ids": {"n4140": {"so_44308216_44308332_0": {"section_id": 7043, "quality": 0.8775510204081632, "length": 43}}, "n3337": {"so_44308216_44308332_0": {"section_id": 6788, "quality": 0.8775510204081632, "length": 43}}, "n4659": {"so_44308216_44308332_0": {"section_id": 8540, "quality": 0.8775510204081632, "length": 43}}}});