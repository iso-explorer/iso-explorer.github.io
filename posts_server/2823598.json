post_cb({"2823598": {"CommentCount": "0", "ViewCount": "313", "CreationDate": "2010-05-12T23:54:26.940", "LastActivityDate": "2010-05-13T00:04:57.537", "Title": "Assigning a pointer variable to a const int in C++?", "FavoriteCount": "1", "PostTypeId": "1", "Id": "2823598", "Score": "9", "Body": "<p>I'm wondering if anyone can explain the following to me:  If I write</p>\n<pre><code>int i = 0;\nfloat* pf = i;\n</code></pre>\n<p>I get a compile error (gcc 4.2.1):</p>\n<pre><code>error: invalid conversion from \u2018int\u2019 to \u2018float*\u2019\n</code></pre>\n<p>Makes sense - they are obviously two completely different types.  But if instead I write</p>\n<pre><code>const int i = 0;\nfloat* pf = i;\n</code></pre>\n<p>It compiles without error.  Why should the 'const' make a difference on the right hand side of the assignment?  Isn't part of the idea of the 'const' keyword to be able to enforce type constraints for constant values?</p>\n<p>Any explanation I have been able to come up with feels kind of bogus.  And none of my explanations also explain the fact that</p>\n<pre><code>const int i = 1;\nfloat* pf = i;\n</code></pre>\n<p>fails to compile.  Can anyone offer an explanation?</p>\n", "Tags": "<c++><pointers><const>", "OwnerUserId": "322544", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_2823598_2823624_0": {"section_id": 39, "quality": 0.6666666666666666, "length": 22}}, "n3337": {"so_2823598_2823624_0": {"section_id": 36, "quality": 0.8181818181818182, "length": 27}}, "n4659": {"so_2823598_2823624_0": {"section_id": 39, "quality": 0.6666666666666666, "length": 22}}}, "2823624": {"ParentId": "2823598", "CommentCount": "0", "Body": "<p>Your second example simply happens to be covered by the conversion rules as specified in <em>\u00a74.10/1</em> (C++03):</p>\n<blockquote>\n<p id=\"so_2823598_2823624_0\">A null pointer constant is an integral constant expression (5.19) rvalue of integer type that evaluates to zero. A null pointer constant can be converted to a pointer type; the result is the null pointer value of that type and is distinguishable from every other value of pointer to object or pointer to function type.</p>\n</blockquote>\n", "OwnerUserId": "168225", "PostTypeId": "2", "Id": "2823624", "Score": "10", "CreationDate": "2010-05-13T00:00:55.720", "LastActivityDate": "2010-05-13T00:00:55.720"}});