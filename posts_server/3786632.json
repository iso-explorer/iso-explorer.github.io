post_cb({"bq_ids": {"n4140": {"so_3786632_3786632_0": {"length": 11, "quality": 0.9166666666666666, "section_id": 3228}}, "n3337": {"so_3786632_3786632_0": {"length": 11, "quality": 0.9166666666666666, "section_id": 3101}}, "n4659": {"so_3786632_3786632_0": {"length": 11, "quality": 0.9166666666666666, "section_id": 3985}}}, "3786784": {"Id": "3786784", "PostTypeId": "2", "Body": "<p>It seems like this language feature is invented in order to allow the array to be initialized later in the source file. If I make <code>c</code> non-static, then at least on Visual Studio 2010 it fails to compile, saying that the length of <code>c</code> has been fixed at 0, and member redeclaration is not allowed.</p>\n<pre><code>// header file\nstruct S\n{\n    static char c[];\n    static size_t len;\n};\nextern S s;\n\n// source file\nchar S::c[] = \"haha\";\nsize_t S::len = (sizeof(S::c) / sizeof(S::c[0])) - 1;\n</code></pre>\n", "LastActivityDate": "2010-09-24T11:56:12.917", "Score": "0", "CreationDate": "2010-09-24T11:56:12.917", "ParentId": "3786632", "CommentCount": "0", "OwnerUserId": "377657"}, "3788058": {"Id": "3788058", "PostTypeId": "2", "Body": "<p>You've said the code you posted will compile in VS10.  Turn off language extensions, and then it won't.  Project&gt;Properties&gt;C/C++&gt;Language&gt;Disable Language Extensions = Yes.  This is compiling because you are using a MS-specific extension to the C++ language.  </p>\n<p>In short, according to the standard, your code should not compile.</p>\n", "LastActivityDate": "2010-09-24T14:30:36.340", "Score": "3", "CreationDate": "2010-09-24T14:30:36.340", "ParentId": "3786632", "CommentCount": "2", "OwnerUserId": "241536"}, "3786632": {"ViewCount": "392", "Body": "<p>I've got confused by the fact that this code works:</p>\n<pre><code>struct S\n{\n  char c[];\n};\nS s;\n</code></pre>\n<p>According to C++ standard, chapter 8.3.4:</p>\n<blockquote>\n<p id=\"so_3786632_3786632_0\">\"If the constant\n  expression is omitted, the type of the\n  identifier of D is\n  \u201cderived-declarator-type-list array of\n  unknown bound of T\u201d, an incomplete\n  object type.\"</p>\n</blockquote>\n<p>But I cannot figure out how \"incomplete object type\" becomes complete.</p>\n<p>Thanks for help!</p>\n", "AcceptedAnswerId": "3788058", "Title": "C++ standard - how \"array of unknown bound of T\" is treated", "CreationDate": "2010-09-24T11:33:35.473", "Id": "3786632", "CommentCount": "6", "LastEditDate": "2010-09-24T11:44:10.870", "PostTypeId": "1", "LastEditorUserId": "457223", "LastActivityDate": "2010-09-24T14:30:36.340", "Score": "4", "OwnerUserId": "457223", "Tags": "<c++><arrays><standards>", "AnswerCount": "2"}});