post_cb({"1806022": {"CommentCount": "0", "ViewCount": "250", "CreationDate": "2009-11-26T22:53:12.247", "LastActivityDate": "2009-11-26T23:21:08.237", "Title": "Is this code legal in C++", "AcceptedAnswerId": "1806038", "PostTypeId": "1", "Id": "1806022", "Score": "4", "Body": "<p>I just found that when it comes to templates this code compiles in g++ 3.4.2 and works unless m() is not called:</p>\n<pre><code>template &lt;typename T&gt;\nclass C\n{\n     T e;\n\n     public:\n        C(): e(0) {};\n\n    void m()\n    {\n        e = 0;\n    };\n };\n</code></pre>\n<p>Now one may create and use instance</p>\n<pre><code>C&lt;const int&gt; c;\n</code></pre>\n<p>Until <code>c.m()</code> is not called there are no compile errors but is this legal?</p>\n", "Tags": "<c++><templates><const><const-correctness>", "OwnerUserId": "205955", "AnswerCount": "1"}, "1806038": {"ParentId": "1806022", "PostTypeId": "2", "CommentCount": "6", "Body": "<p>Yes, this is legal.  The template specification is that until a method is instantiated, it doesn't exist and therefor is not checked by the compiler.  Here's the relevant bit from <a href=\"http://www.kuzbass.ru:8086/docs/isocpp/template.html\" rel=\"nofollow noreferrer\">the spec</a>:</p>\n<blockquote>\n<p id=\"so_1806022_1806038_0\"><b>14.7.1 - Implicit instantiation</b></p>\n<p id=\"so_1806022_1806038_1\">-9- An implementation shall not implicitly instantiate a function\n  template, a member template, a\n  non-virtual member function, a member\n  class or a static data member of a\n  class template that does not require\n  instantiation.</p>\n</blockquote>\n", "OwnerUserId": "13097", "LastEditorUserId": "13097", "LastEditDate": "2009-11-26T23:21:08.237", "Id": "1806038", "Score": "11", "CreationDate": "2009-11-26T23:00:20.120", "LastActivityDate": "2009-11-26T23:21:08.237"}, "bq_ids": {"n4140": {"so_1806022_1806038_1": {"section_id": 243, "quality": 1.0, "length": 20}}, "n3337": {"so_1806022_1806038_1": {"section_id": 235, "quality": 1.0, "length": 20}}, "n4659": {"so_1806022_1806038_1": {"section_id": 250, "quality": 0.9, "length": 18}}}});