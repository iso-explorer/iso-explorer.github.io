post_cb({"27563466": {"ParentId": "27563431", "PostTypeId": "2", "CommentCount": "0", "CreationDate": "2014-12-19T09:53:54.703", "Score": "13", "LastEditorUserId": "981959", "LastEditDate": "2014-12-19T09:59:26.567", "Id": "27563466", "OwnerUserId": "981959", "Body": "<blockquote>\n<p id=\"so_27563431_27563466_0\">Can the compiler therefore reject the program and not generate an executable?</p>\n</blockquote>\n<p>Yes.  The definition of undefined behaviour is:</p>\n<blockquote>\n<p id=\"so_27563431_27563466_1\">behavior for which this International Standard imposes no requirements\n  <em>[ Note:</em> Undefined behavior may be expected when this International Standard omits any explicit definition of behavior or when a program uses an erroneous construct or erroneous data. Permissible undefined behavior\n  ranges from ignoring the situation completely with unpredictable results, to behaving during translation or program execution in a documented manner characteristic of the environment (with or without the issuance of a diagnostic message), <strong>to terminating a translation or execution (with the issuance of a diagnostic message).</strong> Many erroneous program constructs do not engender undefined behavior; they are required to be diagnosed. <em>\u2014 end note ]</em></p>\n</blockquote>\n", "LastActivityDate": "2014-12-19T09:59:26.567"}, "27563431": {"CommentCount": "7", "AcceptedAnswerId": "27563466", "PostTypeId": "1", "LastEditorUserId": "-1", "CreationDate": "2014-12-19T09:51:44.573", "LastActivityDate": "2014-12-19T15:53:33.313", "LastEditDate": "2017-05-23T12:09:03.000", "ViewCount": "218", "FavoriteCount": "1", "Title": "Can guaranteed UB be rejected at compile-time?", "Id": "27563431", "Score": "6", "Body": "<p>Consider this program:</p>\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(void)\n{\n    int x;\n    while ( 1 == scanf(\"%d\", &amp;x) )\n        printf(\"%c\\n\", \"hello\"[x]);\n}\n</code></pre>\n<p>The compiler must compile this successfully because the program has no UB so long as the user does not enter any numbers outside the range <code>0</code>-<code>4</code>.</p>\n<p>However, according to <a href=\"https://stackoverflow.com/questions/23153445/can-branches-with-undefined-behavior-be-assumed-unreachable-and-optimized-as-dea\">this thread</a> UB can travel back in time. Now consider this program:</p>\n<pre><code>int main(void)\n{ \n    printf(\"hello\\n\");\n    \"hello\"[6];\n}\n</code></pre>\n<p>Any invocation of this program results in undefined behaviour, and since that can time-travel, the entire behaviour of this program on any invocation is undefined.  Can the compiler therefore reject the program and not generate an executable?  (We might say that the UB travels back in time to the compilation stage!)</p>\n", "Tags": "<c++><c><language-lawyer><undefined-behavior>", "OwnerUserId": "1505939", "AnswerCount": "2"}, "bq_ids": {"n4140": {"so_27563431_27563466_1": {"section_id": 5768, "quality": 0.9166666666666666, "length": 55}}, "n3337": {"so_27563431_27563466_1": {"section_id": 5541, "quality": 0.9166666666666666, "length": 55}}, "n4659": {"so_27563431_27563466_1": {"section_id": 7225, "quality": 0.9166666666666666, "length": 55}}}, "27569477": {"ParentId": "27563431", "CommentCount": "0", "CreationDate": "2014-12-19T15:53:33.313", "OwnerUserId": "1119701", "PostTypeId": "2", "Id": "27569477", "Score": "4", "Body": "<p>To add to Jonathan's answer.</p>\n<p>The second program invokes undefined behavior and a compiler has the right to stop the translation as undefined behavior is not bounded (c11, 3.4.3p1).</p>\n<p>The first program may invoke undefined behavior but the compiler cannot stop the translation as not all execution paths produce undefined behavior.</p>\n<p>In <a href=\"http://www.open-std.org/jtc1/sc22/wg14/docs/rr/dr_109.html\" rel=\"nofollow\">Defect Report #109</a>, C Committee says:</p>\n<blockquote>\n<p id=\"so_27563431_27569477_0\">Furthermore, if every possible execution of a given program would result in undefined behavior, the given program is not strictly conforming. \n  A conforming implementation must not fail to translate a strictly conforming program simply because some possible execution of that program would result in undefined behavior.</p>\n</blockquote>\n", "LastActivityDate": "2014-12-19T15:53:33.313"}});