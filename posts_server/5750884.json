post_cb({"bq_ids": {"n4140": {"so_5750884_5751016_3": {"length": 6, "quality": 1.0, "section_id": 6390}, "so_5750884_5751016_5": {"length": 4, "quality": 1.0, "section_id": 6421}, "so_5750884_5751016_8": {"length": 8, "quality": 0.8, "section_id": 6424}, "so_5750884_5751016_1": {"length": 10, "quality": 1.0, "section_id": 1971}, "so_5750884_5751016_4": {"length": 18, "quality": 1.0, "section_id": 6391}, "so_5750884_5751016_7": {"length": 8, "quality": 0.8888888888888888, "section_id": 6423}}, "n3337": {"so_5750884_5751016_3": {"length": 6, "quality": 1.0, "section_id": 6147}, "so_5750884_5751016_5": {"length": 4, "quality": 1.0, "section_id": 6178}, "so_5750884_5751016_8": {"length": 8, "quality": 0.8, "section_id": 6181}, "so_5750884_5751016_1": {"length": 10, "quality": 1.0, "section_id": 1960}, "so_5750884_5751016_4": {"length": 18, "quality": 1.0, "section_id": 6148}, "so_5750884_5751016_7": {"length": 8, "quality": 0.8888888888888888, "section_id": 6180}}, "n4659": {"so_5750884_5751016_3": {"length": 6, "quality": 1.0, "section_id": 7902}, "so_5750884_5751016_5": {"length": 4, "quality": 1.0, "section_id": 7933}, "so_5750884_5751016_8": {"length": 8, "quality": 0.8, "section_id": 7936}, "so_5750884_5751016_1": {"length": 10, "quality": 1.0, "section_id": 2242}, "so_5750884_5751016_4": {"length": 18, "quality": 1.0, "section_id": 7903}, "so_5750884_5751016_7": {"length": 8, "quality": 0.8888888888888888, "section_id": 7935}}}, "5750884": {"ViewCount": "1210", "Body": "<p>I am attempting to write the following character out in windows command prompt: \uff6d (U+FF6D).</p>\n<p>I am able to see the character get written out using WriteConsoleW. I am also able to see the character if i use WideCharToMultiByte using the CP_ACP code page (chcp returns 932: Japanese). However, when I attempt to use regular wcout on the same string which WriteConsoleW successfully prints, it chokes.</p>\n<p>When I execute setlocale(LC_ALL, \"\") it prints English_UnitedStates.1252 (the default code page that I had when I installed). </p>\n<p>Why is wcout failing when the others are succeeding?</p>\n<p><strong>Note: I rebooted the machine to change its system locale to Japan Japanese</strong></p>\n", "AcceptedAnswerId": "5751016", "Title": "wcout not writing wide character out to command prompt", "CreationDate": "2011-04-21T23:29:06.697", "Id": "5750884", "CommentCount": "2", "FavoriteCount": "1", "PostTypeId": "1", "LastEditDate": "2011-04-21T23:47:43.460", "LastEditorUserId": "12895", "LastActivityDate": "2011-04-21T23:54:05.080", "Score": "0", "OwnerUserId": "55913", "Tags": "<c++><windows><internationalization>", "AnswerCount": "2"}, "5751016": {"Id": "5751016", "PostTypeId": "2", "Body": "<p>The default locale for C++ iostreams is always the \"C\" locale. From the C++03 standard, \u00a727.4.2.3/4:</p>\n<blockquote>\n<p id=\"so_5750884_5751016_0\"><code>locale getloc() const;</code></p>\n<p id=\"so_5750884_5751016_1\">If no locale has been imbued, a copy of the global C++ locale, <code>locale()</code>, in effect at the time of construction.</p>\n</blockquote>\n<p>From \u00a722.1.1.2/1-2:</p>\n<blockquote>\n<p id=\"so_5750884_5751016_2\"><code>locale() throw();</code></p>\n<p id=\"so_5750884_5751016_3\">Default constructor: a snapshot of the current global locale.</p>\n<p id=\"so_5750884_5751016_4\">Constructs a copy of the argument last passed to <code>locale::global(locale&amp;)</code>, if it has been called; else, the resulting facets have virtual function semantics identical to those of <code>locale::classic()</code>.</p>\n</blockquote>\n<p>From \u00a722.1.1.5/4-6:</p>\n<blockquote>\n<p id=\"so_5750884_5751016_5\"><code>static const locale&amp; classic();</code></p>\n<p id=\"so_5750884_5751016_6\">The \"C\" locale.</p>\n<p id=\"so_5750884_5751016_7\">Returns: A locale that implements the classic \"C\" locale semantics, equivalent to the value <code>locale(\"C\")</code>.</p>\n<p id=\"so_5750884_5751016_8\">Notes: This locale, its facets, and their member functions, do not change with time.</p>\n</blockquote>\n<p>As <code>std::cout</code> and <code>std::wcout</code> have static storage duration, they are guaranteed to be initialized before <code>main</code> is called, and consequently will <em>always</em> have the \"C\" locale at application startup; i.e., there is no point early enough in execution that one can call <code>locale::global</code> and change the default locale for <code>std::cout</code> and <code>std::wcout</code>. Thus, you must always imbue the global streams yourself if you want to use a non-default code page.</p>\n", "LastActivityDate": "2011-04-21T23:54:05.080", "CommentCount": "1", "CreationDate": "2011-04-21T23:54:05.080", "ParentId": "5750884", "Score": "2", "OwnerUserId": "636019"}, "5750993": {"Id": "5750993", "PostTypeId": "2", "Body": "<p><code>wcout</code> is created <em>before</em> any code in <code>main</code> executes. By the time you call <code>setlocale</code>, <code>wcout</code> is already there, ready to do its thing. It makes no attempt at tracking subsequent changes you might make with <code>setlocale</code>, so it continues to use the default instead of whatever you set with <code>setlocale</code>.</p>\n", "LastActivityDate": "2011-04-21T23:49:40.600", "CommentCount": "2", "CreationDate": "2011-04-21T23:49:40.600", "ParentId": "5750884", "Score": "0", "OwnerUserId": "179910"}});