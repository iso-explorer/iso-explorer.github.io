post_cb({"8605362": {"CommentCount": "4", "AcceptedAnswerId": "8605554", "CreationDate": "2011-12-22T14:35:37.943", "LastActivityDate": "2011-12-22T15:01:23.727", "Title": "Does making a function inline affect its linkage?", "ViewCount": "436", "FavoriteCount": "4", "PostTypeId": "1", "Id": "8605362", "OwnerUserId": "1086635", "Body": "<p>If I make a function inline does it change its linkage to internal linkage? For example:\nI'm using or calling the inline function in two files:</p>\n<pre><code>file1.cpp\n\n//function definition\ninline void foo() {}\n</code></pre>\n<hr>\n<pre><code>file2.cpp\n//function definition\ninline void foo() {}\n</code></pre>\n<p>Why do I need to define the inline function in each file to be able to call it? I'm getting an internal linkage? What if I use <code>static inline</code>?</p>\n</hr>", "Tags": "<c++><function><inline><linkage>", "Score": "6", "AnswerCount": "1"}, "bq_ids": {"n4659": {"so_8605362_8605554_0": {"section_id": 8540, "quality": 0.5555555555555556, "length": 5}}}, "8605554": {"ParentId": "8605362", "PostTypeId": "2", "CommentCount": "5", "Body": "<blockquote>\n<p id=\"so_8605362_8605554_0\">If I make a function inline does it change its linkage to internal linkage?</p>\n</blockquote>\n<p>No, making it inline does not change its linkage.</p>\n<blockquote>\n<p id=\"so_8605362_8605554_1\">Why do I need to define the inline function in each file to be able to call it?</p>\n</blockquote>\n<p>Because the language requires it. C++11 7.1.2/4 says \"An inline function shall be defined in every translation unit in which it is odr-used and shall have exactly\nthe same definition in every case.\"</p>\n<blockquote>\n<p id=\"so_8605362_8605554_2\">I'm getting an internal linkage?</p>\n</blockquote>\n<p>No, it still has external linkage: a pointer to the function will have the same value in any translation unit, and any static objects declared inside the function will be the same object in any translation unit.</p>\n<blockquote>\n<p id=\"so_8605362_8605554_3\">What if I use <code>static inline</code>?</p>\n</blockquote>\n<p>That will give internal linkage, due to the <code>static</code>. This means that definitions in separate translation units will produce separate functions, with different addresses and distinct copies of any static objects.</p>\n", "OwnerUserId": "204847", "LastEditorUserId": "204847", "LastEditDate": "2011-12-22T15:01:23.727", "Id": "8605554", "Score": "10", "CreationDate": "2011-12-22T14:51:09.297", "LastActivityDate": "2011-12-22T15:01:23.727"}});