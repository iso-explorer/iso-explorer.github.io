post_cb({"22430877": {"CommentCount": "0", "AcceptedAnswerId": "22430899", "PostTypeId": "1", "LastEditorUserId": "25324", "CreationDate": "2014-03-15T23:05:00.440", "LastActivityDate": "2014-03-15T23:13:22.683", "LastEditDate": "2014-03-15T23:09:19.260", "ViewCount": "58", "FavoriteCount": "1", "Title": "Getting \"field has incomplete type\" even after adding forward reference", "Id": "22430877", "Score": "2", "Body": "<p>I'm still just learning c++ and trying sort out how to have two c++ classes store instance variables of each-other. I realize that you've got to add a forward reference to do this, but I think I must still be missing something here.</p>\n<pre><code>class B;\n\nclass A {\npublic:\n  B b;\n};\n\nclass B {\npublic:\n  A a;\n};\n</code></pre>\n<p>Trying to compile this gives the error:</p>\n<pre><code>temp.cpp:5:5: error: field 'b' has incomplete type\n   B b;\n     ^\n</code></pre>\n", "Tags": "<c++>", "OwnerUserId": "1864626", "AnswerCount": "2"}, "22430899": {"ParentId": "22430877", "PostTypeId": "2", "CommentCount": "0", "CreationDate": "2014-03-15T23:06:55.987", "Score": "4", "LastEditorUserId": "951757", "LastEditDate": "2014-03-15T23:13:22.683", "Id": "22430899", "OwnerUserId": "951757", "Body": "<p>When you use a type as member, the type must complete. In your case, you want to use B,A inside each other which is not possible. </p>\n<p>But you could use pointer to resolve the issue:</p>\n<pre><code>class B;\n\nclass A {\npublic:\n  B* b;  // now b is a pointer which points to B type, incomplete type B is OK\n};\n</code></pre>\n<p><strong>\u00a7 3.9.5 Types</strong></p>\n<blockquote>\n<p id=\"so_22430877_22430899_0\">A class that has been declared but not defined, or an array of unknown size or of incomplete element type, is an incompletely-defined object type.43 Incompletely-defined object types and the void types are incomplete types (3.9.1). <strong>Objects shall not be defined to have an incomplete type.</strong></p>\n</blockquote>\n", "LastActivityDate": "2014-03-15T23:13:22.683"}, "22430906": {"ParentId": "22430877", "CommentCount": "0", "Body": "<p>You cannot do this. This is an infinite recursion: an instance of A has to include an instance (not a pointer!) of B, and an instance of B has to include an instance of A.</p>\n", "OwnerUserId": "1062250", "PostTypeId": "2", "Id": "22430906", "Score": "1", "CreationDate": "2014-03-15T23:07:33.567", "LastActivityDate": "2014-03-15T23:07:33.567"}, "bq_ids": {"n4140": {"so_22430877_22430899_0": {"section_id": 7203, "quality": 0.8888888888888888, "length": 24}}, "n3337": {"so_22430877_22430899_0": {"section_id": 6947, "quality": 0.9259259259259259, "length": 25}}, "n4659": {"so_22430877_22430899_0": {"section_id": 8712, "quality": 0.7407407407407407, "length": 20}}}});