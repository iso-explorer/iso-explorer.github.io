post_cb({"4699084": {"ViewCount": "2989", "Body": "<p>I have a static variable in the class.\nI am Initializing that in the global scope, its works fine.</p>\n<p>But\nWhen I try to Initialize in the main linker throws an error.\nWhy it so.</p>\n<pre><code>class Myclass{\n\n    static int iCount;\n} ;\n\nint main(){\n\n  int Myclass::iCount=1;\n\n}\n</code></pre>\n<p>And In global scope why I have to specify the variable type\nlike </p>\n<pre><code>int Myclass::iCount=1;\n</code></pre>\n<p>As In my class I am definig iCount as integer type why not.</p>\n<pre><code>   Myclass::iCount =1 ; in //Global scope\n</code></pre>\n", "AcceptedAnswerId": "4699110", "Title": "Initialization of static class variable inside the main", "CreationDate": "2011-01-15T10:27:02.847", "Id": "4699084", "CommentCount": "6", "FavoriteCount": "2", "PostTypeId": "1", "LastEditDate": "2011-01-15T10:37:27.030", "LastEditorUserId": "168986", "LastActivityDate": "2011-01-15T11:19:08.050", "Score": "5", "OwnerUserId": "430294", "Tags": "<c++><static><initialization>", "AnswerCount": "5"}, "4699110": {"Id": "4699110", "PostTypeId": "2", "Body": "<p>The section $9.4.2/7 from the C++ Standard says,</p>\n<blockquote>\n<p id=\"so_4699084_4699110_0\">Static data members are <strong>initialized</strong>\n  and destroyed <strong>exactly like non-local</strong>\n  objects (3.6.2, 3.6.3).</p>\n</blockquote>\n<p>Note the phrases <strong>\"initialized\"</strong> and <strong>\"exactly like non-local objects\"</strong>. Hope that explains why you cannot do that.</p>\n<p>In fact, static members are more like global objects accessed through <code>Myclass::iCount</code>. So, you've to initialize them at global scope (the same scope at which class is defined), like this:</p>\n<pre><code>class Myclass{\n\n    static int iCount;\n} ;\nint Myclass::iCount=1;\n\nint main(){\n  /*** use Myclass::iCount here ****/\n}\n</code></pre>\n<p>Similar topic:  </p>\n<p><a href=\"https://stackoverflow.com/questions/4640989/how-do-static-member-variables-affect-object-size/4640999#4640999\">How do static member variables affect object size?</a></p>\n", "LastEditorUserId": "-1", "LastActivityDate": "2011-01-15T11:19:08.050", "Score": "5", "CreationDate": "2011-01-15T10:34:03.500", "ParentId": "4699084", "CommentCount": "0", "OwnerUserId": "415784", "LastEditDate": "2017-05-23T12:02:11.540"}, "4699188": {"Id": "4699188", "PostTypeId": "2", "Body": "<p>From C++ standard (\u00a78.5/10): </p>\n<p><code>An initializer for a static member is in the scope of the member\u2019s class.</code> </p>\n<p>class <code>Myclass</code> has global scope and you tried to initialize its static member in the narrower scope - of the function <code>main</code>.</p>\n", "LastActivityDate": "2011-01-15T10:55:22.480", "CommentCount": "0", "CreationDate": "2011-01-15T10:55:22.480", "ParentId": "4699084", "Score": "2", "OwnerUserId": "404421"}, "4699100": {"Id": "4699100", "PostTypeId": "2", "Body": "<p>Because C++ syntax doesn't allow this. You need to instantiate your static variable outside of the scope of some function.</p>\n<p>Besides you forget a semicolon <code>;</code> after your class ending bracket.</p>\n", "LastActivityDate": "2011-01-15T10:30:59.910", "CommentCount": "0", "CreationDate": "2011-01-15T10:30:59.910", "ParentId": "4699084", "Score": "3", "OwnerUserId": "300805"}, "bq_ids": {"n4140": {"so_4699084_4699110_0": {"length": 8, "quality": 0.7272727272727273, "section_id": 5911}}, "n3337": {"so_4699084_4699110_0": {"length": 8, "quality": 0.7272727272727273, "section_id": 5683}}, "n4659": {"so_4699084_4699110_0": {"length": 8, "quality": 0.7272727272727273, "section_id": 7393}}}, "4699102": {"Id": "4699102", "PostTypeId": "2", "Body": "<p>this is the correct C++. Outside of a function, in a cpp file. the initialisation is done at the beginning/launching of the executable. ( even before calling main() );</p>\n<pre><code>//main.h\n\nclass Myclass{\n\n    static int iCount;\n}; // and don't forget this \";\" after a class declaration\n\n\n//main.cpp\n\nint Myclass::iCount=1;\n\nint main(){\n\n\n\n}\n</code></pre>\n", "LastEditorUserId": "356440", "LastActivityDate": "2011-01-15T11:14:21.503", "Score": "3", "CreationDate": "2011-01-15T10:31:32.253", "ParentId": "4699084", "CommentCount": "0", "OwnerUserId": "356440", "LastEditDate": "2011-01-15T11:14:21.503"}, "4699115": {"Id": "4699115", "PostTypeId": "2", "Body": "<p>The static initialisation occurs <em>before</em> main is called by the run-time initialisation.  </p>\n<p>Placing it within a function is not allowed because that is where <em>locally scoped</em> objects are declared.  It would be confusing and ambiguous to allow that.</p>\n", "LastActivityDate": "2011-01-15T10:35:27.950", "CommentCount": "0", "CreationDate": "2011-01-15T10:35:27.950", "ParentId": "4699084", "Score": "1", "OwnerUserId": "168986"}});