post_cb({"16370924": {"CommentCount": "6", "ViewCount": "113", "PostTypeId": "1", "LastEditorUserId": "153285", "CreationDate": "2013-05-04T05:32:50.823", "LastActivityDate": "2013-05-04T06:03:50.163", "Title": "cin does not flush cout when using stream iterators", "LastEditDate": "2013-05-04T05:59:02.683", "Id": "16370924", "Score": "-1", "Body": "<p>I am trying the following code,</p>\n<pre><code>#include&lt;iostream&gt;\n#include&lt;string&gt;\n#include&lt;iterator&gt;\nusing namespace std;\nostream_iterator&lt;string&gt; oo(cout);\nistream_iterator&lt;string&gt; ii(cin);\nistream_iterator&lt;string&gt; eos;\nint main()\n{\n    **oo = \"Some string ..\\n\";\n    string s1 = *ii;\n    cout &lt;&lt; s1; \n    return 0;\n}\n</code></pre>\n<p>It first asks for input, and then prints the output, opposite to what was expected.</p>\n<p>How come?</p>\n", "Tags": "<c++><stream>", "OwnerUserId": "2349014", "AnswerCount": "1"}, "16371110": {"ParentId": "16370924", "CommentCount": "0", "CreationDate": "2013-05-04T06:03:50.163", "OwnerUserId": "153285", "PostTypeId": "2", "Id": "16371110", "Score": "2", "Body": "<p>According to the Standard, C++11 \u00a724.6.1/1,</p>\n<blockquote>\n<p id=\"so_16370924_16371110_0\">After it is constructed, and every time ++ is used, the iterator reads and stores a value of T.</p>\n</blockquote>\n<p>So it's actually prompting you for input before <code>main</code> is entered, when the global variable is initialized. Moving the declaration of <code>ii</code> to the second line of <code>main</code> fixes the problem.</p>\n", "LastActivityDate": "2013-05-04T06:03:50.163"}, "bq_ids": {"n4140": {"so_16370924_16371110_0": {"section_id": 5694, "quality": 1.0, "length": 8}}, "n3337": {"so_16370924_16371110_0": {"section_id": 5477, "quality": 1.0, "length": 8}}, "n4659": {"so_16370924_16371110_0": {"section_id": 7139, "quality": 1.0, "length": 8}}}});