post_cb({"32490017": {"ParentId": "32489702", "CommentCount": "0", "CreationDate": "2015-09-09T22:18:14.923", "OwnerUserId": "1385931", "PostTypeId": "2", "Id": "32490017", "Score": "4", "Body": "<p>This is a bug in MSVC 2015. The C++ 11 documentation <code>\u00a77.1.5 4</code> says in a pretty clear manner:</p>\n<blockquote>\n<p id=\"so_32489702_32490017_0\"><strong>4. The definition of a constexpr constructor shall satisfy the following constraints</strong>:</p>\n<p id=\"so_32489702_32490017_1\"><em>4.1</em> the class shall not have any virtual base classes</p>\n<p id=\"so_32489702_32490017_2\"><em>4.2</em> each of the parameter types shall be a literal type</p>\n<p id=\"so_32489702_32490017_3\"><em>4.3</em> its function-body shall not be a function-try-block;</p>\n<p id=\"so_32489702_32490017_4\">In addition, either its function-body shall be = delete, or it shall satisfy the following constraints:</p>\n<p id=\"so_32489702_32490017_5\"><em>4.4</em> either its function-body shall be = default, or the compound-statement of its function-body shall satisfy the constraints for a function-body of a constexpr function;</p>\n<p id=\"so_32489702_32490017_6\"><em>4.5</em> every non-variant non-static data member and base class sub-object shall be initialized</p>\n<p id=\"so_32489702_32490017_7\"><em>4.6</em> if the class is a union having variant members (9.5), exactly one of them shall be initialized;</p>\n<p id=\"so_32489702_32490017_8\"><em>4.7</em> if the class is a union-like class, but is not a union, for each of its anonymous union members having variant members, exactly one of them shall be initialized;</p>\n<p id=\"so_32489702_32490017_9\"><em>4.8</em> for a non-delegating constructor, every constructor selected to initialize non-static data members and base class sub-objects shall be\n  a constexpr constructor;</p>\n<p id=\"so_32489702_32490017_10\"><em>4.9</em> for a delegating constructor, the target constructor shall be a constexpr constructor.</p>\n</blockquote>\n<p>Your class matches all criterias. <a href=\"http://goo.gl/IaZNDe\" rel=\"nofollow\">Clang</a> and <a href=\"http://goo.gl/Cfv5Ax\" rel=\"nofollow\">GCC</a> also accept your source so I would be surprised if I overlooked something.</p>\n", "LastActivityDate": "2015-09-09T22:18:14.923"}, "32489702": {"CommentCount": "3", "ViewCount": "360", "PostTypeId": "1", "LastEditorUserId": "2534689", "CreationDate": "2015-09-09T21:49:03.130", "LastActivityDate": "2015-09-10T08:09:59.753", "Title": "constexpr with delegating constructors", "AcceptedAnswerId": "32490017", "LastEditDate": "2015-09-10T08:09:59.753", "Id": "32489702", "Score": "1", "Body": "<p>I have to following code:</p>\n<pre><code>class IP4Address\n{\n    public:\n    constexpr IP4Address();\n    constexpr IP4Address(uint32_t a_IP, uint16_t a_Port);\n\n    private:\n    uint32_t m_IP;\n    uint16_t m_Port;\n};\n\nconstexpr IP4Address::IP4Address():\n    IP4Address(0, 0)\n{\n\n}\n\nconstexpr IP4Address::IP4Address(uint32_t a_IP, uint16_t a_Port):\n    m_IP(a_IP),\n    m_Port(a_Port)\n{\n\n}\n</code></pre>\n<p>Which results in the following errors (Visual Studio 2015):</p>\n<pre><code>error C2476: 'constexpr' constructor does not initialize all members\nnote: 'IP4Address::m_IP' was not initialized by the constructor\nnote: 'IP4Address::m_Port' was not initialized by the constructor\n</code></pre>\n<p>Is this invalid C++? Am I doing something wrong? Or is this possibly a compiler bug?</p>\n", "Tags": "<c++><visual-c++><visual-studio-2015>", "OwnerUserId": "2534689", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_32489702_32490017_10": {"section_id": 5420, "quality": 1.0, "length": 6}, "so_32489702_32490017_4": {"section_id": 5420, "quality": 1.0, "length": 8}, "so_32489702_32490017_9": {"section_id": 5420, "quality": 1.0, "length": 14}, "so_32489702_32490017_0": {"section_id": 5420, "quality": 0.8571428571428571, "length": 6}, "so_32489702_32490017_1": {"section_id": 369, "quality": 1.0, "length": 5}, "so_32489702_32490017_2": {"section_id": 5420, "quality": 1.0, "length": 5}, "so_32489702_32490017_7": {"section_id": 5420, "quality": 1.0, "length": 9}, "so_32489702_32490017_6": {"section_id": 5420, "quality": 1.0, "length": 9}, "so_32489702_32490017_5": {"section_id": 5420, "quality": 1.0, "length": 12}, "so_32489702_32490017_8": {"section_id": 5420, "quality": 1.0, "length": 17}}, "n3337": {"so_32489702_32490017_10": {"section_id": 360, "quality": 0.6666666666666666, "length": 4}, "so_32489702_32490017_1": {"section_id": 359, "quality": 1.0, "length": 5}, "so_32489702_32490017_4": {"section_id": 5215, "quality": 1.0, "length": 8}, "so_32489702_32490017_9": {"section_id": 5215, "quality": 0.7857142857142857, "length": 11}, "so_32489702_32490017_0": {"section_id": 5215, "quality": 0.8571428571428571, "length": 6}, "so_32489702_32490017_2": {"section_id": 5215, "quality": 1.0, "length": 5}, "so_32489702_32490017_6": {"section_id": 5215, "quality": 0.8888888888888888, "length": 8}, "so_32489702_32490017_5": {"section_id": 5215, "quality": 0.5833333333333334, "length": 7}}, "n4659": {"so_32489702_32490017_10": {"section_id": 6842, "quality": 1.0, "length": 6}, "so_32489702_32490017_4": {"section_id": 6842, "quality": 0.875, "length": 7}, "so_32489702_32490017_9": {"section_id": 6842, "quality": 1.0, "length": 14}, "so_32489702_32490017_0": {"section_id": 6842, "quality": 0.7142857142857143, "length": 5}, "so_32489702_32490017_1": {"section_id": 6842, "quality": 1.0, "length": 5}, "so_32489702_32490017_2": {"section_id": 6842, "quality": 1.0, "length": 5}, "so_32489702_32490017_7": {"section_id": 6842, "quality": 1.0, "length": 9}, "so_32489702_32490017_6": {"section_id": 6842, "quality": 1.0, "length": 9}, "so_32489702_32490017_5": {"section_id": 6842, "quality": 0.9166666666666666, "length": 11}, "so_32489702_32490017_8": {"section_id": 6842, "quality": 1.0, "length": 17}}}});