post_cb({"30200992": {"Id": "30200992", "PostTypeId": "2", "Body": "<p>[basic.start.term]/p1:</p>\n<blockquote>\n<p id=\"so_30200893_30200992_0\">Destructors for initialized objects with thread storage duration\n  within a given thread are called as a result of returning from the\n  initial function of that thread and as a result of that thread calling\n  <code>std::exit</code>. The completions of the destructors for all initialized\n  objects with thread storage duration within that thread are sequenced\n  before the initiation of the destructors of any object with static\n  storage duration.</p>\n</blockquote>\n", "LastActivityDate": "2015-05-12T20:40:01.640", "CommentCount": "0", "CreationDate": "2015-05-12T20:40:01.640", "ParentId": "30200893", "Score": "6", "OwnerUserId": "2756719"}, "bq_ids": {"n4140": {"so_30200893_30200992_0": {"length": 37, "quality": 0.9736842105263158, "section_id": 7156}}, "n3337": {"so_30200893_30200992_0": {"length": 37, "quality": 0.9736842105263158, "section_id": 6900}}, "n4659": {"so_30200893_30200992_0": {"length": 36, "quality": 0.9473684210526315, "section_id": 8662}}}, "30200893": {"ViewCount": "206", "Body": "<p>Consider how in c++ there are these two storage duration (among others): <a href=\"http://en.cppreference.com/w/cpp/language/storage_duration\" rel=\"nofollow\">static storage duration and thread storage duration.</a>.</p>\n<p>Next consider this code:</p>\n<pre><code>static MyClassA a;\nthread_local static MyClassB b;\n</code></pre>\n<p>Additional pretend that \"a\" and \"b\" might not be in the same compilation unit. I \"believe\" that the destructor of \"b\" will be called before \"a\" as the thread storage duration will terminate first and only after that is complete will the static storage duration terminate and call the destructor of \"a\". I've been looking for a standard reference to this but I have been unable to find one. Can someone confirm this specifically with an authoritative source?</p>\n", "AcceptedAnswerId": "30200992", "Title": "c++ static vs thread storage duration destruction order", "CreationDate": "2015-05-12T20:33:49.553", "Id": "30200893", "CommentCount": "0", "PostTypeId": "1", "LastActivityDate": "2015-05-12T20:40:01.640", "Score": "1", "OwnerUserId": "467472", "Tags": "<c++><multithreading><c++11><thread-local-storage><storage-duration>", "AnswerCount": "1"}});