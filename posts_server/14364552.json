post_cb({"14364552": {"CommentCount": "1", "AcceptedAnswerId": "14364612", "CreationDate": "2013-01-16T17:48:07.347", "LastActivityDate": "2013-01-16T18:00:05.270", "PostTypeId": "1", "ViewCount": "99", "FavoriteCount": "1", "Title": "decltype - \"the only context in which a variable defined as a reference is not treated as a synonym for the object to which it refers\"?", "Id": "14364552", "Score": "5", "Body": "<p>I'm reading C++ Primer, 5th Ed., where on p. 71 they first give this code example:</p>\n<pre><code>const int ci = 0, &amp;cj = ci;\ndecltype(ci) x = 0;\ndecltype(cj) y = x;\ndecltype(cj) z; //error\n</code></pre>\n<p>Then they say:</p>\n<blockquote>\n<p id=\"so_14364552_14364552_0\">It is worth noting that <code>decltype</code> is the only context in which a variable defined as a reference is not treated as a synonym for the object to which it refers.</p>\n</blockquote>\n<p>What do they mean by this? I don't get it. The <code>y</code> there refers to <code>x</code>. So what's the catch?</p>\n", "Tags": "<c++>", "OwnerUserId": "1859852", "AnswerCount": "1"}, "14364612": {"ParentId": "14364552", "PostTypeId": "2", "CommentCount": "2", "Body": "<p>I believe they're trying to say that <code>decltype(cj)</code> will not give you the type of the object that <code>cj</code> refers to (that is, <code>const int</code>) but will give you the type of <code>cj</code> itself. So <code>y</code> will be <code>const int&amp;</code>.</p>\n<p>The case to compare this to is when using the name of a reference in an expression. The standard says:</p>\n<blockquote>\n<p id=\"so_14364552_14364612_0\">If an expression initially has the type \u201creference to T\u201d (8.3.2, 8.5.3), the type is adjusted to T prior to any further analysis. The expression designates the object or function denoted by the reference, and the expression is an lvalue or an xvalue, depending on the expression.</p>\n</blockquote>\n<p>That is, when using the name of a reference in an expression, it is not the reference that is acted on but the object it refers to. This is what gives a reference type the functionality of an \"alias\".</p>\n", "OwnerUserId": "150634", "LastEditorUserId": "150634", "LastEditDate": "2013-01-16T18:00:05.270", "Id": "14364612", "Score": "9", "CreationDate": "2013-01-16T17:51:55.900", "LastActivityDate": "2013-01-16T18:00:05.270"}, "bq_ids": {"n4140": {"so_14364552_14364612_0": {"section_id": 5938, "quality": 0.8695652173913043, "length": 20}}, "n3337": {"so_14364552_14364612_0": {"section_id": 5710, "quality": 0.8695652173913043, "length": 20}}, "n4659": {"so_14364552_14364612_0": {"section_id": 7422, "quality": 0.8695652173913043, "length": 20}}}});