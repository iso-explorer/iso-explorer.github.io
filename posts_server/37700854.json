post_cb({"bq_ids": {"n4140": {"so_37700854_37700945_0": {"length": 20, "quality": 0.6666666666666666, "section_id": 3223}}, "n3337": {"so_37700854_37700945_0": {"length": 23, "quality": 0.7666666666666667, "section_id": 3097}}, "n4659": {"so_37700854_37700945_0": {"length": 20, "quality": 0.6666666666666666, "section_id": 3980}}}, "37700854": {"ViewCount": "669", "Body": "<p>I have the following typedef:</p>\n<pre><code>using int_ref = int&amp;&amp;;\n</code></pre>\n<p>Why does the following code not produce an error (or print <code>false</code>)?</p>\n<pre><code>std::cout &lt;&lt; is_same&lt; int_ref, int_ref&amp;&amp; &gt;::value; // prints 1\n</code></pre>\n<p>I would expect that <code>int_ref&amp;&amp;</code> gets expanded to <code>int&amp;&amp; &amp;&amp;</code> which is obviously not possible. Am I missing something?</p>\n", "AcceptedAnswerId": "37700945", "Title": "Why is adding a reference to a rvalue reference not an error?", "CreationDate": "2016-06-08T11:10:09.287", "Id": "37700854", "CommentCount": "0", "PostTypeId": "1", "LastActivityDate": "2016-06-08T11:20:28.157", "Score": "15", "OwnerUserId": "1608816", "Tags": "<c++><c++11>", "AnswerCount": "1"}, "37700945": {"Id": "37700945", "PostTypeId": "2", "Body": "<p>This is due to <a href=\"https://stackoverflow.com/questions/13725747/concise-explanation-of-reference-collapsing-rules-requested-1-a-a-2\">reference collapsing rules</a>.</p>\n<p>Basically, although you can't write a reference to a reference yourself, in some cases (typedefs, template parameters, decltypes) you can add create a reference to a reference type, which collapses as follows:</p>\n<pre><code>A&amp; &amp; -&gt; A&amp;\nA&amp; &amp;&amp; -&gt; A&amp;\nA&amp;&amp; &amp; -&gt; A&amp;\nA&amp;&amp; &amp;&amp; -&gt; A&amp;&amp;\n</code></pre>\n<p>In your case, <code>int_ref</code> is <code>int&amp;&amp;</code>, so <code>int&amp;&amp; &amp;&amp;</code> becomes <code>int&amp;&amp;</code>.</p>\n<hr>\n<p>The relevant standard quote:</p>\n<blockquote>\n<p id=\"so_37700854_37700945_0\"><code>(N3337) [dcl.ref]/6:</code> If a typedef (7.1.3), a type <em>template-parameter</em> (14.3.1), or a <em>decltype-specifier</em> (7.1.6.2) denotes a type <code>TR</code>\n  that is a reference to a type <code>T</code>, an attempt to create the type \u201clvalue reference to <em>cv</em> <code>TR</code>\u201dcreates the type\n  \u201clvalue reference to <code>T</code>\u201d , while an attempt to create the type \u201crvalue reference to <em>cv</em> <code>TR</code>\u201dcreates the type <code>TR</code>.</p>\n</blockquote>\n</hr>", "LastEditorUserId": "-1", "LastActivityDate": "2016-06-08T11:20:28.157", "Score": "28", "CreationDate": "2016-06-08T11:15:14.070", "ParentId": "37700854", "CommentCount": "3", "OwnerUserId": "496161", "LastEditDate": "2017-05-23T10:29:06.880"}});