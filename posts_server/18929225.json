post_cb({"18929285": {"ParentId": "18929225", "PostTypeId": "2", "CommentCount": "2", "CreationDate": "2013-09-21T05:31:57.620", "Id": "18929285", "LastEditDate": "2013-09-21T09:56:41.680", "OwnerDisplayName": "user405725", "Score": "8", "Body": "<p>This is perfectly valid. Here is what standard has to say about it: </p>\n<blockquote>\n<p id=\"so_18929225_18929285_0\">\u00a74.10 Pointer conversions</p>\n<blockquote>\n<p id=\"so_18929225_18929285_2\">2 An rvalue of type \"pointer to <em>cv</em> <code>T</code>,\" where <code>T</code> is an object \n        type, can be converted to an rvalue of type \"pointer to <em>cv</em>\n<code>void</code>.\" The result of converting a \"pointer to <em>cv</em> <code>T</code>\" to a \"pointer \n        to <em>cv</em> <code>void</code>\" points to the start of the storage location where the \n        object of type <code>T</code> resides, as if the object is a most derived \n        object (1.8) of type <code>T</code> (that is, not a base class subobject). </p>\n</blockquote>\n</blockquote>\n<p>which means you can convert your pointer to class to a void pointer. And ...</p>\n<blockquote>\n<p id=\"so_18929225_18929285_3\">\u00a75.2.9 Static cast </p>\n<blockquote>\n<p id=\"so_18929225_18929285_5\">10 An rvalue of type \"pointer to <em>cv</em> <code>void</code>\" can be explicitly \n        converted to a pointer to object type. A value of type pointer \n        to object converted to \"pointer to <em>cv</em> <code>void</code>\" and back to the \n        original pointer type will have its original value.</p>\n</blockquote>\n</blockquote>\n<p>which means you can use <code>static_cast</code> to convert a void pointer back to an original class pointer.</p>\n<p>Hope it helps. Good Luck!</p>\n", "LastActivityDate": "2013-09-21T09:56:41.680", "LastEditorUserId": "420683"}, "18929225": {"CommentCount": "6", "ViewCount": "16723", "PostTypeId": "1", "LastEditorUserId": "130278", "CreationDate": "2013-09-21T05:22:43.570", "LastActivityDate": "2014-09-11T13:00:02.367", "Title": "Casting Class Pointer to Void Pointer", "FavoriteCount": "4", "LastEditDate": "2013-09-21T05:40:11.800", "Id": "18929225", "Score": "7", "Body": "<p>How can I able to cast a class pointer to a generic pointer like void*? Like is this code valid?,</p>\n<pre><code>class CFoo\n{\n   int a;\npublic:\n   CFoo():a(1){}\n   ~CFoo(){}\n   getNum(){return a;}\n};\n\nvoid tfunc(void* data)\n{\n    CFoo* foo = static_cast&lt;CFoo*&gt;(data);\n    std::cout &lt;&lt; \"Number: \" &lt;&lt; foo-&gt;getNum();\n    delete foo;\n}\n\nint main()\n{\n   CFoo* foo = new CFoo;\n   void* dt = static_cast&lt;void*&gt;(foo);\n   tfunc(dt); // or tfunc(static_cast&lt;void*&gt;(food));\n\n   return 0;\n}\n</code></pre>\n", "Tags": "<c++><casting>", "OwnerUserId": "130278", "AnswerCount": "4"}, "18930441": {"ParentId": "18929225", "CommentCount": "0", "Body": "<pre><code>    CFoo* foo = new CFoo;\n    void* dt = (void*)foo;\n</code></pre>\n", "OwnerUserId": "2735643", "PostTypeId": "2", "Id": "18930441", "Score": "1", "CreationDate": "2013-09-21T08:15:36.673", "LastActivityDate": "2013-09-21T08:15:36.673"}, "25788142": {"ParentId": "18929225", "CommentCount": "0", "Body": "<p>In C++ you don't need the static cast to get <strong>to</strong> <code>void*</code>:</p>\n<pre><code>int main()\n{\n    CFoo* foo = new CFoo;\n    void* dt = foo;\n    tfunc(dt); // or tfunc(foo);\n\n    return 0;\n}\n</code></pre>\n<p>NB: your implementation of <code>tfunc()</code> is quite correct in that it <strong>does</strong> need the cast.</p>\n", "OwnerUserId": "4834", "PostTypeId": "2", "Id": "25788142", "Score": "4", "CreationDate": "2014-09-11T13:00:02.367", "LastActivityDate": "2014-09-11T13:00:02.367"}, "18929278": {"ParentId": "18929225", "CommentCount": "0", "Body": "<blockquote>\n<p id=\"so_18929225_18929278_0\">Is this valid? </p>\n</blockquote>\n<p>Yes, it is valid as per standard \u00a7 5.2.9.7</p>\n<blockquote>\n<p id=\"so_18929225_18929278_1\">A prvalue of type \u201cpointer to cv1 void\u201d can be converted to a prvalue of type \u201cpointer to cv2 T,\u201d where T is an object type and cv2 is the same cv-qualification as, or greater cv-qualification than, cv1. The null pointer value is converted to the null pointer value of the destination type. <strong>A value of type pointer to object converted to \u201cpointer to cv void\u201d and back, possibly with different cv-qualification, shall have its original value.</strong> [ Example:</p>\n</blockquote>\n<pre><code>T* p1 = new T;\nconst T* p2 = static_cast&lt;const T*&gt;(static_cast&lt;void*&gt;(p1));\nbool b = p1 == p2; // b will have the value true.\n</code></pre>\n", "OwnerUserId": "951757", "PostTypeId": "2", "Id": "18929278", "Score": "1", "CreationDate": "2013-09-21T05:30:38.260", "LastActivityDate": "2013-09-21T05:30:38.260"}, "bq_ids": {"n4140": {"so_18929225_18929285_5": {"section_id": 6039, "quality": 0.7692307692307693, "length": 20}, "so_18929225_18929278_1": {"section_id": 6039, "quality": 0.8723404255319149, "length": 41}, "so_18929225_18929285_4": {"section_id": 6039, "quality": 0.7692307692307693, "length": 20}}, "n3337": {"so_18929225_18929285_5": {"section_id": 5807, "quality": 0.7692307692307693, "length": 20}, "so_18929225_18929285_1": {"section_id": 37, "quality": 0.9117647058823529, "length": 31}, "so_18929225_18929285_4": {"section_id": 5807, "quality": 0.7692307692307693, "length": 20}, "so_18929225_18929285_2": {"section_id": 37, "quality": 0.9117647058823529, "length": 31}, "so_18929225_18929278_1": {"section_id": 5807, "quality": 0.8723404255319149, "length": 41}}, "n4659": {"so_18929225_18929285_5": {"section_id": 7548, "quality": 0.6923076923076923, "length": 18}, "so_18929225_18929278_1": {"section_id": 7536, "quality": 0.5531914893617021, "length": 26}, "so_18929225_18929285_4": {"section_id": 7548, "quality": 0.6923076923076923, "length": 18}}}});