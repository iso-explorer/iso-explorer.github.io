post_cb({"bq_ids": {"n4140": {"so_37738868_37738978_0": {"length": 31, "quality": 1.0, "section_id": 3327}}, "n3337": {"so_37738868_37738978_0": {"length": 29, "quality": 0.9354838709677419, "section_id": 3197}}, "n4659": {"so_37738868_37738978_0": {"length": 27, "quality": 0.8709677419354839, "section_id": 4093}}}, "37738978": {"Id": "37738978", "PostTypeId": "2", "Body": "<p>From [dcl.init.list]:</p>\n<blockquote>\n<p id=\"so_37738868_37738978_0\">An object of type <code>std::initializer_list&lt;E&gt;</code> is constructed from an initializer list as if the implementation\n  allocated a temporary array of <code>N</code> elements of type <code>const E</code>, where <code>N</code> is the number of elements in the\n  initializer list. Each element of that array is copy-initialized with the corresponding element of the initializer\n  list, and the <code>std::initializer_list&lt;E&gt;</code> object is constructed to refer to that array.</p>\n</blockquote>\n<p>That should answer both of your questions: copying the <code>initializer_list</code> doesn't copy the underlying elements, and the underlying elements are <code>const</code> so you cannot modify them. </p>\n<blockquote>\n<p id=\"so_37738868_37738978_1\">How can I fix it if I wish to change the value inside the <code>initializer_list</code>?</p>\n</blockquote>\n<p>Don't use an <code>initializer_list&lt;int&gt;</code>. Use an <code>array&lt;int, 3&gt;</code> or <code>vector&lt;int&gt;</code> or some other container. </p>\n", "LastActivityDate": "2016-06-10T02:23:09.720", "CommentCount": "0", "CreationDate": "2016-06-10T02:23:09.720", "ParentId": "37738868", "Score": "5", "OwnerUserId": "2069064"}, "37738868": {"ViewCount": "97", "Body": "<p>Does the C++ standard say that <code>std::initializer_list&lt;T&gt;</code> is a reference to a local anonymous array? If it says, then we should never return such an object. Any section in the standard say so?</p>\n<p>Another question, are the underlying objects of a <code>std::initializer_list&lt;T&gt;</code> mutable? I tried to modify it:</p>\n<pre><code>#include &lt;initializer_list&gt;\nint main()\n{\n    auto a1={1,2,3};\n    auto a2=a1;//copy or reference?\n    for(auto&amp; e:a1)\n        ++e;//error\n    for(auto&amp; e:a2)\n        cout&lt;&lt;e;\n    return 0;\n}\n</code></pre>\n<p>But compiled with error : error: increment of read-only reference 'e'</p>\n<p>How can I fix it if I wish to change the value inside the initializer_list?</p>\n", "AcceptedAnswerId": "37738978", "Title": "C++11: Does std::initializer_list store anonymous array? Is it mutable?", "CreationDate": "2016-06-10T02:06:50.483", "Id": "37738868", "CommentCount": "1", "LastEditDate": "2016-06-10T02:24:16.873", "PostTypeId": "1", "LastEditorUserId": "2069064", "LastActivityDate": "2016-06-10T02:24:16.873", "Score": "0", "OwnerUserId": "5890784", "Tags": "<arrays><c++11><mutable><initializer-list><anonymous>", "AnswerCount": "2"}, "37738917": {"Id": "37738917", "PostTypeId": "2", "Body": "<p>From the <a href=\"http://en.cppreference.com/w/cpp/utility/initializer_list\" rel=\"nofollow\">cppreference</a> article</p>\n<pre><code>Copying a std::initializer_list does not copy the underlying objects.\n</code></pre>\n", "LastActivityDate": "2016-06-10T02:14:51.230", "CommentCount": "0", "CreationDate": "2016-06-10T02:14:51.230", "ParentId": "37738868", "Score": "0", "OwnerUserId": "2981588"}});