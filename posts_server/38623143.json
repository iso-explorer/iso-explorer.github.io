post_cb({"38623312": {"Id": "38623312", "PostTypeId": "2", "Body": "<p>The standard specification on <code>[[noreturn]]</code> is in [dcl.attr.noreturn]. The entire normative texts reads:</p>\n<blockquote>\n<p id=\"so_38623143_38623312_0\">The <em>attribute-token</em> <code>noreturn</code> specifies that a function does not return. It shall appear at most once in\n  each <em>attribute-list</em> and no <em>attribute-argument-clause</em> shall be present. The attribute may be applied to\n  the <em>declarator-id</em> in a function declaration. The first declaration of a function shall specify the <code>noreturn</code>\n  attribute if any declaration of that function specifies the <code>noreturn</code> attribute. If a function is declared with\n  the <code>noreturn</code> attribute in one translation unit and the same function is declared without the <code>noreturn</code>\n  attribute in another translation unit, the program is ill-formed; no diagnostic required.  </p>\n<p id=\"so_38623143_38623312_1\">If a function <code>f</code> is called where <code>f</code> was previously declared with the <code>noreturn</code> attribute and <code>f</code> eventually returns,\n  the behavior is undefined.</p>\n</blockquote>\n<p>There is no mention of return <em>type</em>. The only thing that matters is that the function not return. If the function returns (whether <code>void</code> or <code>int</code> or <code>vector&lt;vector&lt;double&gt;&gt;</code>), then behavior is undefined. If the function doesn't return, the return type is immaterial.</p>\n", "LastActivityDate": "2016-07-27T21:15:19.140", "Score": "23", "CreationDate": "2016-07-27T21:15:19.140", "ParentId": "38623143", "CommentCount": "0", "OwnerUserId": "2069064"}, "bq_ids": {"n4140": {"so_38623143_38623322_0": {"length": 26, "quality": 0.7878787878787878, "section_id": 5541}, "so_38623143_38623312_0": {"length": 48, "quality": 0.9411764705882353, "section_id": 5540}, "so_38623143_38623312_1": {"length": 12, "quality": 1.0, "section_id": 5541}}, "n3337": {"so_38623143_38623312_1": {"length": 12, "quality": 1.0, "section_id": 5327}, "so_38623143_38623322_0": {"length": 26, "quality": 0.7878787878787878, "section_id": 5327}, "so_38623143_38623312_0": {"length": 48, "quality": 0.9411764705882353, "section_id": 5326}}, "n4659": {"so_38623143_38623312_1": {"length": 12, "quality": 1.0, "section_id": 6996}, "so_38623143_38623322_0": {"length": 26, "quality": 0.7878787878787878, "section_id": 6996}, "so_38623143_38623312_0": {"length": 48, "quality": 0.9411764705882353, "section_id": 6995}}}, "38623143": {"ViewCount": "847", "Body": "<p>I've never seen <a href=\"http://en.cppreference.com/w/cpp/language/attributes\">[[ noreturn ]]</a> used on non-void returning functions before.  </p>\n<p>Is the following well defined?  </p>\n<pre><code>[[ noreturn ]] int function();\n\nint function(){\n  while(true){/* impl */}\n  return 0;\n}\n</code></pre>\n<p>The reason the return type must be <code>int</code>, is because the function is passed to another function via a function pointer.  </p>\n<p>So assuming the caller looks something like this:  </p>\n<pre><code>//call the non-returning function\nint var = (*fptr)();\n\n//use var some way (even though the function will never actually return)\nstd::cout &lt;&lt; var;\n</code></pre>\n<p>will this exhibit any kind of undefined behavior?</p>\n", "AcceptedAnswerId": "38623312", "Title": "Can I use [[noreturn]] on non-void returning functions?", "CreationDate": "2016-07-27T21:03:26.287", "Id": "38623143", "CommentCount": "3", "FavoriteCount": "2", "PostTypeId": "1", "LastEditDate": "2016-07-28T08:03:18.527", "LastEditorUserId": "411022", "LastActivityDate": "2016-07-28T12:28:48.363", "Score": "18", "OwnerUserId": "908939", "Tags": "<c++><c++11><return><undefined-behavior><noreturn>", "AnswerCount": "2"}, "38623322": {"Id": "38623322", "PostTypeId": "2", "Body": "<p>From the C++ standard <em>\u00a77.6.8/p2 Noreturn attribute [dcl.attr.noreturn] (<strong>Emphasis Mine</strong>)</em>:</p>\n<blockquote>\n<p id=\"so_38623143_38623322_0\"><strong>If a function f is called where f was previously declared with the\n  noreturn attribute and f eventually returns, the behavior is\n  undefined.</strong> [ Note: The function may terminate by throwing an\n  exception. \u2014 end note ] [ Note: Implementations are encouraged to\n  issue a warning if a function marked [[noreturn]] might return. \u2014 end\n  note ]</p>\n</blockquote>\n<p>Since your function will never reach the <code>return 0;</code> there's no UB.</p>\n", "LastEditorUserId": "2352671", "LastActivityDate": "2016-07-28T12:28:48.363", "Score": "10", "CreationDate": "2016-07-27T21:15:47.870", "ParentId": "38623143", "CommentCount": "5", "LastEditDate": "2016-07-28T12:28:48.363", "OwnerUserId": "2352671"}});