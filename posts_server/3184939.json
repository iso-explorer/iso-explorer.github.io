post_cb({"3185008": {"Id": "3185008", "PostTypeId": "2", "Body": "<p>The standard explictly prohibits using local classes to instantiate templates in 14.3.1[temp.arg.type]/2.</p>\n<blockquote>\n<p id=\"so_3184939_3185008_0\">A local type, a type with no linkage, an unnamed type or a type compounded from any of these types shall not be used as a template-argument for a template type-parameter.</p>\n</blockquote>\n<p>This will be changed in C++0x.</p>\n", "LastActivityDate": "2010-07-06T09:26:39.560", "CommentCount": "3", "CreationDate": "2010-07-06T09:26:39.560", "ParentId": "3184939", "Score": "11", "OwnerUserId": "36565"}, "bq_ids": {"n4140": {"so_3184939_3185008_0": {"length": 8, "quality": 0.6666666666666666, "section_id": 7141}}, "n3337": {"so_3184939_3185008_0": {"length": 8, "quality": 0.6666666666666666, "section_id": 6885}}, "n4659": {"so_3184939_3185008_0": {"length": 8, "quality": 0.6666666666666666, "section_id": 8642}}}, "3184939": {"ViewCount": "2386", "Body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nint main()\n{\n    class Int {\n        public:\n            Int(int _i) : i(i) {}\n        private:\n            int i;\n    };\n\n    std::vector&lt;Int&gt; VI;\n}\n</code></pre>\n<p>I try to compile the above code and got the following error message:</p>\n<pre><code>foo.cc: In function 'int main()':\nfoo.cc:13: error: 'main()::Int' uses local type 'main()::Int'\nfoo.cc:13: error:   trying to instantiate 'template&lt;class _Alloc&gt; class std::allocator'\nfoo.cc:13: error: template argument 2 is invalid\nfoo.cc:13: error: invalid type in declaration before ';' token\n</code></pre>\n<p>Could anyone of you tell me why I can't do things like this in C++? Thanks in advance.</p>\n", "AcceptedAnswerId": "3185008", "Title": "why does creating a local type vector fail", "CreationDate": "2010-07-06T09:14:18.560", "Id": "3184939", "CommentCount": "1", "LastEditDate": "2011-02-22T12:32:21.500", "PostTypeId": "1", "LastEditorUserId": "316448", "LastActivityDate": "2011-02-22T12:32:21.500", "Score": "13", "OwnerUserId": "157300", "Tags": "<c++>", "AnswerCount": "1"}});