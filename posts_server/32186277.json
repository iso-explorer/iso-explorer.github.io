post_cb({"32186277": {"CommentCount": "0", "ViewCount": "68", "CreationDate": "2015-08-24T15:37:43.903", "LastActivityDate": "2015-08-24T15:40:15.060", "Title": "Modifying growing strategy using custom allocator", "AcceptedAnswerId": "32186340", "PostTypeId": "1", "Id": "32186277", "Score": "1", "Body": "<p>I am not a user of custom allocator, but I was wondering whether a custom allocator can be used to redefine the growing strategy. For example, in most implementations, a <code>std::vector</code> grows geometrically. Would it be possible to change this strategy for an arithmetic growth, like adding 10 elements everytime a reallocation is necessary. And if the answer if yes, then how to do that?</p>\n", "Tags": "<c++><c++11><vector><allocation><allocator>", "OwnerUserId": "882932", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_32186277_32186340_0": {"section_id": 987, "quality": 0.8181818181818182, "length": 9}}, "n3337": {"so_32186277_32186340_0": {"section_id": 972, "quality": 0.8181818181818182, "length": 9}}, "n4659": {"so_32186277_32186340_0": {"section_id": 1050, "quality": 0.8181818181818182, "length": 9}}}, "32186340": {"ParentId": "32186277", "CommentCount": "0", "Body": "<p>No. The reallocation strategy is defined by <code>vector</code>, not by the allocator it uses. The allocator is there only to provide the memory - it is up to the <code>vector</code> itself to tell it how much memory to provide. </p>\n<p>The standard mandates that <code>push_back</code> is amortized constant time. From [vector.modifiers]</p>\n<blockquote>\n<p id=\"so_32186277_32186340_0\">Complexity: The complexity is linear in the number of elements inserted plus the distance to the end\n  of the vector.</p>\n</blockquote>\n<p>Since <code>push_back</code> must be <code>O(1)</code>, the growth strategy of <code>vector</code> must not be arithmetic - otherwise we'd have linear-time insertion. </p>\n<p>To do what you want, you'd have to provide your own <code>vector</code>-like container and implement your own <code>push_back()</code> member function. </p>\n", "OwnerUserId": "2069064", "PostTypeId": "2", "Id": "32186340", "Score": "6", "CreationDate": "2015-08-24T15:40:15.060", "LastActivityDate": "2015-08-24T15:40:15.060"}});