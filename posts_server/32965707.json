post_cb({"bq_ids": {"n4140": {"so_32965707_32966693_0": {"length": 11, "quality": 1.0, "section_id": 5510}}, "n3337": {"so_32965707_32966693_0": {"length": 11, "quality": 1.0, "section_id": 5296}}, "n4659": {"so_32965707_32966693_0": {"length": 11, "quality": 1.0, "section_id": 6945}}}, "32965707": {"ViewCount": "526", "Body": "<p>I know that I the scope of the using directive is limited to a block or a function when put inside. Then it will apply only to that scope. But if the block is a <code>namespace</code> it apparantly applies through all blocks of the same namespace. Is that correct? At least, the following example suggests that: (<a href=\"http://ideone.com/K8dk7E\" rel=\"nofollow\">http://ideone.com/K8dk7E</a>)</p>\n<pre><code>namespace N1\n{\n    struct Foo{};\n}\n\nnamespace N2\n{\n    using namespace N1;\n    Foo f;\n}\n\nnamespace N2\n{\n    Foo f2;\n}\n\nint main()\n{\n    N2::f2;\n}\n</code></pre>\n<p>I had expected <code>Foo f2</code> to give an error, since <code>Foo</code> should be unknown.\nSo my real question is, is a <code>using</code> statement within a namespace block in effect for all blocks of the same namespace?</p>\n<p>This is causing issues when all cpp files are included and compiled together, as it is polluting the other cpp files, that should not have the other namespace included (the one for which the using directive is put). So, in effect it may cause undesirable conflicts.</p>\n", "AcceptedAnswerId": "32966693", "Title": "Scope of `using namespace` within another namespace", "CreationDate": "2015-10-06T08:55:39.113", "Id": "32965707", "CommentCount": "6", "LastEditDate": "2015-10-06T09:53:29.393", "PostTypeId": "1", "LastEditorUserId": "1025391", "LastActivityDate": "2015-10-06T14:43:18.467", "Score": "3", "OwnerUserId": "680031", "Tags": "<c++><scope><using-directives>", "AnswerCount": "3"}, "32966693": {"Id": "32966693", "PostTypeId": "2", "Body": "<p>The standard says that (7.3.4/2)</p>\n<blockquote>\n<p id=\"so_32965707_32966693_0\">A\n  using-directive\n  specifies that the names in the nominated namespace can be used in the scope in which the\n  using-directive\n  appears after the\n  using-directive\n  .</p>\n</blockquote>\n<pre><code>namespace A {  \\\nint i = 9;      | &lt;-- namespace A scope. \n}              /\n\nnamespace B {      \\\nusing namespace A;  | &lt;-- namespace B scope. \"i\" is visible after \nvoid bar()          |     the \"using namespace\" line.\n{                   |\n    i += 1; /*Ok*/  |     \n}                   |\n}                  /\n\nnamespace B {     \\\nvoid foo()         |\n{                  | &lt;-- still namespace B scope. \"i\" is still visible\n    i += 1; /*Ok*/ |\n}                  |\n}                 /\n</code></pre>\n<p>So stuff made visible with this using directive will be visible everywhere in A scope after the <code>using namespace B</code> line. Of course, if you do this in a header file, all the stuff will be visible everywhere where you include that header file, so you should not really use \"using namespace...\" anywhere in the headers.</p>\n", "LastEditorUserId": "1490355", "LastActivityDate": "2015-10-06T14:43:18.467", "Score": "5", "CreationDate": "2015-10-06T09:42:04.603", "ParentId": "32965707", "CommentCount": "2", "OwnerUserId": "1490355", "LastEditDate": "2015-10-06T14:43:18.467"}, "32966544": {"Id": "32966544", "PostTypeId": "2", "Body": "<blockquote>\n<p id=\"so_32965707_32966544_0\">Is a <code>using</code> statement within a namespace block in effect for all blocks of the same namespace?</p>\n</blockquote>\n<p>When the using directive is visible in the translation unit (is included), yes.</p>\n<p>The resulting pollution of the enclosing namespace is why you don't put these statements in header files for example, or avoid them generally/in namespace scope.</p>\n<p>For reference:</p>\n<ul>\n<li><a href=\"http://en.cppreference.com/w/cpp/language/namespace\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/language/namespace</a></li>\n<li><a href=\"http://en.cppreference.com/w/cpp/language/namespace#Using-directives\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/language/namespace#Using-directives</a></li>\n<li><a href=\"https://stackoverflow.com/q/1452721/1025391\">Why is \"using namespace std\" considered bad practice?</a></li>\n</ul>\n", "LastEditorUserId": "-1", "LastActivityDate": "2015-10-06T10:03:29.183", "Score": "1", "CreationDate": "2015-10-06T09:35:28.590", "ParentId": "32965707", "CommentCount": "0", "OwnerUserId": "1025391", "LastEditDate": "2017-05-23T12:06:40.590"}, "32965933": {"Id": "32965933", "PostTypeId": "2", "Body": "<p>I think as per namespace theory, you question is correct because this mechanism is used to putt names defined by a library into a single\nplace and it helps to avoid <em>inadvertent name clashes</em>.</p>\n", "LastActivityDate": "2015-10-06T09:07:03.307", "CommentCount": "0", "CreationDate": "2015-10-06T09:07:03.307", "ParentId": "32965707", "Score": "0", "OwnerUserId": "5411259"}});