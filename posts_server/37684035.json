post_cb({"37684098": {"ParentId": "37684035", "PostTypeId": "2", "CommentCount": "2", "CreationDate": "2016-06-07T15:58:43.760", "Score": "9", "LastEditorUserId": "3980929", "LastEditDate": "2016-06-07T16:03:59.663", "Id": "37684098", "OwnerUserId": "3980929", "Body": "<p>Yes, it is safe.</p>\n<p>From \u00a723.3.6.5:</p>\n<blockquote>\n<p id=\"so_37684035_37684098_0\">If <code>sz &lt;= size()</code>, equivalent to calling <code>pop_back()</code> <code>size() - sz</code> times. If <code>size() &lt; sz</code>, appends <code>sz - size()</code> default-inserted elements to the sequence.</p>\n</blockquote>\n<p>So basically, when you call <code>resize(0)</code>, it calls <code>pop_back()</code> until every element is removed from the vector.</p>\n<p>It doesn't matter that you moved <code>vec</code>, because even though the state of <code>vec</code> is unspecified, it is still a valid vector that you can modify.</p>\n<p>So, the <code>std::vector</code> will be empty after a call to <code>resize(0)</code>.</p>\n", "LastActivityDate": "2016-06-07T16:03:59.663"}, "37684262": {"ParentId": "37684035", "CommentCount": "9", "CreationDate": "2016-06-07T16:07:42.053", "OwnerUserId": "596781", "PostTypeId": "2", "Id": "37684262", "Score": "5", "Body": "<p>After having moved from an object, you can generally not make any assumptions about the object's state. That means that you can only call member functions that do not have any preconditions. Happily, <code>std::vector::resize</code> does not have value-dependent preconditions, so you can call <code>resize</code> on a moved-from vector.</p>\n", "LastActivityDate": "2016-06-07T16:07:42.053"}, "37684035": {"CommentCount": "1", "AcceptedAnswerId": "37684098", "PostTypeId": "1", "ClosedDate": "2016-06-07T16:06:52.420", "LastEditorUserId": "434551", "CreationDate": "2016-06-07T15:54:33.470", "LastActivityDate": "2016-06-07T16:11:32.217", "LastEditDate": "2016-06-07T16:11:32.217", "ViewCount": "284", "FavoriteCount": "1", "Title": "Is it safe to call vector.resize(0) after moving its content", "Id": "37684035", "Score": "11", "Body": "<p>In other words is the following code  sound(defined behavior,portable,...)</p>\n<pre><code>   std::vector&lt;int&gt; vec(100,42);\n   std::vector&lt;int&gt; other = std::move(vec);\n   vec.resize(0);//is this sound\n\n   //using vec like an empty vector\n</code></pre>\n", "Tags": "<c++><language-lawyer>", "OwnerUserId": "1235183", "AnswerCount": "2"}, "bq_ids": {"n4140": {"so_37684035_37684098_0": {"section_id": 810, "quality": 1.0, "length": 12}}, "n3337": {"so_37684035_37684098_0": {"section_id": 801, "quality": 0.5833333333333334, "length": 7}}, "n4659": {"so_37684035_37684098_0": {"section_id": 868, "quality": 0.5833333333333334, "length": 7}}}});