post_cb({"33768926": {"CommentCount": "0", "ViewCount": "328", "CreationDate": "2015-11-17T23:15:50.043", "LastActivityDate": "2015-11-17T23:30:27.577", "Title": "Does dereference return the object itself or the reference to the object?", "PostTypeId": "1", "Id": "33768926", "Score": "-2", "Body": "<p>Say I have <code>MyObj* ptr;</code>, and is <code>*ptr</code> a reference to some <code>MyObj</code> object, or is itself the object?</p>\n<p>If <code>*ptr</code> is the object itself, why is it legal to do the following then?</p>\n<pre><code>MyObj* someFunc(){\n  MyObj* p;\n  ...\n  return p;\n}\n\nMyObj someOtherMyObjInstance;\n*someFunc() = someOtherMyObjInstance. \n</code></pre>\n", "Tags": "<c++><pointers><reference><lvalue>", "OwnerUserId": "1229490", "AnswerCount": "2"}, "33768940": {"ParentId": "33768926", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>If <code>ptr</code> points to a valid object, then the evaluation of the expression <code>*ptr</code> results in an lvalue reference to the object.</p>\n<p>From the C++11 standard (emphasis mine):</p>\n<blockquote>\n<p id=\"so_33768926_33768940_0\"><strong>5.3.1 Unary operators</strong> [expr.unary.op]</p>\n<p id=\"so_33768926_33768940_1\">1 The unary * operator performs <em>indirection:</em> the expression to which it is applied shall be a pointer to an object type, or a pointer to a function type and <strong>the result is an lvalue referring to the object</strong> or function to which the expression points.</p>\n</blockquote>\n", "OwnerUserId": "434551", "LastEditorUserId": "434551", "LastEditDate": "2015-11-17T23:30:27.577", "Id": "33768940", "Score": "1", "CreationDate": "2015-11-17T23:17:20.807", "LastActivityDate": "2015-11-17T23:30:27.577"}, "33768995": {"ParentId": "33768926", "CommentCount": "0", "Body": "<p><code>*ptr</code> is an <em>expression</em>. This expression has a value, and that value has a type. If <code>ptr</code> is dereferenceable, then the value of the evaluated expression is the object that <code>ptr</code> points to, and its type is <code>MyObj</code>, and its value category is \"lvalue\". (This means, for example, that this value can bind to an lvalue reference, and that you can take its address.) If on the other hand <code>ptr</code> is not dereferenceable, then evaluating the expression results in undefined behaviour.</p>\n<p>The assignment at the end of your code is simply an assignment to the object that is the value of the dereferencing expression.</p>\n<p>Note that an expression can never <em>be</em> a reference, since the type of a value is always an object type, and never a reference type. Reference types are useful to <em>bind</em> to values, but they are not themselves values. The value of evaluating a reference is the object that's being referred to.</p>\n", "OwnerUserId": "596781", "PostTypeId": "2", "Id": "33768995", "Score": "1", "CreationDate": "2015-11-17T23:22:57.680", "LastActivityDate": "2015-11-17T23:22:57.680"}, "bq_ids": {"n4140": {"so_33768926_33768940_1": {"section_id": 6064, "quality": 0.9, "length": 18}}, "n3337": {"so_33768926_33768940_1": {"section_id": 5832, "quality": 0.9, "length": 18}}, "n4659": {"so_33768926_33768940_1": {"section_id": 7560, "quality": 0.9, "length": 18}}}});