post_cb({"42818378": {"ParentId": "42810223", "Score": "1", "CreationDate": "2017-03-15T18:53:13.407", "LastActivityDate": "2017-03-16T09:10:56.207", "LastEditDate": "2017-03-16T09:10:56.207", "OwnerUserId": "823617", "LastEditorUserId": "823617", "Body": "<blockquote>\n<p id=\"so_42810223_42818378_0\">DSO missing from command line</p>\n</blockquote>\n<p>This is usually a sign that you are missing some library from the linking phase. The error message is not very descriptive though.</p>\n<p>In this case <code>undefined reference to symbol 'dlclose'</code> gives a hint of which library is missing. In this case <code>dlclose</code> happens to be in <code>libdl</code>. So adding:</p>\n<pre><code>-ldl\n</code></pre>\n<p>...to linker options (<code>LIBS +=</code>) should get you closer to the solution.</p>\n", "Id": "42818378", "PostTypeId": "2", "CommentCount": "0"}, "42810223": {"Tags": "<c++><ruby><qt><embedded-ruby>", "ViewCount": "55", "LastEditDate": "2017-03-15T13:22:26.890", "CreationDate": "2017-03-15T12:47:29.307", "LastEditorUserId": "2436175", "Title": "Error on embedding ruby source on c++ program", "CommentCount": "3", "AcceptedAnswerId": "42818378", "Score": "1", "OwnerUserId": "5540104", "Id": "42810223", "LastActivityDate": "2017-03-16T09:10:56.207", "Body": "<p>I'm not very experienced in C ++ yet but I'm trying to embed the ruby 1.8 in a qt application, and what I did until it was to download the ruby source code and put it in a project subfolder called '3rdparty' and run <code>./configure</code> inside that folder and after <code>make</code> and now I'm getting the followings errors:</p>\n<blockquote>\n<p id=\"so_42810223_42810223_0\">:-1: error: /home/gabriel/dev/ruby-exps/embed-ruby-first-tries/3rdparty/ruby-1.8.7-p374//libruby-static.a(dln.o): undefined reference to symbol 'dlclose@@GLIBC_2.2.5'</p>\n<p id=\"so_42810223_42810223_1\">/lib/x86_64-linux-gnu/libdl.so.2:-1: error: error adding symbols: DSO\n  missing from command line</p>\n<p id=\"so_42810223_42810223_2\">:-1: error: collect2: error: ld returned 1 exit status</p>\n</blockquote>\n<p>My .pro file is like this:</p>\n<pre><code>QT += core\nQT -= gui\n\nCONFIG += c++11\n\nTARGET = embed-ruby-first-tries\nCONFIG += console\nCONFIG -= app_bundle\n\nTEMPLATE = app\n\nSOURCES += main.cpp\n\nwin32:CONFIG(release, debug|release): LIBS += -L$$PWD/3rdparty/ruby-1.8.7-p374/release/ -lruby-static\nelse:win32:CONFIG(debug, debug|release): LIBS += -L$$PWD/3rdparty/ruby-1.8.7-p374/debug/ -lruby-static\nelse:unix: LIBS += -L$$PWD/3rdparty/ruby-1.8.7-p374/ -lruby-static\n\nINCLUDEPATH += 3rdparty/ruby-1.8.7-p374\nDEPENDPATH += 3rdparty/ruby-1.8.7-p374\n\nwin32-g++:CONFIG(release, debug|release): PRE_TARGETDEPS += $$PWD/3rdparty/ruby-1.8.7-p374/release/libruby-static.a\nelse:win32-g++:CONFIG(debug, debug|release): PRE_TARGETDEPS += $$PWD/3rdparty/ruby-1.8.7-p374/debug/libruby-static.a\nelse:win32:!win32-g++:CONFIG(release, debug|release): PRE_TARGETDEPS += $$PWD/3rdparty/ruby-1.8.7-p374/release/ruby-static.lib\nelse:win32:!win32-g++:CONFIG(debug, debug|release): PRE_TARGETDEPS += $$PWD/3rdparty/ruby-1.8.7-p374/debug/ruby-static.lib\nelse:unix: PRE_TARGETDEPS += $$PWD/3rdparty/ruby-1.8.7-p374/libruby-static.a\n</code></pre>\n<p>And my main.cpp file is like this:</p>\n<pre><code>#include &lt;QDebug&gt;\n#include &lt;ruby.h&gt;\n\n\nint main(int argc, char *argv[])\n{\n   ruby_init();\n\n   return ruby_cleanup(0);\n}\n</code></pre>\n<p>I'm using qt 5.6 and ruby 1.8.7-p374 source, it'll be great if anyone tell me how I do to embed the ruby on a cpp program or at least help me understand what's going on.</p>\n", "PostTypeId": "1", "AnswerCount": "1"}, "bq_ids": {"n4659": {"so_42810223_42810223_2": {"length": 4, "section_id": 3213, "quality": 0.6666666666666666}}}});