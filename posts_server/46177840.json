post_cb({"46177840": {"CommentCount": "7", "ViewCount": "160", "CreationDate": "2017-09-12T13:32:47.190", "LastActivityDate": "2017-09-12T15:18:03.257", "Title": "STL vector with reverse and pop/push_back cost", "AcceptedAnswerId": "46179994", "PostTypeId": "1", "Id": "46177840", "Score": "4", "Body": "<p>I am not exactly good to come up with algorithm costs, so here I am asking.</p>\n<p>Here is a vector initially initialized with 1000 elements:</p>\n<pre><code>vector&lt;unsigned int&gt; mFreeIndexes(1000);\n</code></pre>\n<p>I will continuously pop_back/push_back elements to the vector, but never push_back over 1000 (so never force vector to reallocate).</p>\n<p>In this case will the pop_back/push_back operations be O(1) or O(n)?</p>\n", "Tags": "<c++><stl>", "OwnerUserId": "1933983", "AnswerCount": "1"}, "bq_ids": {"n4140": {"so_46177840_46179994_2": {"section_id": 986, "quality": 0.8888888888888888, "length": 8}}, "n3337": {"so_46177840_46179994_2": {"section_id": 971, "quality": 0.8888888888888888, "length": 8}}, "n4659": {"so_46177840_46179994_2": {"section_id": 1049, "quality": 0.8888888888888888, "length": 8}}}, "46179994": {"ParentId": "46177840", "PostTypeId": "2", "CommentCount": "3", "Body": "<p>From the C++ standard 23.3.7.5:</p>\n<blockquote>\n<p id=\"so_46177840_46179994_0\">void push_back(const T&amp; x);</p>\n<p id=\"so_46177840_46179994_1\">void push_back(T&amp;&amp; x);</p>\n<p id=\"so_46177840_46179994_2\">Remarks: Causes reallocation if the new size is greater than the old capacity (...)</p>\n</blockquote>\n<p>Note that it doesn't say that it can't reallocate in the other scenario but this would be a very unusual implementation of the standard. I think you can safely assume that <code>push_back</code> won't reallocate when there's still capacity.</p>\n<p>The thing with <code>pop_back</code> is a bit more complicated. The standard does not say anything about reallocation in the <code>pop_back</code> context. But it seems to be a common implementation (with no know exception) that <code>pop_back</code> does not reallocate. There are some guarantees though, see this:</p>\n<p><a href=\"https://stackoverflow.com/questions/23764785/can-pop-back-ever-reduce-the-capacity-of-a-vector-c\">Can pop_back() ever reduce the capacity of a vector? (C++)</a></p>\n<p>Anyway as long as you don't go over predefined size you are safe to assume that no reallocation happens and the complexity is indeed O(1).</p>\n", "OwnerUserId": "645551", "LastEditorUserId": "645551", "LastEditDate": "2017-09-12T15:18:03.257", "Id": "46179994", "Score": "3", "CreationDate": "2017-09-12T15:12:06.743", "LastActivityDate": "2017-09-12T15:18:03.257"}});