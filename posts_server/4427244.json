post_cb({"bq_ids": {"n4140": {"so_4427244_4427244_1": {"length": 7, "quality": 1.0, "section_id": 6679}, "so_4427244_4427244_0": {"length": 15, "quality": 0.8823529411764706, "section_id": 6679}}, "n3337": {"so_4427244_4427244_1": {"length": 7, "quality": 1.0, "section_id": 6434}, "so_4427244_4427244_0": {"length": 15, "quality": 0.8823529411764706, "section_id": 6434}}, "n4659": {"so_4427244_4427244_1": {"length": 7, "quality": 1.0, "section_id": 8154}, "so_4427244_4427244_0": {"length": 15, "quality": 0.8823529411764706, "section_id": 8154}}}, "4427292": {"Id": "4427292", "PostTypeId": "2", "Body": "<p>I'm not sure why you think it's a twist, you have consistency with member sub-objects and base class sub-objects. They are both public for classes declared with <code>struct</code> and private for classes declared with <code>class</code>. Simple and easy to remember.</p>\n", "LastActivityDate": "2010-12-13T09:16:05.227", "CommentCount": "6", "CreationDate": "2010-12-13T09:16:05.227", "ParentId": "4427244", "Score": "7", "OwnerUserId": "19563"}, "4427307": {"Id": "4427307", "PostTypeId": "2", "Body": "<p>Doesn't this make sense given the default access for struct and class being different? (as in your first bullet point)</p>\n<p>If you inherit from a struct (which by default is public) then without specifying an access modifier, you are implying public inheritenance whereas If you inherit from a class (which by default is private) then without specifying an access modifier, you are implying private inheritenance.</p>\n<p>Did I miss something in your question?</p>\n", "LastActivityDate": "2010-12-13T09:17:43.460", "CommentCount": "2", "CreationDate": "2010-12-13T09:17:43.460", "ParentId": "4427244", "Score": "1", "OwnerUserId": "258009"}, "4427244": {"ViewCount": "1651", "Body": "<p>I know that there're few differences between <code>struct</code> and <code>class</code> in C++. I also understand the reason(s) for few of the difference(s). Like this one,</p>\n<ul>\n<li>Members of struct are <em>public by\ndefault</em>; members of class are\n<em>private by default</em>. The reason why members of struct are <em>public by default</em>, is to make <code>C++-struct</code> compatible with <code>C-struct</code>.  And the reason why member of class are <em>private by default</em>, is to introduce the concept of <em>data encapsulation</em> (i.e enforcing object-oriented principles/techniques/etc).</li>\n</ul>\n<p>What I don't understand is this, quoting the Standard $11.2/2 [class.access.base]</p>\n<blockquote>\n<p id=\"so_4427244_4427244_0\">In absence of an access-specifier for\n  a base class, public is assumed when\n  the derived class is declared struct\n  and private is assumed when the class\n  is declared class.</p>\n</blockquote>\n<p>What is the rationale for this twist and anti-uniformity? <strong>Why is this difference needed?</strong></p>\n<p>Example from the Standard,</p>\n<pre><code>class B {  };\nclass D1 : private B {  };\nclass D2 : public B { };\nclass D3 : B { };         //B private by default\nstruct D4 : public B { };\nstruct D5 : private B { };\nstruct D6 : B { };        //B public by default\nclass D7 : protected B { };\nstruct D8 : protected B { };\n</code></pre>\n<blockquote>\n<p id=\"so_4427244_4427244_1\">Here B is a public base of D2, D4, and\n  D6, a private base of D1, D3, and D5,\n  and a protected base of D7 and D8.</p>\n</blockquote>\n<hr>\n<h1>EDIT</h1>\n<p>Some of you might say, this difference makes sense given the default access for struct and class being different (the difference given in the bullet-point above). But I think, <code>inherited-struct</code> altogether is incompatible with <code>C-struct</code> (which doesn't support inheritance), no matter how you derive it. I may be wrong though. That is why I'm seeking good explanations, possibly with examples! :-)</p>\n</hr>", "AcceptedAnswerId": "4427292", "Title": "Rationale for difference in \"default\" access-specifier for a base class", "CreationDate": "2010-12-13T09:10:51.663", "Id": "4427244", "CommentCount": "0", "LastEditDate": "2010-12-13T09:36:07.067", "PostTypeId": "1", "LastEditorUserId": "415784", "LastActivityDate": "2010-12-13T09:55:20.883", "Score": "1", "OwnerUserId": "415784", "Tags": "<c++><inheritance><language-lawyer><access-specifier>", "AnswerCount": "2"}});