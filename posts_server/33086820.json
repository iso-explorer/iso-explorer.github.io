post_cb({"33086820": {"CommentCount": "2", "ViewCount": "140", "CreationDate": "2015-10-12T17:21:00.960", "LastActivityDate": "2015-10-12T17:55:24.403", "Title": "Default value for abstract class in constructor", "AcceptedAnswerId": "33087331", "PostTypeId": "1", "Id": "33086820", "Score": "0", "Body": "<p>I have a class whose constructor looks like</p>\n<pre><code>class foo\n{\npublic:\nfoo(Base const&amp; b);\nprivate:\nderived c;\nBase const&amp; b_;\n};\n</code></pre>\n<p>I would like c to be the default value for the constructor like</p>\n<pre><code>foo(Base const&amp; b = c):b_(b)\n</code></pre>\n<p>However I get an error saying :\na nonstatic member reference must be relative to a specific object</p>\n<p>How can I set a default value of a specific derived class for b?</p>\n", "Tags": "<c++><abstract-class>", "OwnerUserId": "2982762", "AnswerCount": "1"}, "33087331": {"ParentId": "33086820", "CommentCount": "0", "Body": "<p>This is straight up prohibited. From n3337:</p>\n<blockquote>\n<p id=\"so_33086820_33087331_0\">\u00a78.3.6/9 Similarly, a non-static member shall not be used in a default\n  argument, even if it is not evaluated, unless it appears as the\n  <em>id-expression</em> of a class member access expression (5.2.5) or unless it is used to form a pointer to member (5.3.1).</p>\n</blockquote>\n<p>In other words, for this to work, <code>c</code> must be <code>static</code> since no object is required to access a static data member.</p>\n<pre><code>class foo\n{\npublic:\nfoo(Base const&amp; b = c);\nprivate:\nstatic derived c;\nBase const&amp; b_;\n};\n</code></pre>\n", "OwnerUserId": "5437828", "PostTypeId": "2", "Id": "33087331", "Score": "2", "CreationDate": "2015-10-12T17:55:24.403", "LastActivityDate": "2015-10-12T17:55:24.403"}, "bq_ids": {"n4140": {"so_33086820_33087331_0": {"section_id": 3260, "quality": 0.8421052631578947, "length": 16}}, "n3337": {"so_33086820_33087331_0": {"section_id": 3132, "quality": 0.8421052631578947, "length": 16}}, "n4659": {"so_33086820_33087331_0": {"section_id": 4018, "quality": 0.6842105263157895, "length": 13}}}});