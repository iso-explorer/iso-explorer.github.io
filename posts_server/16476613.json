post_cb({"16476767": {"ParentId": "16476613", "PostTypeId": "2", "CommentCount": "7", "Body": "<p><code>dynamic_cast&lt;Derived*&gt;</code> can throw if the pointer passed to it (<code>base</code>) is invalid, since <code>dynamic_cast</code> needs to dereference it in order to know its dynamic type.</p>\n<p>EDIT: To be more specific. <code>dynamic_cast</code> will never throw a structured exception (<code>std::bad_cast</code>, for instance) when used with pointers, but it will probably throw an unstructured exception that you cannot catch when passed an invalid pointer. Using invalid pointers causes undefined behaviour, which in this case usually means access to invalid memory and a crash.</p>\n<p>Based on the memory dump you have attached to your question, it is clear that <code>pInfo</code> points to an invalid object, hence all those <code>&lt;Memory access error&gt;</code> messages. This means that <code>pInfo</code> is an invalid pointer and this is the reason why your program crashes. You have a bug somewhere and you will have to fix it.</p>\n", "OwnerUserId": "25824", "LastEditorUserId": "25824", "LastEditDate": "2013-05-10T10:23:03.080", "Id": "16476767", "Score": "4", "CreationDate": "2013-05-10T06:54:07.893", "LastActivityDate": "2013-05-10T10:23:03.080"}, "16478061": {"ParentId": "16476613", "CommentCount": "0", "Body": "<blockquote>\n<p id=\"so_16476613_16478061_0\">Any idea when the dynamic_cast can throw exception when used with pointer as I used in above source?</p>\n</blockquote>\n<p>In a well-defined program, <em>it cannot</em>. The standard does not allow it:</p>\n<blockquote>\n<p id=\"so_16476613_16478061_1\"><code>[C++11: 5.2.7/9]:</code> <strong>The value of a failed cast to pointer type is the null pointer value of the required result type.</strong> A failed cast to reference type throws <code>std::bad_cast</code> (18.7.2).</p>\n</blockquote>\n<p>However, if you pass <code>dynamic_cast</code> an invalid pointer, then you invoke <em>undefined behaviour</em> and <strong>anything</strong> may happen, including some implementation-defined C++ exception, or a runtime crash.</p>\n", "OwnerUserId": "560648", "PostTypeId": "2", "Id": "16478061", "Score": "11", "CreationDate": "2013-05-10T08:30:24.723", "LastActivityDate": "2013-05-10T08:30:24.723"}, "bq_ids": {"n4140": {"so_16476613_16478061_1": {"section_id": 6019, "quality": 0.8095238095238095, "length": 17}}, "n3337": {"so_16476613_16478061_1": {"section_id": 5787, "quality": 0.8095238095238095, "length": 17}}, "n4659": {"so_16476613_16478061_1": {"section_id": 7518, "quality": 0.8095238095238095, "length": 17}}}, "16476613": {"CommentCount": "1", "ViewCount": "11597", "PostTypeId": "1", "LastEditorUserId": "316737", "CreationDate": "2013-05-10T06:42:49.853", "LastActivityDate": "2013-05-10T10:23:03.080", "Title": "When dynamic_cast will throw exception in case used with pointer?", "FavoriteCount": "1", "LastEditDate": "2013-05-10T07:59:17.633", "Id": "16476613", "Score": "9", "Body": "<p>I am using dynamic_cast in my source to cast pointer as some thing like below,</p>\n<pre><code>Base *base = here storing the pointer;\n\nDerived *derived = dynamic_cast&lt;Derived*&gt;(base);\n</code></pre>\n<p>In the case of base doesn't have the pointer of the class hierarchy then cast fails and returns NULL. In next lines I am checking NULL. So no issues.</p>\n<p>I came across a crash dump, my application crashed due to  the dynamic_cast throws exception. </p>\n<p>I know dynamic_cast will throw only when used with reference types. </p>\n<p>Any idea when the dynamic_cast can throw exception when used with pointer as I used in above source?<img alt=\"enter image description here\" src=\"https://i.stack.imgur.com/MUET5.jpg\"/></p>\n", "Tags": "<c++><dynamic-cast>", "OwnerUserId": "316737", "AnswerCount": "2"}});