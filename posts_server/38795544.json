post_cb({"bq_ids": {"n4140": {"so_38795544_38796216_4": {"length": 22, "quality": 0.9565217391304348, "section_id": 6789}, "so_38795544_38796216_1": {"length": 4, "quality": 1.0, "section_id": 6764}, "so_38795544_38795544_1": {"length": 22, "quality": 0.9166666666666666, "section_id": 37}, "so_38795544_38796216_2": {"length": 4, "quality": 0.8, "section_id": 6765}, "so_38795544_38796216_3": {"length": 9, "quality": 1.0, "section_id": 6766}, "so_38795544_38796162_0": {"length": 8, "quality": 0.8888888888888888, "section_id": 37}}, "n3337": {"so_38795544_38796216_4": {"length": 22, "quality": 0.9565217391304348, "section_id": 6544}, "so_38795544_38796216_1": {"length": 4, "quality": 1.0, "section_id": 6519}, "so_38795544_38795544_1": {"length": 22, "quality": 0.9166666666666666, "section_id": 34}, "so_38795544_38796216_2": {"length": 4, "quality": 0.8, "section_id": 6520}, "so_38795544_38796216_3": {"length": 9, "quality": 1.0, "section_id": 6521}, "so_38795544_38796162_0": {"length": 8, "quality": 0.8888888888888888, "section_id": 34}}, "n4659": {"so_38795544_38796216_4": {"length": 22, "quality": 0.9565217391304348, "section_id": 8281}, "so_38795544_38796216_1": {"length": 4, "quality": 1.0, "section_id": 8258}, "so_38795544_38795544_1": {"length": 20, "quality": 0.8333333333333334, "section_id": 37}, "so_38795544_38796216_2": {"length": 4, "quality": 0.8, "section_id": 8259}, "so_38795544_38796216_3": {"length": 9, "quality": 1.0, "section_id": 8260}, "so_38795544_38796162_0": {"length": 8, "quality": 0.8888888888888888, "section_id": 37}}}, "38796162": {"Id": "38796162", "PostTypeId": "2", "Body": "<p>Casting of infinity to integer is undefined.</p>\n<blockquote>\n<p id=\"so_38795544_38796162_0\">The behavior is undefined if the truncated value cannot be represented in the destination type.</p>\n</blockquote>\n<p>Says it all. Since truncation removes precision but not magnitude, a truncated infinity is still infinity and integers cannot represent infinity.</p>\n", "LastActivityDate": "2016-08-05T19:02:14.397", "CommentCount": "0", "CreationDate": "2016-08-05T19:02:14.397", "ParentId": "38795544", "Score": "20", "OwnerUserId": "973872"}, "38795544": {"ViewCount": "1450", "Body": "<p>Is the casting of infinity (represented by float) to an integer an undefined behavior?</p>\n<p>The standard says:</p>\n<blockquote>\n<p id=\"so_38795544_38795544_0\">4.10  Floating-integral conversions</p>\n<p id=\"so_38795544_38795544_1\">A prvalue of a floating point type can be converted to a prvalue of an\n  integer type. The conversion truncates; that is, the fractional part\n  is discarded. The behavior is undefined if the truncated value cannot\n  be represented in the destination type.</p>\n</blockquote>\n<p>but I can't tell whether \"truncated value cannot be represented\" covers infinity.</p>\n<p>I'm trying to understand why <code>std::numeric_limits&lt;int&gt;::infinity()</code> and <code>static_cast&lt;int&gt;(std::numeric_limits&lt;float&gt;::infinity() )</code> have different results.</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;limits&gt;\n\nint main ()\n{\n    std::cout &lt;&lt; std::numeric_limits&lt;int&gt;::infinity () &lt;&lt; std::endl;\n    std::cout &lt;&lt; static_cast&lt;int&gt; (std::numeric_limits&lt;float&gt;::infinity () ) &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>0  \n-2147483648  \n</code></pre>\n<p>The result of <code>std::numeric_limits&lt;int&gt;::infinity()</code> <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/infinity\">is well defined</a> and equal to <code>0</code>, but I can't find any information about casting infinity.</p>\n", "AcceptedAnswerId": "38796403", "Title": "Is casting of infinity to integer undefined?", "CreationDate": "2016-08-05T18:15:02.490", "Id": "38795544", "CommentCount": "15", "LastEditDate": "2016-08-05T18:19:01.587", "PostTypeId": "1", "LastEditorUserId": "513951", "LastActivityDate": "2016-08-06T01:07:09.123", "Score": "24", "OwnerUserId": "3175480", "Tags": "<c++><undefined-behavior>", "AnswerCount": "3"}, "38796216": {"Id": "38796216", "PostTypeId": "2", "Body": "<blockquote>\n<p id=\"so_38795544_38796216_0\">I'm trying to understand why <code>std::numeric_limits&lt;int&gt;::infinity()</code> and <code>static_cast&lt;int&gt;(std::numeric_limits&lt;float&gt;::infinity() )</code> have different results.</p>\n</blockquote>\n<p>The standard says: <a href=\"http://eel.is/c++draft/numeric.limits.members\" rel=\"nofollow\">18.3.2.4</a></p>\n<blockquote>\n<p id=\"so_38795544_38796216_1\">static constexpr T infinity() noexcept;</p>\n<p id=\"so_38795544_38796216_2\">47 Representation of positive infinity, if available. [216]</p>\n<p id=\"so_38795544_38796216_3\">48 Meaningful for all specializations for which has_infinity != false. Required in specializations for which is_iec559 != false.</p>\n</blockquote>\n<p>--- edit ---</p>\n<p>According to 18.3.2.7/1 [numeric.special]</p>\n<blockquote>\n<p id=\"so_38795544_38796216_4\">1 All members shall be provided for all specializations. However, many values are only required to be meaningful under certain conditions (for example, epsilon() is only meaningful if is_integer is false). Any value that is not \u201cmeaningful\u201d shall be set to 0 or false.</p>\n</blockquote>\n", "LastEditorUserId": "978917", "LastActivityDate": "2016-08-06T01:07:09.123", "Score": "4", "CreationDate": "2016-08-05T19:06:21.487", "ParentId": "38795544", "CommentCount": "2", "OwnerUserId": "257645", "LastEditDate": "2016-08-06T01:07:09.123"}, "38796403": {"Id": "38796403", "PostTypeId": "2", "Body": "<p>You said</p>\n<blockquote>\n<p id=\"so_38795544_38796403_0\">I can't tell whether \"truncated value cannot be represented\" covers infinity</p>\n</blockquote>\n<p>but it all boils down to</p>\n<blockquote>\n<p id=\"so_38795544_38796403_1\">What is the result of truncating infinity.</p>\n</blockquote>\n<p>The C standard (incorporated into C++ via 26.9) answers that quite plainly:</p>\n<p><a href=\"https://i.stack.imgur.com/85Trw.png\" rel=\"noreferrer\"><img alt=\"C standard semantics for &lt;code&gt;trunc&lt;/code&gt;\" src=\"https://i.stack.imgur.com/85Trw.png\"/></a></p>\n<p>Since truncation of infinity is still infinity, and infinity cannot be represented in <code>int</code> (I hope there's no question about this part), the behavior is undefined.</p>\n", "LastActivityDate": "2016-08-05T19:18:56.013", "CommentCount": "1", "CreationDate": "2016-08-05T19:18:56.013", "ParentId": "38795544", "Score": "15", "OwnerUserId": "103167"}});