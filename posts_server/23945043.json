post_cb({"bq_ids": {"n4140": {"so_23945043_23945179_0": {"section_id": 6016, "quality": 0.8, "length": 4}, "so_23945043_23945179_1": {"section_id": 7002, "quality": 0.875, "length": 7}}, "n3337": {"so_23945043_23945179_0": {"section_id": 5784, "quality": 1.0, "length": 5}, "so_23945043_23945179_1": {"section_id": 6748, "quality": 0.875, "length": 7}}, "n4659": {"so_23945043_23945179_0": {"section_id": 7515, "quality": 0.8, "length": 4}, "so_23945043_23945179_1": {"section_id": 8499, "quality": 0.875, "length": 7}}}, "23945043": {"CommentCount": "2", "AcceptedAnswerId": "23945069", "CreationDate": "2014-05-30T00:09:19.990", "LastActivityDate": "2014-05-30T00:24:16.463", "PostTypeId": "1", "ViewCount": "773", "FavoriteCount": "2", "Title": "Does dynamic_cast require virtual function?", "Id": "23945043", "Score": "1", "Body": "<p>For example:</p>\n<pre><code>class Animal\n{\n    virtual void dummy() {};         //LINE1\n}\n\nclass Cat : public Animal\n{\n\n}\n\nAnimal* a = new Cat();\nif (Cat* c = dynamic_cast&lt;Cat*&gt; (a))  //LINE2\n{\n     //Do something.\n}\n</code></pre>\n<p>If I remove LINE1 from the Animal class (i.e. Animal class does not contain virtual members), LINE2 will not work. </p>\n", "Tags": "<c++>", "OwnerUserId": "3079117", "AnswerCount": "2"}, "23945179": {"ParentId": "23945043", "CommentCount": "0", "Body": "<p><code>dynamic_cast</code> can cast to the same class or base class without virtual members. But for downcasting or casting to <code>void*</code> (which yields a pointer to the most derived class object) <code>dynamic_cast</code> requires a polymorphic class, per C++11 \u00a75.2.7/6:</p>\n<blockquote>\n<p id=\"so_23945043_23945179_0\">\u201cOtherwise, <code>v</code> shall be a pointer to or an lvalue of a polymorphic type\u201d</p>\n</blockquote>\n<p>where <code>v</code> is the argument you supply.</p>\n<p>A polymorphic class is one that has one or more virtual member functions, \u00a710.3/1:</p>\n<blockquote>\n<p id=\"so_23945043_23945179_1\">\u201cA class that declares or\n  inherits a virtual function is called a polymorphic class.\u201d</p>\n</blockquote>\n", "OwnerUserId": "464581", "PostTypeId": "2", "Id": "23945179", "Score": "8", "CreationDate": "2014-05-30T00:24:16.463", "LastActivityDate": "2014-05-30T00:24:16.463"}, "23945069": {"ParentId": "23945043", "CommentCount": "0", "Body": "<p>Yes it does, as per the standard, <code>dynamic_cast</code> can only downcast polymorphic types (i.e. a type with at least one virtual function)</p>\n", "OwnerUserId": "3510483", "PostTypeId": "2", "Id": "23945069", "Score": "8", "CreationDate": "2014-05-30T00:11:44.523", "LastActivityDate": "2014-05-30T00:11:44.523"}});