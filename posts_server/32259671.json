post_cb({"32259671": {"CommentCount": "5", "ViewCount": "144", "PostTypeId": "1", "LastEditorUserId": "3002139", "CreationDate": "2015-08-27T21:23:40.853", "LastActivityDate": "2015-08-27T23:32:20.190", "Title": "Bug in <unordered_set>?", "AcceptedAnswerId": "32259806", "LastEditDate": "2015-08-27T23:32:20.190", "Id": "32259671", "Score": "2", "Body": "<p>I am building a header-only library (for good reasons; don't hate) which contains a class and the implementations of the class member functions. In doing so I ran into a very odd error with <code>&lt;unordered_set&gt;</code>. Searches of GCC's Bugzilla turn up nothing that seem to address this. </p>\n<p>My code which breaks (badly) has the includes inside my namespace.</p>\n<pre><code>namespace probability {\n\n#include &lt;string&gt;\n#include &lt;unordered_set&gt;  // only this include breaks\n#include &lt;unordered_map&gt;  \n\nclass ProbabilityTools\n{\n...\n</code></pre>\n<p>By chance, I moved the #includes outside of the class namespace and it fixed the problem with <code>&lt;unordered_set&gt;</code>. None of the other includes caused this problem when placed INSIDE the namespace, only <code>&lt;unordered_set&gt;</code>.</p>\n<pre><code>#include &lt;string&gt;\n#include &lt;unordered_set&gt;   // works when outside the namespace\n#include &lt;unordered_map&gt;\n\nnamespace probability {\n\nclass ProbabilityTools\n{\n...\n</code></pre>\n<p>I am using GCC g++ 4.8 with -std=c++11 to build this code which works in the second configuration and works as far as <code>&lt;unordered_map&gt;</code> use, in both configurations.</p>\n<p>Might this be an libstdc++ bug? GCC bug?</p>\n", "Tags": "<c++><libstdc++><c++-standard-library><g++4.8>", "OwnerUserId": "1739630", "AnswerCount": "1"}, "32259806": {"ParentId": "32259671", "CommentCount": "2", "Body": "<p>You should not place standard <code>#include</code> directives inside a namespace.  See C++14 [using.headers]/3 (which is speaking about the standard library's headers):</p>\n<blockquote>\n<p id=\"so_32259671_32259806_0\">A translation unit shall include a header only outside of any external declaration or definition, and shall include the header lexically before the first reference to any of the entities it declares or first defines in that translation unit.</p>\n</blockquote>\n", "OwnerUserId": "1505939", "PostTypeId": "2", "Id": "32259806", "Score": "10", "CreationDate": "2015-08-27T21:32:32.177", "LastActivityDate": "2015-08-27T21:32:32.177"}, "bq_ids": {"n4140": {"so_32259671_32259806_0": {"section_id": 6270, "quality": 0.75, "length": 15}}, "n3337": {"so_32259671_32259806_0": {"section_id": 6030, "quality": 0.75, "length": 15}}, "n4659": {"so_32259671_32259806_0": {"section_id": 7776, "quality": 0.7, "length": 14}}}});