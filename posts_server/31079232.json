post_cb({"31079298": {"ParentId": "31079232", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Parameter a is a pointer to an incomplete type. You cannot use sizeof on it since it is a pointer to an array and the size of the array isn't defined.</p>\n<p>You can define it:</p>\n<pre><code>void func(int (*a)[10]){\n</code></pre>\n<p>In this case <code>sizeof(*a)</code> will equal to <code>sizeof( int )*10</code> and <code>sizeof(*a)/sizeof(int);</code> will give the element count of a, which is 10 in this case. </p>\n<p>Since you are passing a pointer to an array of size 3 you should use 3 not 10.\nYou can use forward parameters to have a variable sized argument <code>a</code>.</p>\n", "OwnerUserId": "2327831", "LastEditorUserId": "2327831", "LastEditDate": "2015-06-26T17:54:36.810", "Id": "31079298", "Score": "6", "CreationDate": "2015-06-26T17:53:01.737", "LastActivityDate": "2015-06-26T17:54:36.810"}, "bq_ids": {"n4140": {"so_31079232_31079326_0": {"section_id": 6076, "quality": 0.7777777777777778, "length": 7}}, "n3337": {"so_31079232_31079326_0": {"section_id": 5844, "quality": 0.7777777777777778, "length": 7}}, "n4659": {"so_31079232_31079326_0": {"section_id": 7572, "quality": 0.7777777777777778, "length": 7}}}, "31079232": {"CommentCount": "6", "CreationDate": "2015-06-26T17:48:32.347", "PostTypeId": "1", "AcceptedAnswerId": "31079298", "LastEditorUserId": "4342498", "LastActivityDate": "2015-06-26T18:01:14.010", "LastEditDate": "2015-06-26T17:51:43.550", "ViewCount": "165", "FavoriteCount": "0", "Title": "Why is this sizeof operator giving error?", "Id": "31079232", "Score": "1", "Body": "<p>In this program, the line <code>int len = sizeof(*a)/sizeof(int);</code> gives the error, however if I write this <code>int len = sizeof(**a)/sizeof(int);</code> or this <code>int len = sizeof(a)/sizeof(int);</code>, it works fine. Why is that? Here <code>a</code> holds the address of 1-D array and when I do this, <code>*a</code>, it gives the address of first element of the array and finally <code>**a</code> gives the element itself. So based on this the line <code>int len = sizeof(*a)/sizeof(int);</code> should work fine, isn't it?</p>\n<pre><code>#include &lt;stdio.h&gt;\n\nvoid func(int (*a)[]){\n    printf(\"%d %d\\n\", sizeof(a), sizeof(int));\n    int len = sizeof(*a)/sizeof(int);  // error\n    for(int i = 0; i &lt; len; ++i){\n        printf(\"%d \", (*a)[i]);\n    }\n}\n\nint main(){\n    int a[][3] = {\n        {1, 2, 3},\n        {4, 5, 6}\n    };\n    func(a);\n    return 0;\n}\n</code></pre>\n", "Tags": "<c++><c><pointers>", "OwnerUserId": "3484291", "AnswerCount": "2"}, "31079326": {"ParentId": "31079232", "PostTypeId": "2", "CommentCount": "0", "Body": "<p>Standard says:  </p>\n<h3>C11: 6.5.3.4</h3>\n<blockquote>\n<p id=\"so_31079232_31079326_0\">The <code>sizeof</code> operator shall not be applied to an expression that has function type or an <strong>incomplete type</strong> [..]  </p>\n</blockquote>\n<p><strong>An array type of unknown size is an incomplete type</strong> (C11: 6.2.5 Types--p22). <code>*a</code> in <code>func</code> is of incomplete type. You need to specify the length of the array <code>a</code> points to before using it as an operand of <code>sizeof</code>.</p>\n", "OwnerUserId": "2455888", "LastEditorUserId": "2455888", "LastEditDate": "2015-06-26T18:01:14.010", "Id": "31079326", "Score": "6", "CreationDate": "2015-06-26T17:54:42.783", "LastActivityDate": "2015-06-26T18:01:14.010"}});